(()=>{var D=(t,e)=>()=>(e||(e={exports:{}},t(e.exports,e)),e.exports);var hc=D((Rz,Jl)=>{"use strict";var X2=function(){function t(){}return t.value=new t,t}(),x2=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();Jl.exports={Nothing:X2,Just:x2}});var eu=D(tu=>{"use strict";tu.log=function(t){return function(){return console.log(t),{}}}});var su=D((Uz,nu)=>{"use strict";var Z2=eu();nu.exports={log:Z2.log}});var ru=D(yc=>{"use strict";yc.getCanvasElementByIdImpl=function(t,e,n){return function(){var s=document.getElementById(t);return s&&s instanceof HTMLCanvasElement?e(s):n}};yc.getContext2D=function(t){return function(){return t.getContext("2d")}}});var au=D((qz,ou)=>{"use strict";var iu=ru(),cu=hc(),Q2=function(t){return iu.getCanvasElementByIdImpl(t,cu.Just.create,cu.Nothing.value)};ou.exports={getCanvasElementById:Q2,getContext2D:iu.getContext2D}});var Zt=D(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});const W2=t=>t!=null,K2=t=>t!==void 0,J2=()=>typeof BigInt=="function",t3=()=>typeof window!="undefined"&&window.crypto!==void 0,e3=(t,e)=>e!=null&&e.length<=t,n3=(t,e)=>e!=null&&e.length>=t,lu=t=>typeof t=="function",s3=()=>typeof performance!="undefined"&&lu(performance.now),r3=()=>typeof window!="undefined"&&typeof window.WebAssembly!="undefined"||typeof global!="undefined"&&typeof global.WebAssembly!="undefined",o3=()=>{try{return document.createElement("canvas").getContext("webgl"),!0}catch(t){return!1}},i3=()=>typeof WebSocket!="undefined",gc=(t,e)=>t!=null&&typeof t[e]=="function",c3=t=>/^[a-z]+$/i.test(t),a3=t=>/^[a-z0-9]+$/i.test(t),l3=t=>/^[0-9]+$/.test(t),u3=Array.isArray,d3=t=>t!=null&&typeof t!="function"&&t.length!==void 0,f3=t=>/^[\x00-\x7f]+$/.test(t),p3=t=>/^[\x20-\x7e]+$/.test(t),m3=t=>t!=null&&typeof t[Symbol.asyncIterator]=="function",h3=t=>t instanceof Blob,y3=t=>typeof t=="boolean",uu=()=>typeof window!="undefined"&&!!window.chrome,g3=t=>/^data:.+\/(.+);base64,/.test(t),S3=t=>t instanceof Date,b3=t=>t%2===0,N3=t=>t===!1,A3=t=>t instanceof File,T3=()=>typeof window!="undefined"&&!!window.InstallTrigger,I3=/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,w3=t=>t.length>0&&I3.test(t),C3=t=>/^[a-f0-9]+$/i.test(t),du=t=>typeof t=="string",E3=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,P3=t=>du(t)&&E3.test(t),O3=()=>typeof document!="undefined"&&(typeof document.documentMode!="undefined"||navigator.userAgent.indexOf("MSIE")>0),M3=(t,e,n)=>n>=t&&n<=e,L3=t=>typeof t=="number"&&(t|0)===t,R3=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,v3=t=>R3.test(t),U3=t=>t!=null&&typeof t[Symbol.iterator]=="function",_3=t=>t instanceof Map,q3=()=>typeof navigator!="undefined"&&/mobile|tablet|ip(ad|hone|od)|android|silk|crios/i.test(navigator.userAgent),k3=t=>t!==t,B3=t=>typeof t=="number"&&t<0,D3=t=>t==null,G3=()=>typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node!="undefined",Y3=t=>t!=null&&typeof t!="string"&&typeof t[Symbol.iterator]=="function",z3=t=>t===null,j3=t=>typeof t=="number",$3=t=>t!==null&&typeof t=="object",V3=t=>t%2!==0,fu=Object.getPrototypeOf,F3=t=>{let e;return t!=null&&typeof t=="object"&&((e=fu(t))===null||fu(e)===null)},H3=t=>typeof t=="number"&&t>0,X3=t=>{const e=typeof t;return e==="string"||e==="number"},x3=t=>t instanceof Promise,Z3=t=>t instanceof Promise||gc(t,"then")&&gc(t,"catch"),Q3=t=>t instanceof RegExp,W3=()=>typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!uu(),K3=t=>t instanceof Set,J3=t=>typeof t=="symbol",ty=t=>t instanceof ArrayBuffer||typeof SharedArrayBuffer!="undefined"&&t instanceof SharedArrayBuffer||typeof MessagePort!="undefined"&&t instanceof MessagePort,ey=t=>t===!0,ny=t=>t&&(t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Int8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Uint8ClampedArray),sy=t=>typeof t=="number"&&t>>>0===t,ry=t=>t===void 0,oy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,iy=t=>oy.test(t),cy=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,ay=t=>cy.test(t),ly=t=>t===0;M.exists=K2;M.existsAndNotNull=W2;M.hasBigInt=J2;M.hasCrypto=t3;M.hasMaxLength=e3;M.hasMinLength=n3;M.hasPerformance=s3;M.hasWASM=r3;M.hasWebGL=o3;M.hasWebSocket=i3;M.implementsFunction=gc;M.isASCII=f3;M.isAlpha=c3;M.isAlphaNum=a3;M.isArray=u3;M.isArrayLike=d3;M.isAsyncIterable=m3;M.isBlob=h3;M.isBoolean=y3;M.isChrome=uu;M.isDataURL=g3;M.isDate=S3;M.isEven=b3;M.isFalse=N3;M.isFile=A3;M.isFirefox=T3;M.isFloatString=w3;M.isFunction=lu;M.isHex=C3;M.isHexColor=P3;M.isIE=O3;M.isInRange=M3;M.isInt32=L3;M.isIntString=v3;M.isIterable=U3;M.isMap=_3;M.isMobile=q3;M.isNaN=k3;M.isNegative=B3;M.isNil=D3;M.isNode=G3;M.isNotStringAndIterable=Y3;M.isNull=z3;M.isNumber=j3;M.isNumeric=l3;M.isObject=$3;M.isOdd=V3;M.isPlainObject=F3;M.isPositive=H3;M.isPrimitive=X3;M.isPrintableASCII=p3;M.isPromise=x3;M.isPromiseLike=Z3;M.isRegExp=Q3;M.isSafari=W3;M.isSet=K3;M.isString=du;M.isSymbol=J3;M.isTransferable=ty;M.isTrue=ey;M.isTypedArray=ny;M.isUUID=iy;M.isUUIDv4=ay;M.isUint32=sy;M.isUndefined=ry;M.isZero=ly});var Jn=D(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});(function(t){t[t.ILLEGAL=-1]="ILLEGAL",t[t.COLINEAR=0]="COLINEAR",t[t.CONVEX=1]="CONVEX",t[t.CONCAVE=2]="CONCAVE"})(he.Convexity||(he.Convexity={}));(function(t){t[t.NONE=0]="NONE",t[t.PARALLEL=1]="PARALLEL",t[t.COINCIDENT=2]="COINCIDENT",t[t.COINCIDENT_NO_INTERSECT=3]="COINCIDENT_NO_INTERSECT",t[t.INTERSECT=4]="INTERSECT",t[t.INTERSECT_OUTSIDE=5]="INTERSECT_OUTSIDE"})(he.IntersectionType||(he.IntersectionType={}));(function(t){t[t.MOVE=0]="MOVE",t[t.LINE=1]="LINE",t[t.POLYLINE=2]="POLYLINE",t[t.ARC=3]="ARC",t[t.CUBIC=4]="CUBIC",t[t.QUADRATIC=5]="QUADRATIC",t[t.CLOSE=6]="CLOSE"})(he.SegmentType||(he.SegmentType={}));he.DEFAULT_SAMPLES=20;const uy=t=>he.DEFAULT_SAMPLES=t;(function(t){t[t.AABB=1]="AABB",t[t.ARC=2]="ARC",t[t.CIRCLE=3]="CIRCLE",t[t.CONE=4]="CONE",t[t.CUBIC=5]="CUBIC",t[t.CUBIC3=6]="CUBIC3",t[t.CYLINDER=7]="CYLINDER",t[t.ELLIPSE=8]="ELLIPSE",t[t.GROUP=9]="GROUP",t[t.LINE=10]="LINE",t[t.LINE3=11]="LINE3",t[t.PATH=12]="PATH",t[t.PLANE=13]="PLANE",t[t.POINTS=14]="POINTS",t[t.POINTS3=15]="POINTS3",t[t.POLYGON=16]="POLYGON",t[t.POLYGON3=17]="POLYGON3",t[t.POLYLINE=18]="POLYLINE",t[t.POLYLINE3=19]="POLYLINE3",t[t.QUAD=20]="QUAD",t[t.QUAD3=21]="QUAD3",t[t.QUADRATIC=22]="QUADRATIC",t[t.QUADRATIC3=23]="QUADRATIC3",t[t.RECT=24]="RECT",t[t.SPHERE=25]="SPHERE",t[t.TRIANGLE=26]="TRIANGLE",t[t.TRIANGLE3=27]="TRIANGLE3",t[t.RAY=28]="RAY",t[t.RAY3=29]="RAY3",t[t.TEXT=30]="TEXT",t[t.TEXT3=31]="TEXT3"})(he.Type||(he.Type={}));he.setDefaultSamples=uy});var ts=D(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});const pu=t=>t!=null&&typeof t.deref=="function",dy=t=>pu(t)?t.deref():t;(function(t){t[t.FINE=0]="FINE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.SEVERE=4]="SEVERE",t[t.NONE=5]="NONE"})(w.LogLevel||(w.LogLevel={}));(function(t){t[t.U8=0]="U8",t[t.U8C=1]="U8C",t[t.I8=2]="I8",t[t.U16=3]="U16",t[t.I16=4]="I16",t[t.U32=5]="U32",t[t.I32=6]="I32",t[t.F32=7]="F32",t[t.F64=8]="F64"})(w.Type||(w.Type={}));(function(t){t[t.I8=5120]="I8",t[t.U8=5121]="U8",t[t.I16=5122]="I16",t[t.U16=5123]="U16",t[t.I32=5124]="I32",t[t.U32=5125]="U32",t[t.F32=5126]="F32"})(w.GLType||(w.GLType={}));const fy={[w.GLType.I8]:w.Type.I8,[w.GLType.U8]:w.Type.U8,[w.GLType.I16]:w.Type.I16,[w.GLType.U16]:w.Type.U16,[w.GLType.I32]:w.Type.I32,[w.GLType.U32]:w.Type.U32,[w.GLType.F32]:w.Type.F32},py={[w.Type.I8]:w.GLType.I8,[w.Type.U8]:w.GLType.U8,[w.Type.U8C]:w.GLType.U8,[w.Type.I16]:w.GLType.I16,[w.Type.U16]:w.GLType.U16,[w.Type.I32]:w.GLType.I32,[w.Type.I32]:w.GLType.I32,[w.Type.U32]:w.GLType.U32,[w.Type.F32]:w.GLType.F32,[w.Type.F64]:void 0},my={[w.Type.U8]:1,[w.Type.U8C]:1,[w.Type.I8]:1,[w.Type.U16]:2,[w.Type.I16]:2,[w.Type.U32]:4,[w.Type.I32]:4,[w.Type.F32]:4,[w.Type.F64]:8},mu={[w.Type.U8]:Uint8Array,[w.Type.U8C]:Uint8ClampedArray,[w.Type.I8]:Int8Array,[w.Type.U16]:Uint16Array,[w.Type.I16]:Int16Array,[w.Type.U32]:Uint32Array,[w.Type.I32]:Int32Array,[w.Type.F32]:Float32Array,[w.Type.F64]:Float64Array,[w.GLType.U8]:Uint8Array,[w.GLType.I8]:Int8Array,[w.GLType.U16]:Uint16Array,[w.GLType.I16]:Int16Array,[w.GLType.U32]:Uint32Array,[w.GLType.I32]:Int32Array,[w.GLType.F32]:Float32Array};function hy(t,...e){return new mu[t](...e)}const yy=t=>t<=256?w.Type.U8:t<=65536?w.Type.U16:w.Type.U32,gy=t=>t>=-128&&t<128?w.Type.I8:t>=-32768&&t<32768?w.Type.I16:w.Type.I32,Sy=1e-6,by=Symbol(),hu=()=>{},yu="*",gu="enable",Su="disable",bu=(()=>{try{return process.env.NODE_ENV!=="production"||process.env.UMBRELLA_ASSERTS==="1"}catch(t){}return!1})()?(t,e="assertion failed")=>{if(typeof t=="function"&&!t()||!t)throw new Error(typeof e=="function"?e():e)}:hu,Ny=(t,e,n=!1)=>{const s=typeof global!="undefined"?global:typeof window!="undefined"?window:void 0;s&&(n||(()=>{try{return process.env.NODE_ENV!=="production"||process.env.UMBRELLA_GLOBALS==="1"}catch(r){}return!1})())&&(s[t]=e)},Ay=Object.freeze({level:w.LogLevel.NONE,fine(){},debug(){},info(){},warn(){},severe(){}});class Ty{constructor(t,e=w.LogLevel.FINE){this.id=t,this.level=e}fine(...t){this.level<=w.LogLevel.FINE&&this.log("FINE",t)}debug(...t){this.level<=w.LogLevel.DEBUG&&this.log("DEBUG",t)}info(...t){this.level<=w.LogLevel.INFO&&this.log("INFO",t)}warn(...t){this.level<=w.LogLevel.WARN&&this.log("WARN",t)}severe(...t){this.level<=w.LogLevel.SEVERE&&this.log("SEVERE",t)}log(t,e){console.log(`[${t}] ${this.id}:`,...e)}}const ur=(t,e={})=>{const n=Reflect.ownKeys(t),s=Reflect.ownKeys(e),r=Symbol("isa");function o(i){for(let a of n){const l=Object.getOwnPropertyDescriptor(i.prototype,a);!l||l.configurable?Object.defineProperty(i.prototype,a,{value:t[a],writable:!0}):console.log(`not patching: ${i.name}.${a.toString()}`)}return Object.defineProperty(i.prototype,r,{value:!0}),i}for(let i of s)Object.defineProperty(o,i,{value:e[i],enumerable:e.propertyIsEnumerable(i)});return Object.defineProperty(o,Symbol.hasInstance,{value:i=>!!i[r]}),o},Iy=t=>function(e,n,s){s.configurable=t},wy=(t,e=console.log)=>function(n,s,r){const o=`${n.constructor.name}#${s.toString()}`,i=r.value;return bu(typeof i=="function",`${o} is not a function`),r.value=function(){return e(`DEPRECATED ${o}: ${t||"will be removed soon"}`),i.apply(this,arguments)},r},Cy=(t,e,n)=>{n.configurable=!1},Ey=t=>{Object.seal(t),Object.seal(t.prototype)},Py=ur({_enabled:!0,isEnabled(){return this._enabled},enable(){this._enabled=!0,this.notify&&this.notify({id:gu,target:this})},disable(){this._enabled=!1,this.notify&&this.notify({id:Su,target:this})},toggle(){return this._enabled?this.disable():this.enable(),this._enabled}}),Sc=(t,e)=>{if(!t)return;for(let n=0,s=t.length,r;n<s;n++)if(r=t[n],r[0].call(r[1],e),e.canceled)return},Oy=ur({addListener(t,e,n){let s=(this._listeners=this._listeners||{})[t];return!s&&(s=this._listeners[t]=[]),this.__listener(s,e,n)===-1?(s.push([e,n]),!0):!1},removeListener(t,e,n){let s;if(!(s=this._listeners))return!1;const r=s[t];if(r){const o=this.__listener(r,e,n);if(o!==-1)return r.splice(o,1),!r.length&&delete s[t],!0}return!1},notify(t){let e;if(!(e=this._listeners))return!1;t.target===void 0&&(t.target=this),Sc(e[t.id],t),Sc(e[yu],t)},__listener(t,e,n){let s=t.length;for(;--s>=0;){const r=t[s];if(r[0]===e&&r[1]===n)break}return s}}),My=t=>ur({*[Symbol.iterator](){yield*this[t]}}),Ly=ur({addWatch(t,e){return this._watches=this._watches||{},this._watches[t]?!1:(this._watches[t]=e,!0)},removeWatch(t){return this._watches?this._watches[t]?(delete this._watches[t],!0):!1:void 0},notifyWatches(t,e){if(!this._watches)return;const n=this._watches;for(let s in n)n[s](s,t,e)}});w.ConsoleLogger=Ty;w.DEFAULT_EPS=Sy;w.EVENT_ALL=yu;w.EVENT_DISABLE=Su;w.EVENT_ENABLE=gu;w.GL2TYPE=fy;w.IEnableMixin=Py;w.INotifyMixin=Oy;w.IWatchMixin=Ly;w.NO_OP=hu;w.NULL_LOGGER=Ay;w.SEMAPHORE=by;w.SIZEOF=my;w.TYPE2GL=py;w.TYPEDARRAY_CTORS=mu;w.assert=bu;w.configurable=Iy;w.deprecated=wy;w.deref=dy;w.exposeGlobal=Ny;w.inotify_dispatch=Sc;w.intType=gy;w.isDeref=pu;w.iterable=My;w.mixin=ur;w.nomixin=Cy;w.sealed=Ey;w.typedArray=hy;w.uintType=yy});var De=D(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});const dr=(t,e=n=>n!==void 0?": "+n:"")=>class extends Error{constructor(n){super(t(n)+e(n))}},Nu=dr(()=>"illegal argument(s)"),Ry=t=>{throw new Nu(t)},Au=dr(()=>"illegal arity"),vy=t=>{throw new Au(t)},Tu=dr(()=>"illegal state"),Uy=t=>{throw new Tu(t)},Iu=dr(()=>"unsupported operation"),_y=t=>{throw new Iu(t)};Be.IllegalArgumentError=Nu;Be.IllegalArityError=Au;Be.IllegalStateError=Tu;Be.UnsupportedOperationError=Iu;Be.defError=dr;Be.illegalArgs=Ry;Be.illegalArity=vy;Be.illegalState=Uy;Be.unsupported=_y});var Nc=D(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});var wu=De();function bc(...t){let[e,n,s,r,o,i,a,l,u,f]=t;switch(t.length){case 0:wu.illegalArity(0);case 1:return e;case 2:return(...b)=>e(n(...b));case 3:return(...b)=>e(n(s(...b)));case 4:return(...b)=>e(n(s(r(...b))));case 5:return(...b)=>e(n(s(r(o(...b)))));case 6:return(...b)=>e(n(s(r(o(i(...b))))));case 7:return(...b)=>e(n(s(r(o(i(a(...b)))))));case 8:return(...b)=>e(n(s(r(o(i(a(l(...b))))))));case 9:return(...b)=>e(n(s(r(o(i(a(l(u(...b)))))))));case 10:default:const y=(...b)=>e(n(s(r(o(i(a(l(u(f(...b))))))))));return t.length===10?y:bc(y,...t.slice(10))}}function Cu(...t){return bc.apply(null,t.reverse())}const qy=Cu;function ky(t){return(...e)=>!t(...e)}const By=t=>()=>t,Dy=t=>new Eu(t);class Eu{constructor(t){this.body=t,this.realized=!1}deref(){return this.realized||(this.value=this.body(),this.realized=!0),this.value}isRealized(){return this.realized}}const Gy=(t,e)=>new Promise(n=>setTimeout(()=>n(t),e)),Yy=t=>t,zy=(t,e)=>e!=null?t(e):void 0;function jy(...t){const[e,n,s,r,o,i,a,l]=t;switch(t.length){case 1:return u=>[e(u)];case 2:return u=>[e(u),n(u)];case 3:return u=>[e(u),n(u),s(u)];case 4:return u=>[e(u),n(u),s(u),r(u)];case 5:return u=>[e(u),n(u),s(u),r(u),o(u)];case 6:return u=>[e(u),n(u),s(u),r(u),o(u),i(u)];case 7:return u=>[e(u),n(u),s(u),r(u),o(u),i(u),a(u)];case 8:return u=>[e(u),n(u),s(u),r(u),o(u),i(u),a(u),l(u)];default:return u=>{let f=new Array(t.length);for(let y=t.length;--y>=0;)f[y]=t[y](u);return f}}}function $y(t,...e){let[n,s,r,o,i,a,l,u]=e;switch(e.length){case 1:return(...f)=>t(n,...f);case 2:return(...f)=>t(n,s,...f);case 3:return(...f)=>t(n,s,r,...f);case 4:return(...f)=>t(n,s,r,o,...f);case 5:return(...f)=>t(n,s,r,o,i,...f);case 6:return(...f)=>t(n,s,r,o,i,a,...f);case 7:return(...f)=>t(n,s,r,o,i,a,l,...f);case 8:return(...f)=>t(n,s,r,o,i,a,l,u,...f);default:wu.illegalArgs()}}const Vy=t=>new Promise((e,n)=>t((s,r)=>s!=null?n(s):e(r))),Fy=(t,...e)=>e.reduce((n,s)=>typeof s=="function"?s(n):s[0](n,...s.slice(1)),t),Hy=(t,...e)=>e.reduce((n,s)=>typeof s=="function"?s(n):s[0](...s.slice(1),n),t),Xy=t=>{for(;typeof t=="function";)t=t();return t};vt.Delay=Eu;vt.comp=bc;vt.compI=qy;vt.compL=Cu;vt.complement=ky;vt.constantly=By;vt.delay=Dy;vt.delayed=Gy;vt.identity=Yy;vt.ifDef=zy;vt.juxt=jy;vt.partial=$y;vt.promisify=Vy;vt.threadFirst=Fy;vt.threadLast=Hy;vt.trampoline=Xy});var Ac=D(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});const Ge=(t,e)=>t===e?0:t==null?e==null?0:-1:e==null?t==null?0:1:typeof t.compare=="function"?t.compare(e):typeof e.compare=="function"?-e.compare(t):t<e?-1:t>e?1:0,rn=t=>typeof t=="function"?t:e=>e[t];function xy(t,e=Ge){const n=rn(t);return(s,r)=>e(n(s),n(r))}function Zy(t,e,n=Ge,s=Ge){const r=rn(t),o=rn(e);return(i,a)=>{let l=n(r(i),r(a));return l===0?s(o(i),o(a)):l}}function Qy(t,e,n,s=Ge,r=Ge,o=Ge){const i=rn(t),a=rn(e),l=rn(n);return(u,f)=>{let y=s(i(u),i(f));return y===0&&(y=r(a(u),a(f)))===0?o(l(u),l(f)):y}}function Wy(t,e,n,s,r=Ge,o=Ge,i=Ge,a=Ge){const l=rn(t),u=rn(e),f=rn(n),y=rn(s);return(b,T)=>{let I=r(l(b),l(T));return I===0&&((I=o(u(b),u(T)))===0&&(I=i(f(b),f(T)))===0)?a(y(b),y(T)):I}}const Ky=(t,e)=>t-e,Jy=(t,e)=>e-t,tg=t=>(e,n)=>-t(e,n);sn.compare=Ge;sn.compareByKey=xy;sn.compareByKeys2=Zy;sn.compareByKeys3=Qy;sn.compareByKeys4=Wy;sn.compareNumAsc=Ky;sn.compareNumDesc=Jy;sn.reverse=tg});var qo=D(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});const Pu=Object.getPrototypeOf({}),_o="function",Ou="string",fr=(t,e)=>{let n;if(t===e)return!0;if(t!=null){if(typeof t.equiv===_o)return t.equiv(e)}else return t==e;if(e!=null){if(typeof e.equiv===_o)return e.equiv(t)}else return t==e;return typeof t===Ou||typeof e===Ou?!1:(n=Object.getPrototypeOf(t),n==null||n===Pu)&&(n=Object.getPrototypeOf(e),n==null||n===Pu)?vu(t,e):typeof t!==_o&&t.length!==void 0&&typeof e!==_o&&e.length!==void 0?Mu(t,e):t instanceof Set&&e instanceof Set?Lu(t,e):t instanceof Map&&e instanceof Map?Ru(t,e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t instanceof RegExp&&e instanceof RegExp?t.toString()===e.toString():t!==t&&e!==e},Mu=(t,e,n=fr)=>{let s=t.length;if(s===e.length)for(;--s>=0&&n(t[s],e[s]););return s<0},Lu=(t,e,n=fr)=>t.size===e.size&&n([...t.keys()].sort(),[...e.keys()].sort()),Ru=(t,e,n=fr)=>t.size===e.size&&n([...t].sort(),[...e].sort()),vu=(t,e,n=fr)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let s in t)if(!e.hasOwnProperty(s)||!n(t[s],e[s]))return!1;return!0};es.equiv=fr;es.equivArrayLike=Mu;es.equivMap=Ru;es.equivObject=vu;es.equivSet=Lu});var mr=D(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});var eg=Zt(),Uu=ts();const _u=1/4294967295;class ns{float(t=1){return this.int()*_u*t}norm(t=1){return(this.int()*_u-.5)*2*t}minmax(t,e){return this.float()*(e-t)+t}}const qu=3737844653,Tc=[3737844653,799659867,3827263459,1552149530],ng=[...Tc,4137311345];class ku extends ns{constructor(t=qu){super();this.buffer=new Uint32Array([t,0])}copy(){const t=new ku;return t.buffer.set(this.buffer),t}seed(t){return this.buffer.set([t,0]),this}int(){const t=this.buffer,e=1540483477,n=t[1]++*e>>>0,s=t[0]=(n^n>>24^t[0]*e>>>0)*e>>>0;return(s^s>>>13)>>>0}}const Ic=Math.random;class Bu extends ns{int(){return Ic()*4294967296>>>0}float(t=1){return Ic()*t}norm(t=1){return(Ic()-.5)*2*t}}const pr=new Bu;class Du extends ns{constructor(t=Tc){super();this.buffer=new Uint32Array(4),this.seed(t)}copy(){return new Du(this.buffer)}bytes(){return new Uint8Array(this.buffer.buffer)}seed(t){return this.buffer.set(t),this}int(){const t=this.buffer;let e=t[0]+t[3];const n=(e<<7|e>>>25)>>>0;return e=t[1]<<9,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e,e=t[3],t[3]=(e<<11|e>>>21)>>>0,n}}class Gu extends ns{constructor(t=Tc){super();this.buffer=new Uint32Array(4),this.seed(t)}copy(){return new Gu(this.buffer)}bytes(){return new Uint8Array(this.buffer.buffer)}seed(t){return this.buffer.set(t),this}int(){const t=this.buffer;let e=t[3],n;return e^=e<<11,e^=e>>>8,t[3]=t[2],t[2]=t[1],n=t[1]=t[0],t[0]=(e^n^n>>>19)>>>0}}class Yu extends ns{constructor(t=ng){super();this.buffer=new Uint32Array(5),this.seed(t)}copy(){return new Yu(this.buffer)}seed(t){return this.buffer.set(t),this}bytes(){return new Uint8Array(this.buffer.buffer)}int(){const t=this.buffer;let e=t[3],n;return e^=e>>>2,e^=e<<1,t[3]=t[2],t[2]=t[1],n=t[1]=t[0],e^=n,e^=n<<4,t[0]=e,e+(t[4]+=362437)>>>0}}class zu extends ns{constructor(t=qu){super();this.buffer=new Uint32Array(4),this.seed(t)}bytes(){return new Uint8Array(this.buffer.buffer)}copy(){const t=new zu;return t.buffer.set(this.buffer),t}seed(t){const e=this.buffer;e.set([t,0,0,0]);for(let n=0,s=1;s<8;n=s++){let r=(e[n&3]^e[n&3]>>>30)>>>0;r=35173*r+((27655*r&65535)<<16)>>>0,e[s&3]^=s+r>>>0}return this}int(){const t=this.buffer;let e=t[0];return e^=e<<15,e^=e>>>18,e^=t[3]<<11,t[0]=t[1],t[1]=t[2],t[2]=t[3],t[3]=e,e+t[2]>>>0}}const sg=(t=pr,e=24,n=0,s=1)=>()=>{let r=0,o=e;for(;o-- >0;)r+=t.norm(s);return r/e+n},ju=eg.hasCrypto()?t=>window.crypto.getRandomValues(t):t=>{const e=t.length;for(let n=0;n<e;n++)t[n]=pr.int()&255;return t},rg=(t=4,e="",n="abcdefghijklmnopqrstuvwxyz",s=pr)=>{const r=n.length;for(;--t>=0;)e+=n[s.float(r)|0];return e},og=t=>(t=ju(t||new Uint8Array(16)),t[6]=64|t[6]&15,t[8]=128|t[8]&63,t),ig=(t,e,n=pr)=>{const s=t.length;Uu.assert(s>0,"no choices given");const r=t.map(e?(i,a)=>[i,e[a]]:i=>[i,1]).sort((i,a)=>a[1]-i[1]),o=r.reduce((i,a)=>i+a[1],0);return Uu.assert(o>0,"no choices given"),()=>{const i=n.float(o);let a=o;for(let l=0;l<s;l++)if(a-=r[l][1],a<=i)return r[l][0];return}};Qt.ARandom=ns;Qt.SYSTEM=pr;Qt.Smush32=ku;Qt.SystemRandom=Bu;Qt.XorShift128=Gu;Qt.XorWow=Yu;Qt.Xoshiro128=Du;Qt.XsAdd=zu;Qt.gaussian=sg;Qt.randomBytes=ju;Qt.randomID=rg;Qt.uuidv4Bytes=og;Qt.weightedRandom=ig});var Ec=D(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});var ko=Ac(),hr=qo(),$u=Zt(),cg=De(),ag=ts(),Vu=mr();const lg=(t,e,n=i=>i,s=ko.compare,r=0,o=t.length-1)=>{const i=n(e);for(;r<=o;){const a=r+o>>>1,l=s(n(t[a]),i);if(l<0)r=a+1;else if(l>0)o=a-1;else return a}return-r-1},ug=(t,e,n=ko.compareNumAsc,s=0,r=t.length-1)=>{for(;s<=r;){const o=s+r>>>1,i=n(t[o],e);if(i<0)s=o+1;else if(i>0)r=o-1;else return o}return-s-1},dg=(t,e)=>{let n=t[2]<=e?2:0;return n|=t[n+1]<=e?1:0,t[n]===e?n:-n-1},fg=(t,e)=>{let n=t[4]<=e?4:0;return n|=t[n+2]<=e?2:0,n|=t[n+1]<=e?1:0,t[n]===e?n:-n-1},pg=(t,e)=>{let n=t[8]<=e?8:0;return n|=t[n+4]<=e?4:0,n|=t[n+2]<=e?2:0,n|=t[n+1]<=e?1:0,t[n]===e?n:-n-1},mg=(t,e)=>{let n=t[16]<=e?16:0;return n|=t[n+4]<=e?8:0,n|=t[n+4]<=e?4:0,n|=t[n+2]<=e?2:0,n|=t[n+1]<=e?1:0,t[n]===e?n:-n-1},hg=t=>t<0?-t-2:t-1,yg=t=>t<0?-t-2:t,gg=(t,e)=>(t=t<0?-t-1:t+1,t<e?t:-1),Sg=(t,e)=>(t=t<0?-t-1:t,t<e?t:-1),bg=t=>t<0?-1:t,Ng=(t,e,n=hr.equiv)=>{let s=t.length,r=e.length;if(s<r)return!1;for(;--s,--r>=0&&n(t[s],e[r]););return r<0},wc=t=>((t==null||!t[Symbol.iterator])&&cg.illegalArgs(`value is not iterable: ${t}`),t),Ag=t=>$u.isArray(t)?t:[...wc(t)],Tg=t=>$u.isArrayLike(t)?t:[...wc(t)],Ig=(t,e,n=hr.equiv)=>{const s=Fu(t,e,n);return s!==-1?t[s]:void 0},Fu=(t,e,n=hr.equiv)=>{for(let s=t.length;--s>=0;)if(n(e,t[s]))return s;return-1},wg=(t,e=0,n=0,s=t.length,r=s>n?1:-1)=>{if(r>0)for(;n<s;n+=r)t[e++]=n;else for(;n>s;n+=r)t[e++]=n;return t},Cg=(t,e,n=hr.equiv)=>{const s=t.length,r=e.length;if(r>s)return!1;if(r===s)return n(e,t);t:for(let o=0,i=0;o<r;o++){const a=e[o];for(;i<s;)if(n(t[i++],a))continue t;return!1}return!0},Eg=(t,e=ko.compare,n=0,s=t.length)=>{let r=t[n];for(;++n<s;){const o=t[n];if(e(r,o)>0)return!1;r=o}return!0};function*Pg(t,e=0,n){if(!t)return;e=e,n===void 0&&(n=t.length);const s=e<=n?1:-1;for(;e!==n;e+=s)yield t[e]}const Hu=(t,e)=>t===e,Xu=(t,e,n=Infinity,s=Hu)=>{if(t===e)return 0;if(t.length>e.length){const at=t;t=e,e=at}let r=t.length,o=e.length;for(;r>0&&s(t[~-r],e[~-o]);)r--,o--;let i=0;for(;i<r&&s(t[i],e[i]);)i++;if(r-=i,o-=i,r===0||o<3)return o;let a=0,l,u,f,y,b,T,I,O,q,H,V,tt,Z;const ft=(at,me,nn,Ts,Is)=>at<me||nn<me?at>nn?nn+1:at+1:s(Is,Ts)?me:me+1,pt=[];for(l=0;l<r;l++)pt.push(l+1,t[i+l]);const jt=pt.length-1,$t=o-3;for(;a<$t;){for(H=e[i+(f=a)],V=e[i+(y=a+1)],tt=e[i+(b=a+2)],Z=e[i+(T=a+3)],I=a+=4,u=Infinity,l=0;l<jt;l+=2)O=pt[l],q=pt[l+1],f=ft(O,f,y,H,q),y=ft(f,y,b,V,q),b=ft(y,b,T,tt,q),I=ft(b,T,I,Z,q),I<u&&(u=I),pt[l]=I,T=b,b=y,y=f,f=O;if(u>n)return Infinity}for(;a<o;){for(H=e[i+(f=a)],I=++a,u=Infinity,l=0;l<jt;l+=2)O=pt[l],pt[l]=I=ft(O,f,I,H,pt[l+1]),I<u&&(u=I),f=O;if(u>n)return Infinity}return I},Og=(t,e,n=Infinity,s=Hu)=>{const r=Math.max(t.length,e.length);return r>0?Xu(t,e,n,s)/r:0},Mg=t=>t[0],Lg=t=>t[t.length-1],se=(t,e,n)=>{const s=t[e];t[e]=t[n],t[n]=s},Rg=(...t)=>{const[e,n,s]=t,r=t.length;switch(r){case 0:return se;case 1:return(o,i,a)=>{se(o,i,a),se(e,i,a)};case 2:return(o,i,a)=>{se(o,i,a),se(e,i,a),se(n,i,a)};case 3:return(o,i,a)=>{se(o,i,a),se(e,i,a),se(n,i,a),se(s,i,a)};default:return(o,i,a)=>{se(o,i,a);for(let l=r;--l>=0;)se(t[l],i,a)}}};function Cc(t,e=ko.compare,n=se,s=0,r=t.length-1){if(s<r){const o=t[s+(r-s>>1)];let i=s-1,a=r+1;for(;;){do i++;while(e(t[i],o)<0);do a--;while(e(t[a],o)>0);if(i>=a)break;n(t,i,a)}Cc(t,e,n,s,a),Cc(t,e,n,a+1,r)}return t}const xu=(t,e=0,n=t.length,s=Vu.SYSTEM)=>{ag.assert(e>=0&&n>=e&&n<=t.length,`illegal range ${e}..${n}`);let r=n-e;const o=r;if(o>1)for(;--r>=0;){const i=e+s.float(o)|0,a=e+s.float(o)|0,l=t[i];t[i]=t[a],t[a]=l}return t},vg=(t,e=t.length,n=Vu.SYSTEM)=>xu(t,0,e,n),Ug=(t,e,n=hr.equiv)=>{let s=t.length,r=e.length;if(s<r)return!1;for(;-r>=0&&n(t[r],e[r]););return r<0},_g=t=>{const[e,n,s,r,o,i,a,l]=t;switch(t.length){case 0:return()=>[];case 1:return u=>[u[e]];case 2:return u=>[u[e],u[n]];case 3:return u=>[u[e],u[n],u[s]];case 4:return u=>[u[e],u[n],u[s],u[r]];case 5:return u=>[u[e],u[n],u[s],u[r],u[o]];case 6:return u=>[u[e],u[n],u[s],u[r],u[o],u[i]];case 7:return u=>[u[e],u[n],u[s],u[r],u[o],u[i],u[a]];case 8:return u=>[u[e],u[n],u[s],u[r],u[o],u[i],u[a],u[l]];default:return u=>{const f=[];for(let y=t.length;--y>=0;)f[y]=u[t[y]];return f}}};X.arrayIterator=Pg;X.binarySearch=lg;X.binarySearch16=pg;X.binarySearch32=mg;X.binarySearch4=dg;X.binarySearch8=fg;X.binarySearchNumeric=ug;X.bsEQ=bg;X.bsGE=Sg;X.bsGT=gg;X.bsLE=yg;X.bsLT=hg;X.endsWith=Ng;X.ensureArray=Ag;X.ensureArrayLike=Tg;X.ensureIterable=wc;X.fillRange=wg;X.find=Ig;X.findIndex=Fu;X.first=Mg;X.fuzzyMatch=Cg;X.isSorted=Eg;X.levenshtein=Xu;X.multiSwap=Rg;X.normalizedLevenshtein=Og;X.peek=Lg;X.quickSort=Cc;X.shuffle=vg;X.shuffleRange=xu;X.startsWith=Ug;X.swap=se;X.swizzle=_g});var Wt=D(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});const re=Math.PI,mn=re*2,Bo=re/2,qg=re/3,kg=re/4,Bg=re/6,Dg=1/re,Gg=1/mn,Pc=1/Bo,Zu=re/180,Qu=180/re,Yg=(1+Math.sqrt(5))/2,Wu=Math.SQRT2,Ku=Math.sqrt(3),zg=Wu/2,jg=Ku/2,$g=1/3,Vg=2/3,Fg=1/6;let Mn=1e-6;(function(t){t[t.EQUAL=0]="EQUAL",t[t.FLAT=1]="FLAT",t[t.UNDER=2]="UNDER",t[t.OVER=3]="OVER",t[t.OTHER=4]="OTHER"})(g.Crossing||(g.Crossing={}));const Hg=(t,e)=>Math.abs(t-e),Xg=(t,e=Mn)=>t>e?1:t<-e?-1:0,xg=(t,e=1)=>[Math.sin(t)*e,Math.cos(t)*e],Zg=(t,e=1)=>[Math.cos(t)*e,Math.sin(t)*e],Do=t=>(t%=mn,t<0?mn+t:t),Ju=t=>(t=Math.abs(t),t>re?mn-t:t),Qg=(t,e)=>Ju(Do(e%mn-t%mn)),Wg=(t,e)=>Do(Math.atan2(t,e)),Kg=t=>Do(t)*Pc|0,Jg=t=>t*Qu,tS=t=>t*Zu,eS=t=>1/Math.sin(t),nS=t=>1/Math.cos(t),sS=t=>1/Math.tan(t),rS=(t,e,n)=>Math.sqrt(t*t+e*e-2*t*e*Math.cos(n)),oS=t=>{const e=t*t;return 1+e*(-4+2*e)},Go=t=>{const e=t*t;return .99940307+e*(-.49558072+.03679168*e)},td=t=>{t%=mn,t<0&&(t=-t);switch(t*Pc|0){case 0:return Go(t);case 1:return-Go(re-t);case 2:return-Go(t-re);default:return Go(mn-t)}},iS=t=>td(Bo-t),Yo=Math.abs,cS=Math.max,yr=(t,e,n=Mn)=>Yo(t-e)<=n,aS=yr,lS=(t,e,n=Mn)=>Yo(t-e)<=n*cS(1,Yo(t),Yo(e)),ed=(t,e,n,s)=>t<n&&e>s,nd=(t,e,n,s)=>t>n&&e<s,uS=(t,e,n,s,r=Mn)=>ed(t,e,n,s)?g.Crossing.OVER:nd(t,e,n,s)?g.Crossing.UNDER:yr(t,n,r)&&yr(e,s,r)?yr(t,s,r)?g.Crossing.FLAT:g.Crossing.EQUAL:g.Crossing.OTHER,sd=(t,e,n)=>t>e&&e<n,rd=(t,e,n)=>t<e&&e>n,od=(t,e,n=0,s=e.length)=>{s--;for(let r=n+1;r<s;r++)if(t(e[r-1],e[r],e[r+1]))return r;return-1},Oc=(t,e=0,n=t.length)=>od(sd,t,e,n),dS=(t,e=0,n=t.length)=>od(rd,t,e,n);function*id(t,e,n=0,s=e.length){for(;n<s;){const r=t(e,n,s);if(r<0)return;yield r,n=r+1}}const fS=(t,e=0,n=t.length)=>id(Oc,t,e,n),pS=(t,e=0,n=t.length)=>id(Oc,t,e,n),mS=(t,e,n)=>t<e?e:t>n?n:t,ws=t=>t<0?0:t>1?1:t,cd=t=>t<-1?-1:t>1?1:t,hS=t=>t<0?0:t>.5?.5:t,yS=(t,e,n)=>{if(e===n)return e;if(t>n){const s=n-e;t-=s,t>n&&(t-=s*((t-e)/s|0))}else if(t<e){const s=n-e;t+=s,t<e&&(t+=s*((e-t)/s+1|0))}return t},gS=(t,e,n)=>t<e?t-e+n:t>n?t-n+e:t,SS=t=>t<0?t+1:t>1?t-1:t,bS=t=>t<-1?t+2:t>1?t-2:t,NS=(t,e)=>t<=e?0:1,AS=(t,e,n)=>t<=e?t<=n?0:2:e<=n?1:2,TS=(t,e,n,s)=>t<=e?t<=n?t<=s?0:3:n<=s?2:3:e<=n?e<=s?1:3:n<=s?2:3,IS=(t,e)=>t>=e?0:1,wS=(t,e,n)=>t>=e?t>=n?0:2:e>=n?1:2,CS=(t,e,n,s)=>t>=e?t>=n?t>=s?0:3:n>=s?2:3:e>=n?e>=s?1:3:n>=s?2:3,Mc=(t,e)=>t!==0?e!==0?Math.min(t,e):t:e,ES=(t,e,n)=>Mc(Mc(t,e),n),ad=(t,e,n)=>Lc(t,e,-n),Lc=(t,e,n)=>{const s=Math.exp(t*n),r=Math.exp(e*n);return(t*s+e*r)/(s+r)},PS=(t,e,n,s)=>ad(Lc(t,e,s),n,s),OS=(t,e)=>Math.abs(t)<Math.abs(e)?t:e,MS=(t,e)=>Math.abs(t)>Math.abs(e)?t:e,LS=(t,e)=>e<-t||e>t?Math.abs(Math.abs((e-t)%(4*t))-2*t)-t:e,RS=(t,e,n)=>t>=e&&t<=n,vS=(t,e,n)=>t>e&&t<n,Rc=(t,e,n)=>n!==e?(t-e)/(n-e):0,US=(t,e,n,s,r)=>s+(r-s)*Rc(t,e,n),_S=(t,e,n,s,r)=>s+(r-s)*ws(Rc(t,e,n)),qS=(t,e,n)=>e+(n-e)*ws(t),kS=(t,e,n)=>n+(e-n)*ws(t),BS=(t,e,n)=>e+(n-e)*(.5+.5*cd(t)),Q=255,W=65535,Ye=t=>(t&=Q,t&128?t|~Q:t),ze=t=>(t&=W,t&32768?t|~W:t),DS=(t,e)=>Ye((t|0)+(e|0)),GS=(t,e)=>Ye((t|0)/(e|0)),YS=(t,e)=>Ye((t|0)*(e|0)),zS=(t,e)=>Ye((t|0)-(e|0)),jS=(t,e)=>Ye((t|0)&(e|0)),$S=(t,e)=>Ye(t|0|(e|0)),VS=(t,e)=>Ye((t|0)^(e|0)),FS=t=>Ye(~t),HS=(t,e)=>Ye((t|0)<<(e|0)),XS=(t,e)=>Ye((t|0)>>(e|0)),xS=(t,e)=>ze((t|0)+(e|0)),ZS=(t,e)=>ze((t|0)/(e|0)),QS=(t,e)=>ze((t|0)*(e|0)),WS=(t,e)=>ze((t|0)-(e|0)),KS=(t,e)=>ze((t|0)&(e|0)),JS=(t,e)=>ze(t|0|(e|0)),tb=(t,e)=>ze((t|0)^(e|0)),eb=t=>ze(~t),nb=(t,e)=>ze((t|0)<<(e|0)),sb=(t,e)=>ze((t|0)>>(e|0)),rb=(t,e)=>(t|0)+(e|0)|0,ob=(t,e)=>(t|0)/(e|0)|0,ib=(t,e)=>(t|0)*(e|0)|0,cb=(t,e)=>(t|0)-(e|0)|0,ab=(t,e)=>(t|0)&(e|0),lb=(t,e)=>t|0|(e|0),ub=(t,e)=>(t|0)^(e|0),db=(t,e)=>(t|0)<<(e|0),fb=(t,e)=>(t|0)>>(e|0),pb=t=>~t,mb=(t,e)=>(t&Q)+(e&Q)&Q,hb=(t,e)=>(t&Q)/(e&Q)&Q,yb=(t,e)=>(t&Q)*(e&Q)&Q,gb=(t,e)=>(t&Q)-(e&Q)&Q,Sb=(t,e)=>t&Q&(e&Q)&Q,bb=(t,e)=>(t&Q|e&Q)&Q,Nb=(t,e)=>(t&Q^e&Q)&Q,Ab=t=>~t&Q,Tb=(t,e)=>(t&Q)<<(e&Q)&Q,Ib=(t,e)=>(t&Q)>>>(e&Q)&Q,wb=(t,e)=>(t&W)+(e&W)&W,Cb=(t,e)=>(t&W)/(e&W)&W,Eb=(t,e)=>(t&W)*(e&W)&W,Pb=(t,e)=>(t&W)-(e&W)&W,Ob=(t,e)=>t&W&(e&W)&W,Mb=(t,e)=>(t&W|e&W)&W,Lb=(t,e)=>(t&W^e&W)&W,Rb=t=>~t&W,vb=(t,e)=>(t&W)<<(e&W)&W,Ub=(t,e)=>(t&W)>>>(e&W)&W,_b=(t,e)=>(t>>>0)+(e>>>0)>>>0,qb=(t,e)=>(t>>>0)/(e>>>0)>>>0,kb=(t,e)=>(t>>>0)*(e>>>0)>>>0,Bb=(t,e)=>(t>>>0)-(e>>>0)>>>0,Db=(t,e)=>(t>>>0&e>>>0)>>>0,Gb=(t,e)=>(t>>>0|e>>>0)>>>0,Yb=(t,e)=>(t>>>0^e>>>0)>>>0,zb=t=>~t>>>0,jb=(t,e)=>t>>>0<<(e>>>0)>>>0,$b=(t,e)=>t>>>0>>>(e>>>0)>>>0,ld=(t,e,n,s=16,r=8,o=0,i=1,a=Mn)=>{if(r<=0)return(o+i)/2;const l=(i-o)/s;let u=o,f=Infinity;for(let y=0;y<=s;y++){const b=o+y*l,T=e(n,t(b));if(T<f){if(T<=a)return b;f=T,u=b}}return ld(t,e,n,s,r-1,Math.max(u-l,0),Math.min(u+l,1))},Cs=(t,e,n)=>t+(e-t)*n,Vb=(t,e,n,s,r,o)=>Cs(Cs(t,e,r),Cs(n,s,r),o),Fb=(t,e,n,s)=>{const r=1-s;return t*r*r+e*2*r*s+n*s*s},Hb=(t,e,n,s,r)=>{const o=r*r,i=1-r,a=i*i;return t*a*i+e*3*a*r+n*3*o*i+s*o*r},Xb=(t,e,n,s,r)=>{const o=.5*(n-t),i=1.5*(e-n)+.5*(s-t);return((i*r+t-e+o-i)*r+o)*r+e},xb=(t,e,n,s,r)=>{const o=r-1,i=r*r,a=o*o,l=(1+2*r)*a,u=r*a,f=i*(3-2*r),y=i*o;return l*t+u*e+f*n+y*s},Zb=(t,e,n=.5,s=0,r=2)=>n*((e-t)/(r-s)),Qb=(t,e,n,s=0,r=1,o=2)=>.5*((n-e)/(o-r)+(e-t)/(r-s)),Wb=(t,e,n)=>s=>Cs(e,n,t(s)),vc=t=>(t=1-t,Math.sqrt(1-t*t)),ud=t=>1-vc(1-t),Kb=(t,e,n)=>{const s=e>0?ud:vc,r=1-t,o=n<=t?s(n/t)*t:1-s((1-n)/r)*r;return Cs(n,o,Math.abs(e))},Jb=t=>1-(Math.cos(t*re)*.5+.5),tN=(t,e)=>Math.floor(e*t)/t,eN=(t,e,n)=>{const s=n*t;return 1-e*Math.sin(s)/s*Math.cos(n*Bo)},nN=(t,e)=>Math.pow(e,t),sN=(t,e)=>{const n=t*e;return n*Math.exp(1-n)},rN=(t,e)=>e<.5?.5*Math.pow(2*e,t):1-.5*Math.pow(2-2*e,t),oN=(t,e)=>Math.pow(4*e*(1-e),t),iN=(t,e,n)=>(n=Math.abs(n-e),n>t?0:(n/=t,1-n*n*(3-2*n))),cN=(t,e)=>(e=re*(t*e-1),Math.sin(e)/e),aN=(t,e)=>1/(1+Math.exp(-t*(2*e-1))),lN=(t,e)=>1/(1+Math.exp(-t*e)),uN=(t,e,n)=>(e/t)**(1/n),dN=(t,e)=>t-e*Math.floor(t/e),dd=t=>t-Math.floor(t),fN=t=>t<0?Math.ceil(t):Math.floor(t),pN=(t,e=1)=>Math.round(t/e)*e,mN=(t,e=Mn)=>{const n=dd(t);return n<=e||n>=1-e?Math.round(t):t},hN=(t,e)=>{let n=Math.abs(t),s=Math.abs(e);for(;;){if(n<s){const o=n;n=s,s=o}const r=n%s;if(r)n=r;else return[t/s,e/s]}},fd=(t,e)=>e!==0?t/e:0,yN=(t,e=Mn)=>n=>(t(n+e)-t(n))/e,gN=(t,e)=>fd(-e,t),SN=(t,e,n,s=1e-9)=>{const r=2*t;let o=e*e-4*t*n;return o<0?[]:o<s?[-e/r]:(o=Math.sqrt(o),[(-e-o)/r,(-e+o)/r])},bN=(t,e,n,s,r=1e-9)=>{const o=t*t,i=e*e,a=e/(3*t),l=(3*t*n-i)/(3*o),u=(2*i*e-9*t*e*n+27*o*s)/(27*o*t);if(Math.abs(l)<r)return[Math.cbrt(-u)-a];if(Math.abs(u)<r)return l<0?[-Math.sqrt(-l)-a,-a,Math.sqrt(-l)-a]:[-a];{const f=u*u/4+l*l*l/27;if(Math.abs(f)<r)return[-1.5*u/l-a,3*u/l-a];if(f>0){const y=Math.cbrt(-u/2-Math.sqrt(f));return[y-l/(3*y)-a]}else{const y=2*Math.sqrt(-l/3),b=Math.acos(3*u/l/y)/3,T=2*Math.PI/3;return[y*Math.cos(b)-a,y*Math.cos(b-T)-a,y*Math.cos(b-2*T)-a]}}},NN=(t,e)=>e<t?0:1,AN=(t,e,n)=>(n=ws((n-t)/(e-t)),(3-2*n)*n*n),TN=(t,e,n)=>(n=ws((n-t)/(e-t)),n*n*n*(n*(n*6-15)+10)),IN=(t,e,n)=>1-Math.exp(-t*Math.pow(n,e));g.DEG2RAD=Zu;g.EPS=Mn;g.HALF_PI=Bo;g.INV_HALF_PI=Pc;g.INV_PI=Dg;g.INV_TAU=Gg;g.PHI=Yg;g.PI=re;g.QUARTER_PI=kg;g.RAD2DEG=Qu;g.SIXTH=Fg;g.SIXTH_PI=Bg;g.SQRT2=Wu;g.SQRT2_2=zg;g.SQRT2_3=jg;g.SQRT3=Ku;g.TAU=mn;g.THIRD=$g;g.THIRD_PI=qg;g.TWO_THIRD=Vg;g.absDiff=Hg;g.absInnerAngle=Ju;g.absMax=MS;g.absMin=OS;g.absTheta=Do;g.addi16=xS;g.addi32=rb;g.addi8=DS;g.addu16=wb;g.addu32=_b;g.addu8=mb;g.andi16=KS;g.andi32=ab;g.andi8=jS;g.andu16=Ob;g.andu32=Db;g.andu8=Sb;g.angleDist=Qg;g.atan2Abs=Wg;g.bounce=eN;g.circular=vc;g.clamp=mS;g.clamp01=ws;g.clamp05=hS;g.clamp11=cd;g.classifyCrossing=uS;g.cosine=Jb;g.cossin=Zg;g.cot=sS;g.csc=eS;g.cubicPulse=iN;g.decimated=tN;g.deg=Jg;g.derivative=yN;g.divi16=ZS;g.divi32=ob;g.divi8=GS;g.divu16=Cb;g.divu32=qb;g.divu8=hb;g.ease=nN;g.eqDelta=yr;g.eqDeltaFixed=aS;g.eqDeltaScaled=lS;g.expFactor=uN;g.expStep=IN;g.fastCos=td;g.fastSin=iS;g.fit=US;g.fit01=qS;g.fit10=kS;g.fit11=BS;g.fitClamped=_S;g.fmod=dN;g.foldback=LS;g.fract=dd;g.gain=rN;g.impulse=sN;g.inOpenRange=vS;g.inRange=RS;g.invCircular=ud;g.isCrossOver=ed;g.isCrossUnder=nd;g.isMaxima=rd;g.isMinima=sd;g.lens=Kb;g.loc=rS;g.lshifti16=nb;g.lshifti32=db;g.lshifti8=HS;g.lshiftu16=vb;g.lshiftu32=jb;g.lshiftu8=Tb;g.max2id=IS;g.max3id=wS;g.max4id=CS;g.maximaIndex=dS;g.maximaIndices=pS;g.min2id=NS;g.min3id=AS;g.min4id=TS;g.minError=ld;g.minNonZero2=Mc;g.minNonZero3=ES;g.minimaIndex=Oc;g.minimaIndices=fS;g.mix=Cs;g.mixBilinear=Vb;g.mixCubic=Hb;g.mixCubicHermite=xb;g.mixHermite=Xb;g.mixQuadratic=Fb;g.muli16=QS;g.muli32=ib;g.muli8=YS;g.mulu16=Eb;g.mulu32=kb;g.mulu8=yb;g.norm=Rc;g.normCos=oS;g.noti16=eb;g.noti32=pb;g.noti8=FS;g.notu16=Rb;g.notu32=zb;g.notu8=Ab;g.ori16=JS;g.ori32=lb;g.ori8=$S;g.oru16=Mb;g.oru32=Gb;g.oru8=bb;g.parabola=oN;g.quadrant=Kg;g.rad=tS;g.roundEps=mN;g.roundTo=pN;g.rshifti16=sb;g.rshifti32=fb;g.rshifti8=XS;g.rshiftu16=Ub;g.rshiftu32=$b;g.rshiftu8=Ib;g.safeDiv=fd;g.sclamp=PS;g.sec=nS;g.sigmoid=aN;g.sigmoid11=lN;g.sign=Xg;g.signExtend16=ze;g.signExtend8=Ye;g.simplifyRatio=hN;g.sinc=cN;g.sincos=xg;g.smax=Lc;g.smin=ad;g.smoothStep=AN;g.smootherStep=TN;g.solveCubic=bN;g.solveLinear=gN;g.solveQuadratic=SN;g.step=NN;g.subi16=WS;g.subi32=cb;g.subi8=zS;g.subu16=Pb;g.subu32=Bb;g.subu8=gb;g.tangentCardinal=Zb;g.tangentDiff3=Qb;g.trunc=fN;g.tween=Wb;g.wrap=yS;g.wrap01=SS;g.wrap11=bS;g.wrapOnce=gS;g.xori16=tb;g.xori32=ub;g.xori8=VS;g.xoru16=Lb;g.xoru32=Yb;g.xoru8=Nb});var Os=D(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});var bt=ts(),Y=Zt(),hn=De(),Ln=Nc(),gr=Ac(),ye=Ec(),zo=Wt(),Uc=mr();const Sr=t=>Y.implementsFunction(t,"xform")?t.xform():t;class Es{constructor(t){this.value=t}deref(){return this.value}}const Ce=t=>new Es(t),et=t=>t instanceof Es,br=t=>t instanceof Es?t:new Es(t),oe=t=>t instanceof Es?t.deref():t,wN=t=>t.length===2?[void 0,t[1]]:t.length===3?[t[1],t[2]]:hn.illegalArity(t.length);function ie(...t){const e=t[0],n=e[0],s=e[1],r=e[2];t=wN(t);const o=t[0]==null?n():t[0],i=t[1];return oe(s(Y.implementsFunction(i,"$reduce")?i.$reduce(r,o):Y.isArrayLike(i)?CN(r,o,i):EN(r,o,i)))}const CN=(t,e,n)=>{for(let s=0,r=n.length;s<r;s++)if(e=t(e,n[s]),et(e)){e=e.deref();break}return e},EN=(t,e,n)=>{for(let s of n)if(e=t(e,s),et(e)){e=e.deref();break}return e},Pt=(t,e)=>[t,n=>n,e],je=(t,e)=>{const n=e.length-1;return Y.isIterable(e[n])?e.length>1?ie(t.apply(null,e.slice(0,n)),e[n]):ie(t(),e[0]):void 0};function Nr(t){return t?[...t]:Pt(()=>[],(e,n)=>(e.push(n),e))}function*mt(t,e){const n=Sr(t)(Nr()),s=n[1],r=n[2];for(let o of e){const i=r([],o);if(et(i)){yield*oe(s(i.deref()));return}i.length&&(yield*i)}yield*oe(s([]))}function*wt(t,e){const n=Sr(t)([bt.NO_OP,bt.NO_OP,(s,r)=>r])[2];for(let s of e){let r=n(bt.SEMAPHORE,s);if(et(r)){r=oe(r.deref()),r!==bt.SEMAPHORE&&(yield r);return}r!==bt.SEMAPHORE&&(yield r)}}const nt=(t,e,n=wt)=>{const s=e.length-1;return Y.isIterable(e[s])?e.length>1?n(t.apply(null,e.slice(0,s)),e[s]):n(t(),e[0]):void 0},ht=(t,e)=>[t[0],t[1],e];function K(t,e){return Y.isIterable(e)?wt(K(t),e):n=>{const s=n[2];return ht(n,(r,o)=>s(r,t(o)))}}function ss(...t){let e,n;switch(t.length){case 4:n=t[3],e=t[2];break;case 3:n=t[2];break;case 2:return K(s=>ss(t[0],t[1],s));default:hn.illegalArity(t.length)}return ie(Sr(t[0])(t[1]),e,n)}const PN=[bt.NO_OP,bt.NO_OP,bt.NO_OP];function ON(t,...e){if(e.length===1)ss(t,PN,e[0]);else{const n=e[0];ss(t,[bt.NO_OP,bt.NO_OP,(s,r)=>n(r)],e[1])}}const pd=t=>{const{1:e,2:n}=Sr(t)(Nr());let s=!1;return r=>{if(!s){let o=n([],r);return s=et(o),s&&(o=e(o.deref())),o.length===1?o[0]:o.length>0?o:void 0}}},_c=(t,e,n,s)=>{const r=je(t,s);if(r!==void 0)return r;const o=s[0]||n;return Pt(()=>o,e)};function jo(...t){return _c(jo,(e,n)=>e+n,0,t)}function md(t){return t?ie(md(),t):Pt(()=>new Map,(e,[n,s])=>e.set(n,s))}function qc(t){return t?ie(qc(),t):Pt(()=>({}),(e,[n,s])=>(e[n]=s,e))}function hd(t,e){let n=0;return e?ie(hd(t),e):Pt(()=>({}),(s,r)=>(s[t+n++]=r,s))}function yd(t){return t?ie(yd(),t):Pt(()=>new Set,(e,n)=>e.add(n))}function kc(...t){const e=je(kc,t);if(e!==void 0)return e;let n=t[0]||0,s=t[1]||1;return Pt(()=>n,(r,o)=>r+s)}function gd(t,e){return e?ie(gd(t),e):Pt(()=>t,(n,s)=>n/s)}function Sd(...t){const e=je(Sd,t);if(e!==void 0)return e;const n=t[0];return Pt(()=>!0,n?(s,r)=>n(r)?s:Ce(!1):(s,r)=>r?s:Ce(!1))}function Bc(...t){const e=je(Bc,t);if(e!==void 0)return e;let n=t[0]||0;return Pt(()=>[],(s,r)=>(s[n++]=r,s))}function MN(...t){return Bc(...t)}const bd=t=>Object.assign({key:Ln.identity,group:Nr()},t);function Dc(...t){const e=je(Dc,t);if(e!==void 0)return e;const n=bd(t[0]),[s,r,o]=n.group;return[()=>new Map,i=>{for(let a of i.keys())i.set(a,r(i.get(a)));return i},(i,a)=>{const l=n.key(a);return i.set(l,i.has(l)?o(i.get(l),a):o(s(),a))}]}function Nd(...t){return je(Nd,t)||Dc({key:t[0]||Ln.identity,group:kc()})}function $o(...t){const e=je($o,t);if(e)return e;const n=bd(t[0]),[s,r,o]=n.group;return[()=>({}),i=>{for(let a in i)i[a]=r(i[a]);return i},(i,a)=>{const l=n.key(a);return i[l]=i[l]?o(i[l],a):o(s(),a),i}]}const Ad=(t,e,n,s)=>r=>t(r)&e?s:n,LN=(t,e,n,s,r="l",o="r")=>{const i=n||(()=>({}));let a=$o({key:Ad(e,1,r,o),group:s||Nr()});for(let l=2,u=1<<t;l<u;l<<=1)a=$o({key:Ad(e,l,r,o),group:[i,a[1],a[2]]});return[i,a[1],a[2]]};function Td(t){return t?ie(Td(),t):Pt(bt.NO_OP,(e,n)=>n)}function Id(...t){const e=je(Id,t);if(e!==void 0)return e;const n=t[0],s=t[1]||gr.compare;return Pt(n,(r,o)=>s(r,o)>=0?r:o)}function wd(t){return t?ie(wd(),t):Pt(()=>-Infinity,(e,n)=>Math.max(e,n))}function Cd(t){let e=1;return t?ie(Cd(),t):[()=>e=0,n=>e>1?n/e:n,(n,s)=>(e++,n+s)]}function Ed(...t){const e=je(Ed,t);if(e!==void 0)return e;const n=t[0],s=t[1]||gr.compare;return Pt(n,(r,o)=>s(r,o)<=0?r:o)}function Pd(t){return t?ie(Pd(),t):Pt(()=>Infinity,(e,n)=>Math.min(e,n))}function Od(...t){return _c(Od,(e,n)=>e*n,1,t)}const RN=()=>Pt(()=>[],(t,e)=>((t=t.slice()).push(e),t));function vN(t=gr.compare,e){return e?[...e].sort(t):[()=>[],n=>n.sort(t),(n,s)=>(n.push(s),n)]}function Md(t,e){const[n,s,r]=t;return e?ie(Md(t),e):[()=>[n()],o=>(o[o.length-1]=s(o[o.length-1]),o),(o,i)=>{const a=r(o[o.length-1],i);return et(a)?(o.push(a.deref()),Ce(o)):(o.push(a),o)}]}function Ld(...t){const e=je(Ld,t);if(e!==void 0)return e;const n=t[0];return Pt(()=>!1,n?(s,r)=>n(r)?Ce(!0):s:(s,r)=>r?Ce(!0):s)}function Rd(t,e){t=t||"";let n=!0;return e?[...e].join(t):Pt(()=>"",(s,r)=>(s=n?s+r:s+t+r,n=!1,s))}function vd(...t){return _c(vd,(e,n)=>e-n,0,t)}function Ud(t){return Y.isIterable(t)?wt(Ud(),t):e=>{const n=e[2];let s=Date.now();return ht(e,(r,o)=>{const i=Date.now(),a=i-s;return s=i,n(r,a)})}}const Gc=()=>t=>{const e=t[2];return ht(t,(n,s)=>{if(s){for(let r of oe(s))if(n=e(n,r),et(n))break}return et(s)?br(n):n})};function _d(...t){return nt(_d,t)||(e=>{const n=e[2],s=t[0];let r=bt.SEMAPHORE,o=!1;return ht(e,(i,a)=>o||r!==bt.SEMAPHORE&&s(r,a)?(o=!0,br(n(i,a))):(r=a,n(i,a)))})}function on(t,e,n){return new qd(t,e,n)}class qd{constructor(t,e,n){t===void 0?(t=0,e=Infinity):e===void 0&&(e=t,t=0),n=n===void 0?t<e?1:-1:n,this.from=t,this.to=e,this.step=n}*[Symbol.iterator](){const t=this.step,e=this.to;let n=this.from;if(t>0)for(;n<e;)yield n,n+=t;else if(t<0)for(;n>e;)yield n,n+=t}$reduce(t,e){const n=this.step;if(n>0)for(let s=this.from,r=this.to;s<r&&!et(e);s+=n)e=t(e,s);else for(let s=this.from,r=this.to;s>r&&!et(e);s+=n)e=t(e,s);return e}}function*kd(...t){let e,n,s,r,o,i;switch(t.length){case 6:s=t[4],i=t[5];case 4:[e,n,r,o]=t;break;case 2:[n,o]=t,e=r=0;break;default:hn.illegalArity(t.length)}const a=on(e,n,s);for(let l of on(r,o,i))for(let u of a)yield[u,l]}function*Vo(...t){const e=t.map(n=>n[Symbol.iterator]());for(;;){const n=[];for(let s of e){let r=s.next();if(r.done)return;n.push(r.value)}yield n}}const Bd=(t,e)=>{const n=e>>1;return[...Vo(t,on(-n,n+1))]},Dd=(t,e,n=e)=>{const s=e>>1,r=n>>1;return[...Vo(t,kd(-s,s+1,-r,r+1))]},UN=(t,e,n,s,r)=>s?({0:o,1:i})=>{const a=e<-i?n+i:e>=n-i?i-1:e+i;return o*t[a]}:({0:o,1:i})=>e<-i||e>=n-i?r:o*t[e+i],_N=(t,e,n,s,r,o,i)=>o?({0:a,1:{0:l,1:u}})=>{const f=e<-l?s+l:e>=s-l?l-1:e+l,y=n<-u?r+u:n>=r-u?u-1:n+u;return a*t[y*s+f]}:({0:a,1:{0:l,1:u}})=>e<-l||n<-u||e>=s-l||n>=r-u?i:a*t[(n+u)*s+e+l],Gd=()=>hn.illegalArgs("no kernel or kernel config");function Yd(t,e){if(e)return wt(Yd(t),e);const{src:n,width:s}=t,r=t.wrap!==!1,o=t.border||0,i=t.reduce||jo;let a=t.kernel;return a||(!(t.weights&&t.kwidth)&&Gd(),a=Bd(t.weights,t.kwidth)),K(l=>ss(K(UN(n,l,s,r,o)),i(),a))}function zd(t,e){if(e)return wt(zd(t),e);const{src:n,width:s,height:r}=t,o=t.wrap!==!1,i=t.border||0,a=t.reduce||jo;let l=t.kernel;return l||(!(t.weights&&t.kwidth&&t.kheight)&&Gd(),l=Dd(t.weights,t.kwidth,t.kheight)),K(u=>ss(K(_N(n,u[0],u[1],s,r,o,i)),a(),l))}function jd(...t){return nt(jd,t)||(e=>{const n=e[2],s=t[0];let r=bt.SEMAPHORE;return ht(e,s?(o,i)=>(o=r!==bt.SEMAPHORE&&s(r,i)?o:n(o,i),r=i,o):(o,i)=>(o=r===i?o:n(o,i),r=i,o))})}const qN=t=>K(e=>Ln.delayed(e,t));function $d(...t){return nt($d,t)||(e=>{const n=e[2],s=t[0]||{},r=s.key,o=(s.cache||(()=>new Set))();return ht(e,r?(i,a)=>{const l=r(a);return o.has(l)?i:(o.add(l),n(i,a))}:(i,a)=>o.has(a)?i:(o.add(a),n(i,a)))})}function Ar(t,e){return Y.isIterable(e)?wt(Ar(t),e):n=>{const s=n[2],r=t();return ht(n,(o,i)=>r(i)?s(o,i):o)}}function Vd(t,e){return Y.isIterable(e)?wt(Vd(t),e):(t=Math.max(0,t-1),Ar(()=>{let n=t;return()=>n-- >0?!0:(n=t,!1)}))}function Fd(...t){return nt(Fd,t)||(e=>{const n=e[2],s=t[0];let r=!0;return ht(e,(o,i)=>(r=r&&s(i))?o:n(o,i))})}function Yc(t,e){return Y.isIterable(e)?wt(Yc(t),e):n=>{const s=n[2];let r=t;return ht(n,(o,i)=>r>0?(r--,o):s(o,i))}}function Hd(t=1,e){return Y.isIterable(e)?mt(Hd(t),e):n=>{const s=n[2];return ht(n,(r,o)=>{for(let i=t;i>=0&&!et(r);i--)r=s(r,o);return r})}}function Ps(t,e){return Y.isIterable(e)?wt(Ps(t),e):n=>{const s=n[2];return ht(n,(r,o)=>t(o)?s(r,o):r)}}function Xd(...t){const e=t.length>1&&nt(Xd,t);if(e)return e;const n=t[0],{key:s,equiv:r}=t[1]||{};return Ps(o=>ye.fuzzyMatch(s!=null?s(o):o,n,r))}function zc(t,e){return Y.isIterable(e)?mt(zc(t),Y.isString(e)?[e]:e):n=>{const s=n[2],r=(o,i)=>{const a=t(i);if(a){for(let l of a)if(o=r(o,l),et(o))break;return o}return s(o,i)};return ht(n,r)}}function kN(t){return zc(e=>Y.isNotStringAndIterable(e)?e:void 0,t)}function Fo(...t){return nt(Fo,t)||(e=>{const n=e[2],s=t[0];let r=t[1]||0;return ht(e,(o,i)=>n(o,s(r++,i)))})}function xd(...t){const e=nt(xd,t);if(e)return e;const n=t[0]||0;return Fo((s,r)=>[n+s,r])}function Zd(t,e){return Y.isIterable(e)?mt(Zd(t),e):n=>{const s=n[2],r=typeof t=="function"?t:()=>t;return ht(n,(o,i)=>(o=s(o,r()),et(o)?o:s(o,i)))}}function Ee(...t){return t=t.map(Sr),Ln.comp.apply(null,t)}function*rs(t,e=!0){if(t>0)for(let n=0,s=e?t+1:t;n<s;n++)yield n/t}function*Qd(t,e,n=!0,s=!0){const r=[...rs(t,n)];for(let o of rs(e,s))yield*K(i=>[i,o],r)}function*BN(t,e,n,s=!0,r=!0,o=!0){const i=[...Qd(t,e,s,r)];for(let a of rs(n,o))yield*K(l=>[...l,a],i)}function Tr(t,e){return Y.isIterable(e)?mt(Tr(t),e):Ee(K(t),Gc())}function os(...t){const e=nt(os,t,mt);if(e)return e;let n=t[0],s,r;return typeof t[1]=="number"?(r=t[1],s=t[2]):(r=n,s=t[1]),([o,i,a])=>{let l=[],u=0;return[o,f=>(s&&l.length>0&&(f=a(f,l),l=[]),i(f)),(f,y)=>(u<=0?(l.length<n&&l.push(y),l.length===n&&(f=a(f,l),l=r<n?l.slice(r):[],u=r-n)):u--,f)]}}function Ho(t,e,n,s){return Y.isIterable(s)?mt(Ho(t,e,n),s):Ee(os(e,1),Tr(r=>K(o=>t(r,o),rs(n,!1))))}function DN(t,e){return Ho((n,s)=>zo.mixHermite(...n,s),4,t,e)}function GN(t,e){return Ho((n,s)=>zo.mix(...n,s),2,t,e)}function Wd(t,e){return Y.isIterable(e)?mt(Wd(t),e):n=>{const s=n[2],r=typeof t=="function"?t:()=>t;let o=!0;return ht(n,(i,a)=>o?(o=!1,s(i,a)):(i=s(i,r()),et(i)?i:s(i,a)))}}function Kd(...t){return nt(Kd,t)||(e=>{const n=e[2],s=t[0]||Ln.identity;return ht(e,(r,o)=>s(o)!=null?n(r,o):r)})}function Jd(t,e){return Y.isIterable(e)?wt(Jd(t),e):K(Y.isFunction(t)?n=>[t(n),n]:n=>[t,n])}const jc=t=>{if(Y.isFunction(t))return t;const e=Object.keys(t[1]||{}).reduce((n,s)=>(n[s]=jc(t[1][s]),n),{});return n=>{const s=Object.assign({},n);for(let r in e)s[r]=e[r](s[r]);return t[0](s)}};function t0(t,e){return Y.isIterable(e)?wt(t0(t),e):K(jc(t))}function $c(...t){const e=nt($c,t);if(e)return e;const n=t[0],s=t[1]!==!1;return K(r=>{const o=s?Object.assign({},r):r;for(let i in n)o[i]=n[i](r[i],r);return o})}function e0(...t){const e=nt(e0,t);if(e)return e;let n=t[0]-1,s,r;return typeof t[1]=="number"?(s=t[1],r=t[2]):(r=t[1],s=0),o=>{const i=o[2];let a=0,l=s;return ht(o,(u,f)=>{if(l===0){if(a===0)return a=n,i(u,r(f));a--}else l--;return i(u,f)})}}function n0(...t){const e=nt(n0,t);if(e)return e;const n=t[0],s=t[1]!==!1;return K(r=>{const o=s?{}:r;for(let i in r)o[i]=n(r[i]);return o})}function s0(...t){return nt(s0,t,mt)||Ee(Fo(t[0],t[1]),Gc())}function Xo(t,e){return Y.isIterable(e)?mt(Xo(t),e):n=>{const s=n[2];let r=t;return ht(n,(o,i)=>--r>0?s(o,i):r===0?br(s(o,i)):Ce(o))}}function r0(t,e){return Y.isIterable(e)?[...wt(r0(t),e)][0]:Ee(Ps(t),Xo(1))}const o0=(t,e,n)=>s=>{for(;t.length&&!et(s);)s=n(s,t.shift());return e(s)};function Vc(t,e){return Y.isIterable(e)?mt(Vc(t),e):([n,s,r])=>{const o=[];return[n,o0(o,s,r),(i,a)=>(o.length===t&&o.shift(),o.push(a),i)]}}function i0(t,e){return Y.isIterable(e)?[...mt(i0(t),e)][0]:Ee(Ps(t),Vc(1))}function c0(t,e){return Y.isIterable(e)?wt(c0(t),e):n=>{t|=0,t<2&&hn.illegalArgs("period must be >= 2");const s=n[2],r=[];let o=0;return ht(n,(i,a)=>{const l=r.push(a);return o+=a,l>t&&(o-=r.shift()),l>=t?s(i,o/t):i})}}const Fc=t=>Object.assign({key:Ln.identity,compare:gr.compare},t);function a0(...t){const e=nt(a0,t);if(e)return e;const{key:n,compare:s}=Fc(t[1]),r=t[0],o=r>>1;return Ee(os(r,1,!0),K(i=>i.slice().sort((a,l)=>s(n(a),n(l)))[o]))}function l0(...t){return K(Ln.juxt.apply(null,t.map(pd)))}const Hc=t=>{const e=Object.keys(t),[n,s,r]=e,[o,i,a]=e.map(l=>t[l]);switch(e.length){case 3:return l=>{const u={};let f;return f=l[a],f!==void 0&&(u[r]=f),f=l[i],f!==void 0&&(u[s]=f),f=l[o],f!==void 0&&(u[n]=f),u};case 2:return l=>{const u={};let f;return f=l[i],f!==void 0&&(u[s]=f),f=l[o],f!==void 0&&(u[n]=f),u};case 1:return l=>{const u={};let f=l[o];return f!==void 0&&(u[n]=f),u};default:return l=>{let u,f;const y={};for(let b=e.length-1;b>=0;b--)u=e[b],f=l[t[u]],f!==void 0&&(y[u]=f);return y}}};function xo(...t){const e=t.length>2&&nt(xo,t);if(e)return e;let n=t[0];if(Y.isArray(n)&&(n=n.reduce((s,r,o)=>(s[r]=o,s),{})),t[1]){const s=Object.keys(n);return K(r=>ss(Ee(K(o=>[o,r[n[o]]]),Ps(o=>o[1]!==void 0)),t[1],s))}else return K(Hc(n))}function u0(...t){const e=nt(u0,t);if(e)return e;const[n,s]=t,r=Object.keys(n);return Ee(l0.apply(null,r.map(o=>n[o])),xo(r,s))}const YN=()=>t=>t;function d0(t,e,n){return Y.isIterable(n)?mt(d0(t,e),n):([s,r,o])=>{let i=0;return[s,a=>{let l=i%t;if(l>0)for(;++l<=t&&!et(a);)a=o(a,e);return r(a)},(a,l)=>(i++,o(a,l))]}}function f0(...t){return nt(f0,t)||Ee(Yc(t[0]*(t[1]||10)),Xo(t[1]||10))}function Ir(...t){return nt(Ir,t,mt)||(([e,n,s])=>{const r=t[0],o=t[1]===!0?r():r;let i=bt.SEMAPHORE,a;return[e,l=>(a&&a.length&&(l=s(l,a),a=null),n(l)),(l,u)=>{const f=o(u);return i===bt.SEMAPHORE?(i=f,a=[u]):f===i?a.push(u):(a&&(l=s(l,a)),a=et(l)?null:[u],i=f),l}]})}function Xc(t,e){return Y.isIterable(e)?mt(Xc(t),e):Ir(()=>{let n=0,s=0;return()=>(n++===t[s]&&(n=1,s=(s+1)%t.length),s)},!0)}function p0(...t){const e=nt(p0,t,mt);if(e)return e;const{key:n,compare:s}=Fc(t[1]);return Ee(os(t[0],!0),Tr(r=>r.slice().sort((o,i)=>s(n(o),n(i)))))}function m0(...t){const e=nt(m0,t,mt);if(e)return e;const{key:n,mergeOnly:s,reset:r,all:o,backPressure:i}=Object.assign({key:Ln.identity,mergeOnly:!1,reset:!0,all:!0,backPressure:0},t[1]),a=Y.isArray(t[0])?new Set(t[0]):t[0],l=new Set,u=new Map;let f={};const y=([b,T,I])=>{let O=!0;return s||i<1?[b,q=>((r&&o&&l.size>0||!r&&O)&&(q=I(q,f),f={},l.clear(),O=!1),T(q)),(q,H)=>{const V=n(H);return a.has(V)&&(f[V]=H,l.add(V),(s||h0(a,l))&&(q=I(q,f),O=!1,r?(f={},l.clear()):f=Object.assign({},f))),q}]:[b,q=>(o&&l.size>0&&(q=I(q,y0(u,l)),u.clear(),l.clear()),T(q)),(q,H)=>{const V=n(H);if(a.has(V)){let tt=u.get(V);for(!tt&&u.set(V,tt=[]),tt.length>=i&&hn.illegalState(`max back pressure (${i}) exceeded for input: ${String(V)}`),tt.push(H),l.add(V);h0(a,l)&&!(q=I(q,y0(u,l)),O=!1,et(q)););}return q}]};return y.keys=()=>a,y.clear=()=>{u.clear(),a.clear(),l.clear(),f={}},y.add=b=>{a.add(b)},y.delete=(b,T=!0)=>{u.delete(b),a.delete(b),T&&(l.delete(b),delete f[b])},y}const h0=(t,e)=>{if(e.size<t.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0},y0=(t,e)=>{const n={};for(let s of e){const r=t.get(s);n[s]=r.shift(),!r.length&&e.delete(s)}return n};function g0(t,e){return Y.isIterable(e)?mt(g0(t),e):Ir(()=>{let n=0;return()=>{const s=Date.now();return s-n>=t&&(n=s),n}},!0)}function zN(t){return K(ye.peek,t)}function S0(t,e){return Y.isIterable(e)?wt(S0(t),e):K(n=>n[t])}function b0(...t){const e=nt(b0,t);if(e)return e;const n=t[0],s=t[1]||Uc.SYSTEM;return r=>{const o=r[2];return ht(r,(i,a)=>s.float()<n?o(i,a):i)}}function N0(...t){return t.length>2&&nt(N0,t,mt)||(([e,n,s])=>{const[r,o,i]=t[0];let a=t.length>1&&t[1]!=null?t[1]:r();return[e,l=>{let u=o(a);return u!==a&&(l=oe(s(l,u))),a=u,n(l)},(l,u)=>(a=i(a,u),et(a)?br(s(l,a.deref())):s(l,a))]})}const A0=t=>Hc(t.reduce((e,n)=>(e[n]=n,e),{}));function T0(t,e){return Y.isIterable(e)?wt(T0(t),e):K(A0(t))}const I0=t=>K(e=>(t(e),e));function w0(...t){const e=nt(w0,t);if(e)return e;const n=t[0],s=t[1]!==!1;return r=>{const o=r[2];let i=[];return ht(r,(a,l)=>{i.push(l);const u=bt.deref(n);return(s||i.length>=u)&&(a=o(a,i),i=i.slice(i.length>=u?1:0,u)),a})}}function C0(...t){return nt(C0,t,mt)||(([e,n,s])=>{const r=t[0],o=t[1]||r,i=[];return[e,a=>{for(;i.length&&!et(a);)ye.shuffle(i,o),a=s(a,i.shift());return a=n(a),a},(a,l)=>(i.push(l),ye.shuffle(i,o),i.length===r&&(a=s(a,i.shift())),a)]})}function E0(...t){const e=nt(E0,t,mt);if(e)return e;const{key:n,compare:s}=Fc(t[1]),r=t[0];return([o,i,a])=>{const l=[];return[o,o0(l,i,a),(u,f)=>{const y=ye.binarySearch(l,f,n,s);return l.splice(y<0?-(y+1):y,0,f),l.length===r&&(u=a(u,l.shift())),u}]}}function P0(t,e){return Y.isIterable(e)?mt(P0(t),e):Ee(Xc(t.map(n=>n[1])),os(t.length),xo(t.map(n=>n[0])),$c(t.reduce((n,s)=>(s[2]&&(n[s[0]]=s[2]),n),{}),!1))}function O0(t,e){return Y.isIterable(e)?wt(O0(t),e):K(ye.swizzle(t))}function M0(t,e){return Y.isIterable(e)?wt(M0(t),e):(t=Math.max(0,t-1),Ar(()=>{let n=0;return()=>n===0?(n=t,!0):(n--,!1)}))}function L0(...t){return nt(L0,t)||(e=>{const n=e[2],s=t[0];let r=!0;return ht(e,(o,i)=>(r=r&&s(i))?n(o,i):Ce(o))})}function R0(t,e){return Y.isIterable(e)?wt(R0(t),e):Ar(()=>{let n=0;return()=>{const s=Date.now();return s-n>=t?(n=s,!0):!1}})}function v0(t,e,n=!1,s){return Y.isIterable(s)?wt(v0(t,e,n),s):([r,o,i])=>{let a=n;return[r,o,l=>i(l,(a=!a)?t:e)]}}const jN=(t="")=>I0(e=>console.log(t,e));function U0(...t){const e=nt(U0,t,mt);if(e)return e;const n=t[0],{delim:s,always:r}=Object.assign({delim:1,always:!0},t[1]);return Ir(()=>{let o=0,i=!1;return a=>(o+=a.length+s,o>n+(r?0:s)&&(i=!i,o=a.length+s),i)},!0)}function $N(...t){let[e,n,s]=t;const r=t.length;switch(r){case 1:{const o=e[2];return[()=>[e[0]()],i=>[e[1](i[0])],(i,a)=>{const l=o(i[0],a);return et(l)?Ce([oe(l)]):[l]}]}case 2:{const o=e[2],i=n[2];return[()=>[e[0](),n[0]()],a=>[e[1](a[0]),n[1](a[1])],(a,l)=>{const u=o(a[0],l),f=i(a[1],l);return et(u)||et(f)?Ce([oe(u),oe(f)]):[u,f]}]}case 3:{const o=e[2],i=n[2],a=s[2];return[()=>[e[0](),n[0](),s[0]()],l=>[e[1](l[0]),n[1](l[1]),s[1](l[2])],(l,u)=>{const f=o(l[0],u),y=i(l[1],u),b=a(l[2],u);return et(f)||et(y)||et(b)?Ce([oe(f),oe(y),oe(b)]):[f,y,b]}]}default:return[()=>t.map(o=>o[0]()),o=>t.map((i,a)=>i[1](o[a])),(o,i)=>{let a=!1;const l=[];for(let u=0;u<r;u++){let f=t[u][2](o[u],i);et(f)&&(a=!0,f=oe(f)),l[u]=f}return a?Ce(l):l}]}}const VN=t=>e=>t[e],FN=(t,e)=>n=>t[n[0]+n[1]*e],HN=(t,e,n)=>{const s=e*n;return r=>t[r[0]+r[1]*e+r[2]*s]};function*XN(t){yield*t}function*_0(t,e=Infinity){for(;e-- >0;)yield t()}const xN=(t,e,n=Uc.SYSTEM)=>_0(e?Uc.weightedRandom(ye.ensureArray(t),e,n):()=>t[n.float(t.length)|0]);function*Rn(...t){for(let e of t)e!=null&&(yield*ye.ensureIterable(e))}function*ZN(t,e,n=10,s=.1){const r=Math.exp(-Math.log((Math.abs(e-t)+s)/s)/n),o=(t<e?e+s:e-s)*(1-r);n>0&&(yield t);for(let i=t;--n>=0;)yield i=o+i*r}function*QN(t,e=Infinity){if(e<1)return;let n=[];for(let s of t)n.push(s),yield s;if(n.length>0)for(;--e>0;)yield*n}function WN(t){return Y.isString(t)?t+t:Y.isArray(t)?t.concat(t):(t=ye.ensureArray(t),Rn(t,t))}function*vn(t,e=Infinity){for(;e-- >0;)yield t}function*KN(t,e=1,n=e){let s=bt.SEMAPHORE;for(let r of t)e>0&&s===bt.SEMAPHORE&&(yield*vn(r,e),e=0),yield r,s=r;n>0&&s!==bt.SEMAPHORE&&(yield*vn(s,n))}function*JN(t,e,n=Infinity){let s=0;for(;s<n;)yield e,e=t(e,++s)}function*q0(t){for(let e in t)t.hasOwnProperty(e)&&(yield[e,t[e]])}function*Zo(...t){const e=t.length-1;if(e<0)return;const n=new Array(e+1).fill(0),s=t.map(ye.ensureArrayLike),r=s.reduce((o,i)=>o*i.length,1);for(let o=0;o<r;o++){const i=[];for(let a=e;a>=0;a--){const l=s[a];let u=n[a];u===l.length&&(n[a]=u=0,a>0&&n[a-1]++),i[a]=l[u]}n[e]++,yield i}}const tA=(t,e=t,n)=>{n&&n.length<t&&hn.illegalArgs(`insufficient offsets, got ${n.length}, needed ${t}`);const s=[];for(;--t>=0;){const r=n?n[t]:0;s[t]=on(r,r+e)}return Zo.apply(null,s)},eA=t=>K(e=>qc(os(2,e)),Zo(...Tr(([e,n])=>[[e],n],q0(t))));function*nA(t){for(let e in t)t.hasOwnProperty(e)&&(yield e)}const sA=(t,e,n=10)=>{const s=e-t;return K(r=>t+s*r,rs(n))},rA=(t,e,n=1,s=n)=>n>0?s>0?Rn(vn(e,n),t,vn(e,s)):Rn(vn(e,n),t):s>0?Rn(t,vn(e,s)):Rn(t);function*xc(t){const e=ye.ensureArray(t);let n=e.length;for(;--n>=0;)yield e[n]}function oA(t){return Y.isString(t)?Rd("",Rn([t],xc(t))):Y.isArray(t)?t.concat(t.slice().reverse()):(t=ye.ensureArray(t),Rn(t,xc(t)))}function*iA(...t){let e,n,s,r,o,i,a,l,u;switch(t.length){case 9:s=t[6],i=t[7],u=t[8];case 6:[e,n,r,o,a,l]=t;break;case 3:[n,o,l]=t,e=r=a=0;break;default:hn.illegalArity(t.length)}const f=on(e,n,s),y=on(r,o,i);for(let b of on(a,l,u))for(let T of y)for(let I of f)yield[I,T,b]}const cA=(t,e)=>Zo.apply(null,e?[...K(([n,s])=>on(n,s),Vo(t,e))]:[...K(on,t)]);function*aA(t,e=gr.compare){yield*Object.keys(t).sort(e)}function*lA(t){let e;for(let n of t)e={x:n,n:e},yield n;for(;e;)yield e.x,e=e.n}function*uA(t){const{min:e,max:n,num:s,init:r,mix:o,stops:i}=t;let a=i.length;if(a<1)return;a===1&&(yield*vn(o(r(i[0][1],i[0][1]),0),s)),i.sort((I,O)=>I[0]-O[0]),i[a-1][0]<n&&i.push([n,i[a-1][1]]),i[0][0]>e&&i.unshift([e,i[0][1]]);const l=n-e;let u=i[0][0],f=i[1][0],y=f-u,b=r(i[0][1],i[1][1]),T=1;a=i.length;for(let I of rs(s)){if(I=e+l*I,I>f){for(;T<a&&I>i[T][0];)T++;u=i[T-1][0],f=i[T][0],y=f-u,b=r(i[T-1][1],i[T][1])}yield o(b,y!==0?(I-u)/y:0)}}function*dA(t){for(let e in t)t.hasOwnProperty(e)&&(yield t[e])}function*fA(t,e=1,n=e){const s=ye.ensureArray(t);if(!(zo.inRange(e,0,s.length)&&zo.inRange(n,0,s.length))&&hn.illegalArgs(`allowed wrap range: [0..${s.length}]`),e>0)for(let r=s.length,o=r-e;o<r;o++)yield s[o];if(yield*s,n>0)for(let r=0;r<n;r++)yield s[r]}N.$$reduce=je;N.$iter=nt;N.Range=qd;N.Reduced=Es;N.add=jo;N.asIterable=XN;N.assocMap=md;N.assocObj=qc;N.autoObj=hd;N.benchmark=Ud;N.buildKernel1d=Bd;N.buildKernel2d=Dd;N.cat=Gc;N.choices=xN;N.comp=Ee;N.compR=ht;N.concat=Rn;N.conj=yd;N.converge=_d;N.convolve1d=Yd;N.convolve2d=zd;N.count=kc;N.curve=ZN;N.cycle=QN;N.dedupe=jd;N.deepTransform=jc;N.delayed=qN;N.distinct=$d;N.div=gd;N.drop=Yc;N.dropNth=Vd;N.dropWhile=Fd;N.dup=WN;N.duplicate=Hd;N.ensureReduced=br;N.every=Sd;N.extendSides=KN;N.fill=Bc;N.fillN=MN;N.filter=Ps;N.filterFuzzy=Xd;N.flatten=kN;N.flattenWith=zc;N.frequencies=Nd;N.groupBinary=LN;N.groupByMap=Dc;N.groupByObj=$o;N.indexed=xd;N.interleave=Zd;N.interpolate=Ho;N.interpolateHermite=DN;N.interpolateLinear=GN;N.interpose=Wd;N.isReduced=et;N.iterate=JN;N.iterator=mt;N.iterator1=wt;N.juxtR=$N;N.keep=Kd;N.keyPermutations=eA;N.keySelector=A0;N.keys=nA;N.labeled=Jd;N.last=Td;N.line=sA;N.lookup1d=VN;N.lookup2d=FN;N.lookup3d=HN;N.map=K;N.mapDeep=t0;N.mapIndexed=Fo;N.mapKeys=$c;N.mapNth=e0;N.mapVals=n0;N.mapcat=Tr;N.mapcatIndexed=s0;N.matchFirst=r0;N.matchLast=i0;N.max=wd;N.maxCompare=Id;N.mean=Cd;N.min=Pd;N.minCompare=Ed;N.movingAverage=c0;N.movingMedian=a0;N.mul=Od;N.multiplex=l0;N.multiplexObj=u0;N.noop=YN;N.normRange=rs;N.normRange2d=Qd;N.normRange3d=BN;N.padLast=d0;N.padSides=rA;N.page=f0;N.pairs=q0;N.palindrome=oA;N.partition=os;N.partitionBy=Ir;N.partitionOf=Xc;N.partitionSort=p0;N.partitionSync=m0;N.partitionTime=g0;N.peek=zN;N.permutations=Zo;N.permutationsN=tA;N.pluck=S0;N.push=Nr;N.pushCopy=RN;N.pushSort=vN;N.range=on;N.range2d=kd;N.range3d=iA;N.rangeNd=cA;N.reduce=ie;N.reduced=Ce;N.reducer=Pt;N.reductions=Md;N.rename=xo;N.renamer=Hc;N.repeat=vn;N.repeatedly=_0;N.reverse=xc;N.run=ON;N.sample=b0;N.scan=N0;N.selectKeys=T0;N.sideEffect=I0;N.slidingWindow=w0;N.some=Ld;N.sortedKeys=aA;N.step=pd;N.str=Rd;N.streamShuffle=C0;N.streamSort=E0;N.struct=P0;N.sub=vd;N.swizzle=O0;N.symmetric=lA;N.take=Xo;N.takeLast=Vc;N.takeNth=M0;N.takeWhile=L0;N.throttle=Ar;N.throttleTime=R0;N.toggle=v0;N.trace=jN;N.transduce=ss;N.tween=uA;N.unreduced=oe;N.vals=dA;N.wordWrap=U0;N.wrapSides=fA;N.zip=Vo});var j0=D(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});const pA=(t,e)=>(e--,t+e&~e),mA=(t,e)=>!(t&e-1),Un=new Float64Array(1),Qo=new Float32Array(Un.buffer),cn=new Int32Array(Un.buffer),$e=new Uint32Array(Un.buffer),wr=(Un[0]=2,$e[1]===1073741824),k0=t=>(Qo[0]=t,cn[0]),B0=t=>(Qo[0]=t,$e[0]),hA=t=>(cn[0]=t,Qo[0]),yA=t=>($e[0]=t,Qo[0]),gA=t=>(Un[0]=t,wr?[cn[1],cn[0]]:[cn[0],cn[1]]),D0=t=>(Un[0]=t,wr?[$e[1],$e[0]]:[$e[0],$e[1]]),SA=(t,e)=>(wr?(cn[1]=t,cn[0]=e):(cn[0]=t,cn[1]=e),Un[0]),bA=(t,e)=>(wr?($e[1]=t,$e[0]=e):($e[0]=t,$e[1]=e),Un[0]),NA=t=>{t===-0&&(t=0);const e=k0(t);return t<0?~e|1<<31:e},Wo=t=>t<-1?-1:t>1?1:t,AA=t=>Wo(t)*127&255,TA=t=>Wo(t)*32767&65535,IA=t=>Wo(t)*8388607&16777215,wA=t=>Wo(t)*2147483647>>>0,CA=t=>(t&=255,(t|(t>>7)*4294967040)/127),EA=t=>(t&=65535,(t|(t>>15)*4294901760)/32767),PA=t=>(t&=16777215,(t|(t>>23)*4278190080)/8388607),OA=t=>(t|0)/2147483647,MA=(t,e=!1)=>{const n=t&255,s=t>>8&255;return e?[n,s]:[s,n]},LA=(t,e=!1)=>{const n=t&255,s=t>>8&255,r=t>>16&255;return e?[n,s,r]:[r,s,n]},Ms=(t,e=!1)=>{const n=t&255,s=t>>8&255,r=t>>16&255,o=t>>24&255;return e?[n,s,r,o]:[o,r,s,n]},G0=(t,e,n=!1)=>n?Ms(e,n).concat(Ms(t,n)):Ms(t,n).concat(Ms(e,n)),RA=(t,e=!1)=>Ms(B0(t),e),vA=(t,e=!1)=>G0(...D0(t),e),Cr=new Array(33).fill(0).map((t,e)=>Math.pow(2,e)-1),Y0=t=>(t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24),UA=(t,e)=>Y0(t^e),_A=t=>t!==0?31-(Math.log(t>>>0)/Math.LN2|0):32,qA=t=>{let e=32;return t&=-t,t&&e--,t&65535&&(e-=16),t&16711935&&(e-=8),t&252645135&&(e-=4),t&858993459&&(e-=2),t&1431655765&&(e-=1),e},kA=t=>t>1?Math.ceil(Math.log2(t)):0,Zc=(t,e)=>(~Cr[t]&Cr[e])>>>0,Vt=(t,e)=>(e&Cr[t])>>>0,BA=(t,e)=>(e&~Cr[t])>>>0,DA=(t,e)=>(t&~(1<<e))>>>0,GA=(t,e)=>(t^1<<e)>>>0,YA=(t,e)=>(t|1<<e)>>>0,zA=(t,e,n,s)=>{const r=Zc(n,s);return t&~r|e<<(1<<n)&r},jA=(t,e,n)=>t&~Zc(e,n),$A=t=>(t^t>>>1)>>>0,VA=t=>(t=t^t>>>16,t=t^t>>>8,t=t^t>>>4,t=t^t>>>2,t=t^t>>>1,t>>>0),FA=t=>~t,HA=(t,e)=>t&e,XA=(t,e)=>~(t&e),xA=(t,e)=>t|e,ZA=(t,e)=>~(t|e),QA=(t,e)=>t^e,WA=(t,e)=>~(t^e),KA=(t,e)=>~t|e,JA=(t,e,n)=>~(t|e&n),tT=(t,e,n)=>~(t&(e|n)),eT=(t,e,n,s)=>~(t&e|n&s),nT=(t,e,n,s)=>~((t|e)&(n|s)),sT=(t,e,n)=>(t&~n|e&n)>>>0,rT=(t,e,n)=>[(t&~n)>>>0,(e&n)>>>0],oT=(t,e)=>Vt(t,~e),iT=(t,e,n)=>Vt(t,e&n),cT=(t,e,n)=>Vt(t,~(e&n)),aT=(t,e,n)=>Vt(t,e|n),lT=(t,e,n)=>Vt(t,~(e|n)),uT=(t,e,n)=>Vt(t,e^n),dT=(t,e,n)=>Vt(t,~(e^n)),fT=(t,e,n)=>Vt(t,~e|n),pT=(t,e,n,s)=>Vt(t,~(e|n&s)),mT=(t,e,n,s)=>Vt(t,~(e&(n|s))),hT=(t,e,n,s,r)=>Vt(t,~(e&n|s&r)),yT=(t,e,n,s,r)=>Vt(t,~((e|n)&(s|r))),gT=(t,e,n,s)=>Vt(t,e&~s|n&s),ST=(t,e,n,s)=>[Vt(t,e&~s),Vt(t,n&s)],bT=t=>!!t&&!(t&t-1),NT=t=>(t+=t===0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1),AT=t=>(t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)),TT=(t,e)=>(t<<e|t>>>32-e)>>>0,IT=(t,e)=>(t>>>e|t<<32-e)>>>0,wT=t=>(t&15)*1118481,CT=t=>(t&15)*286331153>>>0,ET=t=>(t&255)*65793,PT=t=>(t&255)*16843009>>>0,OT=t=>(t&=65535,(t<<16|t)>>>0),MT=t=>(t>>4&15)===(t&15),LT=t=>(t>>8&255)===(t&255),RT=(t,e)=>t>>>(1-e<<4)&65535,Er=(t,e)=>t>>>(3-e<<3)&255,yn=(t,e)=>t>>>(7-e<<2)&15,vT=(t,e)=>t>>>(15-e<<1)&3,UT=(t,e,n)=>n?Ko(t,e,65535):Ko(t,e<<16,4294901760),_T=(t,e,n)=>{const s=3-n<<3;return(~(255<<s)&t|(e&255)<<s)>>>0},qT=(t,e,n)=>{const s=7-n<<2;return(~(15<<s)&t|(e&15)<<s)>>>0},kT=(t,e,n)=>{const s=15-n<<1;return(~(3<<s)&t|(e&3)<<s)>>>0},BT=(t,e,n,s,r)=>(Er(t,e)<<24|Er(t,n)<<16|Er(t,s)<<8|Er(t,r))>>>0,DT=(t,e,n,s,r,o,i,a,l)=>(yn(t,e)<<28|yn(t,n)<<24|yn(t,s)<<20|yn(t,r)<<16|yn(t,o)<<12|yn(t,i)<<8|yn(t,a)<<4|yn(t,l))>>>0,Ko=(t,e,n)=>~n&t|n&e,z0=t=>(t>>>24|t>>8&65280|(t&65280)<<8|t<<24)>>>0,GT=t=>Ko(t<<16,t>>>16,65535),YT=z0;C.IS_LE=wr;C.MASKS=Cr;C.align=pA;C.bitAnd=HA;C.bitAndM=iT;C.bitAoi21=JA;C.bitAoi21M=pT;C.bitAoi22=eT;C.bitAoi22M=hT;C.bitClear=DA;C.bitClearWindow=jA;C.bitDemux=rT;C.bitDemuxM=ST;C.bitFlip=GA;C.bitImply=KA;C.bitImplyM=fT;C.bitMux=sT;C.bitMuxM=gT;C.bitNand=XA;C.bitNandM=cT;C.bitNor=ZA;C.bitNorM=lT;C.bitNot=FA;C.bitNotM=oT;C.bitOai21=tT;C.bitOai21M=mT;C.bitOai22=nT;C.bitOai22M=yT;C.bitOr=xA;C.bitOrM=aT;C.bitSet=YA;C.bitSetWindow=zA;C.bitSize=kA;C.bitXnor=WA;C.bitXnorM=dT;C.bitXor=QA;C.bitXorM=uT;C.bytes16=MA;C.bytes24=LA;C.bytes32=Ms;C.bytes64=G0;C.bytesF32=RA;C.bytesF64=vA;C.ceilPow2=NT;C.clz32=_A;C.ctz32=qA;C.decodeGray32=VA;C.defMask=Zc;C.encodeGray32=$A;C.f32u16=TA;C.f32u24=IA;C.f32u32=wA;C.f32u8=AA;C.flip16=GT;C.flip8=z0;C.flipBytes=YT;C.floatToIntBits=k0;C.floatToIntBits64=gA;C.floatToSortableInt=NA;C.floatToUintBits=B0;C.floatToUintBits64=D0;C.floorPow2=AT;C.hammingDist=UA;C.intBitsToFloat=hA;C.intBitsToFloat64=SA;C.isAligned=mA;C.isPow2=bT;C.lane16=RT;C.lane2=vT;C.lane4=yn;C.lane8=Er;C.maskH=BA;C.maskL=Vt;C.mux=Ko;C.popCount=Y0;C.rotateLeft=TT;C.rotateRight=IT;C.same4=MT;C.same8=LT;C.setLane16=UT;C.setLane2=kT;C.setLane4=qT;C.setLane8=_T;C.splat16_32=OT;C.splat4_24=wT;C.splat4_32=CT;C.splat8_24=ET;C.splat8_32=PT;C.swizzle4=DT;C.swizzle8=BT;C.u16f32=EA;C.u24f32=PA;C.u32f32=OA;C.u8f32=CA;C.uintBitsToFloat=yA;C.uintBitsToFloat64=bA});var Wc=D(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});const Qc={},zT=(t,e)=>Qc.hasOwnProperty(t)?Qc[t]:Qc[t]=e(),jT=(t,e)=>(!e&&(e=new Map),n=>{e.has(n)||(e.set(n,!0),t(n))});function $T(t,e){return(...n)=>{let s;return e.has(n)?e.get(n):(e.set(n,s=t.apply(null,n)),s)}}const VT=(t,e)=>(!e&&(e=new Map),n=>{let s;return e.has(n)?e.get(n):(e.set(n,s=t(n)),s)});function FT(t,e){return!e&&(e={}),(...n)=>{const s=JSON.stringify(n);return s!==void 0?s in e?e[s]:e[s]=t.apply(null,n):t.apply(null,n)}}is.defonce=zT;is.doOnce=jT;is.memoize=$T;is.memoize1=VT;is.memoizeJ=FT});var ue=D(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var ce=Os(),HT=De(),B=Wt(),Jo=ts(),Ls=Zt(),Kc=j0(),XT=qo(),xT=Wc(),Rs=mr();const gn=-Infinity,Sn=Infinity,$0=Object.freeze([gn,gn]),V0=Object.freeze([Sn,Sn]),F0=Object.freeze([1,1]),Jc=Object.freeze([0,0]),H0=Object.freeze([1,0]),X0=Object.freeze([0,1]),x0=Object.freeze([gn,gn,gn]),Z0=Object.freeze([Sn,Sn,Sn]),Q0=Object.freeze([1,1,1]),ta=Object.freeze([0,0,0]),W0=Object.freeze([1,0,0]),K0=Object.freeze([0,1,0]),J0=Object.freeze([0,0,1]),tf=Object.freeze([gn,gn,gn,gn]),ef=Object.freeze([Sn,Sn,Sn,Sn]),nf=Object.freeze([1,1,1,1]),sf=Object.freeze([0,0,0,0]),rf=Object.freeze([1,0,0,0]),of=Object.freeze([0,1,0,0]),cf=Object.freeze([0,0,1,0]),ZT=Object.freeze([0,0,0,1]),af=(t,e,n,s=!0,r=!0)=>{const o=n>0?s?function(){return this.buf[this.offset+n*this.stride]}:function(){return this.buf[this.offset+n]}:function(){return this.buf[this.offset]},i=n>0?s?function(a){this.buf[this.offset+n*this.stride]=a}:function(a){this.buf[this.offset+n]=a}:function(a){this.buf[this.offset]=a};r&&Object.defineProperty(t,n,{get:o,set:i,enumerable:!0}),Object.defineProperty(t,e,{get:o,set:i,enumerable:!0})},ti=(t,e,n,s)=>e.forEach((r,o)=>af(t,r,o,n,s));class ei{constructor(t,e=0,n=1){this.buf=t,this.offset=e,this.stride=n}}const ae=t=>([e,n,s])=>`${e}=${n}${t}${s};`,_n=t=>([e,n])=>`${e}=${n}${t}n;`,bn=(t,e)=>([n,s,r,o])=>`${n}=(${s}${t}${r})${e}${o};`,Pr=(t,e)=>([n,s,r])=>`${n}=(${s}${t}${r})${e}n;`,Or=(t,e)=>([n,s,r])=>`${n}=(${s}${t}n)${e}${r};`,lf=t=>([e,n,s])=>`${e}=(${n}${t}${s})|0;`,uf=t=>([e,n,s])=>`${e}=(${n}${t}${s})>>>0;`,df=t=>([e,n])=>`${e}=(${n}${t}n)|0;`,ff=t=>([e,n])=>`${e}=(${n}${t}n)>>>0;`,Mr=(t="op")=>([e,n])=>`${e}=${t}(${n});`,qn=(t="op")=>([e,n,s])=>`${e}=${t}(${n},${s});`,kn=(t="op")=>([e,n,s,r])=>`${e}=${t}(${n},${s},${r});`,pf=(t="op")=>([e,n,s,r,o,i])=>`${e}=${t}(${n},${s},${r},${o},${i});`,ni=(t="op")=>([e,n])=>`${e}=${t}(${n},n);`,ea=([t,e])=>`${t}*${e}`,mf=([t,e])=>`s+=${t}*${e};`,na=([t,e])=>`${t}=${e};`,sa=([t])=>`${t}=n;`,ra=([t,e,n,s])=>`${t}=${e}+(${n}-${e})*${s};`,oa=([t,e,n])=>`${t}=${e}+(${n}-${e})*n;`,Ut=(t=0)=>{const e=new Array(5);let n;const s=(...r)=>{const o=e[r[t].length]||n;return o?o(...r):HT.unsupported(`no impl for vec size ${r[t].length}`)};return s.add=(r,o)=>e[r]=o,s.default=r=>n=r,s.impl=r=>e[r]||n,s},Kt="o,a",Ve="o,a,b",gt="o,a,b,c",Fe="o,a,n",Lr="o,a,n,b",cs="o,a,b,n",as="io=0,ia=0,so=1,sa=1",Nn="io=0,ia=0,ib=0,so=1,sa=1,sb=1",vs="io=0,ia=0,ib=0,ic=0,so=1,sa=1,sb=1,sc=1",ia="!o&&(o=a);",Rr="!o&&(o=[]);",QT=t=>e=>e>1?`${t}[i${t}+${e}*s${t}]`:e==1?`${t}[i${t}+s${t}]`:`${t}[i${t}]`,WT=t=>ce.map(QT(t),ce.range()),KT=t=>ce.map(e=>`${t}[${e}]`,ce.range()),hf=(t,e,n,s="a",r="",o="",i="",a=!1)=>[o,ce.transduce(ce.comp(ce.take(t),ce.mapIndexed((l,u)=>e(u,l))),ce.str(r),ce.zip.apply(null,n.split(",").map(a?WT:KT))),i,s!==""?`return ${s};`:""],yf=(t,e,n="a",s,r,o=!1)=>[s,"for(let i=a.length;--i>=0;) {",t(e.split(",").map(o?i=>`${i}[i${i}+i*s${i}]`:i=>`${i}[i]`)),"}",r,n!==null?`return ${n};`:""],vr=(t,e)=>`!${t} && (${t}=${e.split(",")[1]});`,An=(t,e,n,s=n,r="a",o,i,a,l=!1)=>new Function(n,hf(t,e,s,r,o,i,a,l).join("")),si=(t,e,n,s,r,o=r,i="a",a="",l,u,f=!1)=>new Function(s,`return (${r})=>{${hf(t,n,o,i,a,l,u,f).join("")}}`)(...e),Us=(t,e,n=e,s="a",r,o,i=!1)=>new Function(e,yf(t,n,s,r,o,i).join("")),gf=(t,e,n,s,r=s,o="a",i,a,l=!1)=>new Function(n,`return (${s})=>{${yf(e,r,o,i,a,l).join("")}}`)(...t),j=(t,e=Ve,n,s="o",r=1,o)=>{n=n||e,o=o??vr(s,e);const i=Ut(r),a=l=>i.add(l,An(l,t,e,n,s,"",o));return i.default(Us(t,e,n,s,o)),[i,a(2),a(3),a(4)]},St=t=>j(Mr(t),Kt),Nt=(t,e,n=Kt,s,r="o",o=1,i)=>{const a=e||Mr("op");s=s||n,i=i??vr(r,n);const l=f=>si(f,[t],a,"op",n,s,r,"",i),u=Ut(o);return u.default(gf([t],a,"op",n,s,r,i)),[u,l(2),l(3),l(4)]},At=(t,e=`${Ve},${Nn}`,n=Ve,s="o",r,o=[2,3,4])=>o.map(i=>An(i,t,e,n,s,"",r??vr(s,e),"",!0)),ca=(t,e,n=`${Ve},${Nn}`,s=Ve,r="o",o,i=[2,3,4])=>i.map(a=>si(a,[t],e,"op",n,s,r,"",o??vr(r,n),"",!0)),_s=t=>j(ae(t)),qs=t=>j(_n(t),Fe),Ot=(t,e=!1)=>j((e?lf:uf)(t)),Mt=(t,e=!1)=>j((e?df:ff)(t),Fe);function*ri(t,e,n,s,r,o){for(;n-- >0;)yield new t(e,s,r),s+=o}function*ks(t,e,n,s){for(;e-- >0;)yield t[n],n+=s}const JT=(t,e,n,s,r=0,o=s*Jo.SIZEOF[t])=>{const i=[],a=Jo.TYPEDARRAY_CTORS[t];for(;--n>=0;r+=o)i.push(new a(e,r,s));return i},t4=(t,e,n,s,r)=>{const o=Jo.typedArray(t,e),i=Jo.SIZEOF[t];s/=i,r/=i;for(let a of n)o.set(a,s),s+=r},oi=(t,e,n,s,r,o)=>{const i=[];for(;--n>=0;)i.push(new t(e,s,r)),s+=o;return i},ii=(t,e,n,s,r,o)=>{for(let i of n)t(e,i,s,0,r,1),s+=o;return e},aa=t=>Ur.add(t,si(t,[B.eqDelta,B.EPS],([e,n])=>`eq(${e},${n},eps)`,"eq,_eps","a,b,eps=_eps","a,b","","&&","return a.length === b.length && ",";")),Ur=Ut();Ur.default((t,e,n=B.EPS)=>Ls.implementsFunction(t,"eqDelta")?t.eqDelta(e,n):Ls.implementsFunction(e,"eqDelta")?e.eqDelta(t,n):la(t,e,t.length,n));const Sf=aa(2),bf=aa(3),Nf=aa(4),la=(t,e,n,s=B.EPS,r=0,o=0,i=1,a=1)=>{for(;n>0;n--,r+=i,o+=a)if(!B.eqDelta(t[r],e[o],s))return!1;return!0},e4=(t,e,n=B.EPS)=>{if(t===e)return!0;if(t.length!==e.length)return!1;for(let s=t.length;--s>=0;)if(!Ur(t[s],e[s],n))return!1;return!0},n4=(t,e,n=B.EPS)=>{for(let s=e.length;--s>=0;)if(Ur(t,e[s],n))return!0;return!1},ci=(t,e=2654435761)=>{let n=-1;for(let s=t.length;--s>=0;)n=Math.imul(e,n)+s4(n,Kc.floatToUintBits(t[s]))>>>0;return n},r4=3432918353,o4=461845907,i4=3864292196,s4=(t,e)=>(e=Math.imul(Kc.rotateLeft(Math.imul(e,r4)>>>0,15),o4)>>>0,(Math.imul(Kc.rotateLeft(t^e,13),5)>>>0)+i4>>>0),[ai,Bs,ua]=At(na,`o,a,${as}`,"o,a","o",Rr),Af=(t,e,n,s=0,r=0,o=1,i=1)=>{for(let a=0;a<n;a++)t[s+a*o]=e[r+a*i];return t};class yt extends ei{constructor(t,e=0,n=1){super(t||[0,0],e,n)}static mapBuffer(t,e=t.length>>1,n=0,s=1,r=2){return oi(yt,t,e,n,s,r)}static intoBuffer(t,e,n=0,s=1,r=2){return ii(ai,t,e,n,s,r)}static iterator(t,e,n=0,s=1,r=2){return ri(yt,t,e,n,s,r)}[Symbol.iterator](){return ks(this.buf,2,this.offset,this.stride)}get length(){return 2}copy(){return new yt([this.x,this.y])}copyView(){return new yt(this.buf,this.offset,this.stride)}empty(){return new yt}eqDelta(t,e=B.EPS){return Sf(this,t,e)}hash(){return ci(this)}toJSON(){return[this.x,this.y]}toString(){return`[${this.x}, ${this.y}]`}}yt.X_AXIS=new yt(H0);yt.Y_AXIS=new yt(X0);yt.MIN=new yt($0);yt.MAX=new yt(V0);yt.ZERO=new yt(Jc);yt.ONE=new yt(F0);ti(yt.prototype,["x","y"]);const c4=(t=0,e=0)=>new yt([t,e]),a4=t=>new yt([t,t]),l4=t=>t instanceof yt?t:new yt(t.length>=2?t:[t[0]||0,t[1]||0]);class it extends ei{constructor(t,e=0,n=1){super(t||[0,0,0],e,n)}static mapBuffer(t,e=t.length/3|0,n=0,s=1,r=3){return oi(it,t,e,n,s,r)}static intoBuffer(t,e,n=0,s=1,r=3){return ii(Bs,t,e,n,s,r)}static iterator(t,e,n=0,s=1,r=3){return ri(it,t,e,n,s,r)}[Symbol.iterator](){return ks(this.buf,3,this.offset,this.stride)}get length(){return 3}copy(){return new it([this.x,this.y,this.z])}copyView(){return new it(this.buf,this.offset,this.stride)}empty(){return new it}eqDelta(t,e=B.EPS){return bf(this,t,e)}hash(){return ci(this)}toJSON(){return[this.x,this.y,this.z]}toString(){return`[${this.x}, ${this.y}, ${this.z}]`}}it.X_AXIS=new it(W0);it.Y_AXIS=new it(K0);it.Z_AXIS=new it(J0);it.MIN=new it(x0);it.MAX=new it(Z0);it.ZERO=new it(ta);it.ONE=new it(Q0);ti(it.prototype,["x","y","z"]);const u4=(t=0,e=0,n=0)=>new it([t,e,n]),d4=t=>new it([t,t,t]),f4=t=>t instanceof it?t:new it(t.length>=3?t:[t[0]||0,t[1]||0,t[2]||0]);class ct extends ei{constructor(t,e=0,n=1){super(t||[0,0,0,0],e,n)}static mapBuffer(t,e=t.length>>2,n=0,s=1,r=4){return oi(ct,t,e,n,s,r)}static intoBuffer(t,e,n=0,s=1,r=4){return ii(ua,t,e,n,s,r)}static*iterator(t,e,n=0,s=1,r=4){return ri(ct,t,e,n,s,r)}[Symbol.iterator](){return ks(this.buf,4,this.offset,this.stride)}get length(){return 4}copy(){return new ct([this.x,this.y,this.z,this.w])}copyView(){return new ct(this.buf,this.offset,this.stride)}empty(){return new ct}eqDelta(t,e=B.EPS){return Nf(this,t,e)}hash(){return ci(this)}toJSON(){return[this.x,this.y,this.z,this.w]}toString(){return`[${this.x}, ${this.y}, ${this.z}, ${this.w}]`}}ct.X_AXIS=new ct(rf);ct.Y_AXIS=new ct(of);ct.Z_AXIS=new ct(cf);ct.MIN=new ct(tf);ct.MAX=new ct(ef);ct.ZERO=new ct(sf);ct.ONE=new ct(nf);ti(ct.prototype,["x","y","z","w"]);const p4=(t=0,e=0,n=0,s=0)=>new ct([t,e,n,s]),m4=t=>new ct([t,t,t,t]),h4=t=>t instanceof ct?t:new ct(t.length>=4?t:[t[0]||0,t[1]||0,t[2]||0,t[3]||0]),[y4,g4,S4,b4]=St("Math.abs"),[N4,A4,T4,I4]=St("Math.acos"),[le,da,Tf,w4]=j(Or("*","+"),Lr,Ve),[He,C4,E4,P4]=qs("*"),O4=(t,e,n,s,r)=>(!t&&(t=e),le(t,n,r,He(t,e,s))),If=(t,e,n,s,r,o,i)=>(!t&&(t=e),le(t,s,i,le(t,n,o,He(t,e,r)))),fa=(t,e,n,s,r,o,i,a,l)=>(!t&&(t=e),le(t,r,l,le(t,s,a,le(t,n,i,He(t,e,o))))),M4=(t,e,n,s,r,o,i,a,l,u,f)=>(!t&&(t=e),le(t,o,f,le(t,r,u,le(t,s,l,le(t,n,a,He(t,e,i)))))),[wf,L4,R4,v4]=_s("+"),[U4,_4,q4,k4]=Ot("+",!0),[B4,D4,G4,Y4]=Ot("+"),[z4,j4,$4,V4]=Mt("+",!0),[F4,H4,X4,x4]=Mt("+"),[Z4,Q4,W4,K4]=j(bn("+","*"),gt),[pa,J4,tI,eI]=j(Pr("+","*"),cs),[nI,sI,rI]=At(bn("+","*"),`${gt},${vs}`,gt),[oI,iI,cI]=At(Pr("+","*"),`${cs},${Nn}`),[aI,lI,uI,dI]=qs("+"),[fI,pI,mI]=At(ae("+")),[hI,yI,gI]=At(_n("+"),`${Fe},${as}`,Kt),ls=(t,e,n)=>(!t&&(t=[]),t[0]=e,t[1]=n,t),Bn=(t,e,n,s)=>(!t&&(t=[]),t[0]=e,t[1]=n,t[2]=s,t),li=(t,e,n,s,r)=>(!t&&(t=[]),t[0]=e,t[1]=n,t[2]=s,t[3]=r,t),Cf=(t,e,n,s,r,o,i)=>(!t&&(t=[]),t[0]=e,t[1]=n,t[2]=s,t[3]=r,t[4]=o,t[5]=i,t),ma=(t,...e)=>{!t&&(t=[]);for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t},Ef=(t,e)=>t[0]*e[1]-t[1]*e[0],Pf=(t,e,n)=>Bn(t||e,e[1]*n[2]-e[2]*n[1],e[2]*n[0]-e[0]*n[2],e[0]*n[1]-e[1]*n[0]),ha=t=>an.add(t,An(t,ea,"a,b",void 0,"","+","return ",";")),an=Ut();an.default(Us(mf,"a,b",void 0,"s","let s=0;"));const SI=ha(2),bI=ha(3),NI=ha(4),ya=t=>_r.add(t,An(t,([e])=>`${e}*${e}`,"a","a","","+","return ",";")),_r=Ut();_r.default(Us(([t])=>`sum+=${t}*${t};`,"a",void 0,"sum","let sum=0;"));const AI=ya(2),TI=ya(3),II=ya(4),Ds=t=>Math.sqrt(_r(t)),Of=(t,e)=>an(t,e)/(Ds(t)*Ds(e)),wI=(t,e,n=!1)=>{const s=Math.atan2(Ef(t,e),an(t,e));return n?B.absInnerAngle(s):s},CI=(t,e,n=!0,s=!1)=>{const r=Math.acos(n?Of(t,e):an(t,e));return s?B.absInnerAngle(r):r},[EI,PI,OI,MI]=St("Math.asin"),[LI,RI,vI,UI]=St("Math.atan"),[_I,qI,kI,BI]=j(qn("Math.atan2"),Ve),[us,DI,GI,YI]=j(na,"o,a",void 0,"o",1,Rr),Dn=(t,e,n=1)=>{!t&&(t=e);const s=Ds(e);return s>=B.EPS?He(t,e,n/s):t!==e?us(t,e):t},[ui,zI,ga,jI]=_s("-"),qr=(t,e,n,s=1)=>Dn(null,ui(t||e,n,e),s),di=t=>B.atan2Abs(t[1],t[0]),$I=t=>B.atan2Abs(t[2],t[0]),VI=t=>B.atan2Abs(t[2],t[1]),FI=di,[HI,Mf,XI,xI]=j(oa,cs),Sa=(t,e)=>ls(t||e,-e[1],e[0]),Lf=(t,e)=>ls(t||e,e[1],-e[0]),ZI=(t,e)=>{const n=(di(t)+di(e))/2;return n<=B.HALF_PI?n:B.PI-n},QI=(t,e,n,s,r=1)=>(!t&&(t=[]),Dn(t,pa(t,Dn(t,ui(t,e,n)),Dn(null,ui([],s,n)),.5),r)),WI=(t,e,n,s,r=1)=>(!t&&(t=[]),Sa(t,Dn(t,Mf(t,qr(t,e,n),qr([],n,s),.5),r))),[KI,JI,tw,ew]=Ot("&",!0),[nw,sw,rw,ow]=Ot("&"),[iw,cw,aw,lw]=Mt("&",!0),[uw,dw,fw,pw]=Mt("&"),[mw,hw,yw,gw]=j(([t,e])=>`${t}=(~${e})|0;`,Kt),[Sw,bw,Nw,Aw]=j(([t,e])=>`${t}=(~${e})>>>0;`,Kt),[Tw,Iw,ww,Cw]=Ot("|",!0),[Ew,Pw,Ow,Mw]=Ot("|"),[Lw,Rw,vw,Uw]=Mt("|",!0),[_w,qw,kw,Bw]=Mt("|"),[Dw,Gw,Yw,zw]=Ot("^",!0),[jw,$w,Vw,Fw]=Ot("^"),[Hw,Xw,xw,Zw]=Mt("^",!0),[Qw,Ww,Kw,Jw]=Mt("^"),Rf=Math.cos,vf=Math.sin,ba=Ut(1),tC=ba.add(2,(t,e,n=Jc)=>da(t||e,B.cossin(e[1]),e[0],n)),eC=ba.add(3,(t,e,n=ta)=>{const s=e[0],r=e[1],o=e[2],i=Rf(r);return Bn(t||e,s*i*Rf(o)+n[0],s*i*vf(o)+n[1],s*vf(r)+n[2])}),[nC,sC,rC,oC]=St("Math.ceil"),[iC,cC,aC,lC]=Nt(B.clamp,kn(),gt),[uC,dC,fC,pC]=Nt(B.clamp01,kn(),gt),[mC,hC,yC,gC]=Nt(B.clamp11,kn(),gt),[SC,bC,NC,AC]=Nt(B.clamp,([t,e])=>`${t}=op(${e},n,m);`,"o,a,n,m","o,a"),Uf=(t,e,n)=>{const s=t[0],r=t[1];return(e[0]-s)*(n[1]-r)-(n[0]-s)*(e[1]-r)},TC=(t,e,n,s,r,o)=>(n-t)*(o-e)-(r-t)*(s-e),_f=(t,e,n,s=B.EPS)=>B.sign(Uf(t,e,n),s),IC=(t,e,n,s=B.EPS)=>_f(t,e,n,s)<0,wC=(t,e)=>(n,s)=>{const r=n[t],o=n[e],i=s[t],a=s[e];return r===i?o===a?0:o<a?-2:2:r<i?-1:1},CC=(t,e,n)=>(s,r)=>{const o=s[t],i=s[e],a=s[n],l=r[t],u=r[e],f=r[n];return o===l?i===u?a===f?0:a<f?-3:3:i<u?-2:2:o<l?-1:1},EC=(t,e,n,s)=>(r,o)=>{const i=r[t],a=r[e],l=r[n],u=o[s],f=o[t],y=o[e],b=o[n],T=o[s];return i===f?a===y?l===b?u===T?0:u<T?-4:4:l<b?-3:3:a<y?-2:2:i<f?-1:1},fi=(t,e=Rr)=>j(t,Kt,Kt,"o",1,e),[PC,OC,MC,LC]=fi(([t,e])=>`${t}=${e}|0;`),[RC,vC,UC,_C]=fi(([t,e])=>`${t}=${e}>>>0;`),[qC,kC,BC,DC]=fi(([t,e])=>`${t}=!!${e};`),[GC,YC,zC,jC]=fi(([t,e])=>`${t}=~~${e};`),qf=t=>Ls.implementsFunction(t,"copy")?t.copy():us([],t),$C=t=>t.map(qf),[VC,FC,HC,XC]=St("Math.cos"),[xC,ZC,QC,WC]=St("Math.cosh"),KC=(t,e,n,s=0,r=1)=>(!t&&(t=[]),t[s]=e,t[s+r]=n,t),kf=(t,e,n,s,r=0,o=1)=>(!t&&(t=[]),t[r]=e,t[r+o]=n,t[r+2*o]=s,t),JC=(t,e,n,s,r,o=0,i=1)=>(!t&&(t=[]),t[o]=e,t[o+i]=n,t[o+2*i]=s,t[o+3*i]=r,t),tE=(t,e,n=0,s=0,r=1,o=1)=>t[n]*e[s+o]-t[n+r]*e[s],eE=(t,e,n,s=0,r=0,o=0,i=1,a=1,l=1)=>kf(t||e,e[r+a]*n[o+2*l]-e[r+2*a]*n[o+l],e[r+2*a]*n[o]-e[r]*n[o+2*l],e[r]*n[o+l]-e[r+a]*n[o],s,i),[nE,sE,rE,oE]=Nt(B.deg,Mr("op")),Bf=([t,e])=>`t=${t}-${e};s+=t*t;`,Df="let t,s=0;",Na=t=>pi.add(t,An(t,Bf,"a,b",void 0,"s","",Df)),pi=Ut();pi.default(Us(Bf,"a,b",void 0,"s",Df));const iE=Na(2),cE=Na(3),aE=Na(4),lE=(t,e)=>Math.sqrt(pi(t,e)),Ta=t=>Aa.add(t,An(t,([e,n])=>`Math.abs(${e}-${n})`,"a,b",void 0,"",",","return Math.max(",");")),Aa=Ut();Aa.default((t,e)=>{let n=0;for(let s=t.length;--s>=0;)n=Math.max(n,Math.abs(t[s]-e[s]));return n});const uE=Ta(2),dE=Ta(3),fE=Ta(4),wa=t=>Ia.add(t,An(t,([e,n])=>`Math.abs(${e}-${n})`,"a,b",void 0,"","+","return ",";")),Ia=Ut();Ia.default(Us(([t,e])=>`sum+=Math.abs(${t}-${e});`,"a,b",void 0,"sum","let sum=0;"));const pE=wa(2),mE=wa(3),hE=wa(4),[yE,gE,SE,bE]=_s("/"),[NE,AE,TE,IE]=Ot("/",!0),[wE,CE,EE,PE]=Ot("/"),[OE,ME,LE,RE]=Mt("/",!0),[vE,UE,_E,qE]=Mt("/"),[kE,BE,DE,GE]=qs("/"),[YE,zE,jE]=At(ae("/")),[$E,VE,FE]=At(_n("/"),`${Fe},${as}`,Kt),HE=(t,e,n,s)=>t*e+n*s,XE=(t,e,n,s,r,o)=>t*e+n*s+r*o,xE=(t,e,n,s,r,o,i,a)=>t*e+n*s+r*o+i*a,Ca=t=>An(t,ea,`o,a,${as}`,"o,a","","+","return ",";",!0),Ea=Ca(2),Pa=Ca(3),Oa=Ca(4),[Ma,ZE,QE,WE]=j(sa,"a,n","a","a",0,""),Gf=t=>Ma(t,0),KE=t=>Ma(t,1),La=t=>new Array(t).fill(0),JE=t=>new Array(t).fill(1),tP=t=>Ls.implementsFunction(t,"empty")?t.empty():La(t.length),kr=Ut(0),eP=kr.add(2,(t,e)=>t[0]===e[0]&&t[1]===e[1]),nP=kr.add(3,(t,e)=>t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]),sP=kr.add(4,(t,e)=>t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]);kr.default(XT.equivArrayLike);const Br=Ut();Br.default(t=>{for(let e=t.length;--e>=0;)if(!t[e])return!1;return!0});const rP=Br.add(2,t=>t[0]&&t[1]),oP=Br.add(3,t=>t[0]&&t[1]&&t[2]),iP=Br.add(4,t=>t[0]&&t[1]&&t[2]&&t[3]),[cP,aP,lP,uP]=St("Math.exp"),[dP,fP,pP,mP]=j(([t,e])=>`${t}=Math.pow(2,${e});`,Kt),hP=(t,e,n,s)=>(!t&&(t=e),an(s,n)<0?t!==e?us(t,e):t:He(t,e,-1)),yP=(t,e,n,s,r,o=e.length*e.stride,i=n.length*n.stride,a=s.length*s.stride)=>{for(;r-- >0;)t(e,n,s),e.offset+=o,n.offset+=i,s.offset+=a;return e.buf},Yf=(t,e,n,s,r=e.length*e.stride,o=n.length*n.stride)=>{for(;s-- >0;)t(e,n),e.offset+=r,n.offset+=o;return e.buf},gP=(t,e,n,s,r,o=e.length*e.stride,i=n.length*n.stride)=>{for(;r-- >0;)t(e,n,s),e.offset+=o,n.offset+=i;return e.buf},SP=(t,e,n,s,r,o,i=e.length*e.stride,a=n.length*n.stride,l=s.length*s.stride,u=r.length*r.stride)=>{for(;o-- >0;)t(e,n,s,r),e.offset+=i,n.offset+=a,s.offset+=l,r.offset+=u;return e.buf},bP=(t,e,n,s,r,o,i=e.length*e.stride,a=n.length*n.stride,l=s.length*s.stride)=>{for(;o-- >0;)t(e,n,s,r),e.offset+=i,n.offset+=a,s.offset+=l;return e.buf},NP=(t,e,n,s=t.length*t.stride)=>Yf(us.impl(e.length),t,e,n,s,0),[AP,TP,IP,wP]=Nt(B.fit,pf(),"o,a,b,c,d,e"),[CP,EP,PP,OP]=Nt(B.fit01,kn(),gt),[MP,LP,RP,vP]=Nt(B.fit11,kn(),gt),[UP,_P,qP,kP]=St("Math.floor"),[BP,DP,GP,YP]=Nt(B.fmod,qn("op"),Ve),[zP,jP,$P,VP]=Nt(B.fmod,ni("op"),Fe,Kt),[FP,HP,XP,xP]=Nt(B.fract),zf="buf",Ra="length",va="offset",Ua="stride",jf="copy",$f="copyView",Vf="empty",Ff="eqDelta",Hf="toString",Xf=new Set([zf,jf,$f,Vf,Ff,Ra,va,Ua,Hf,Symbol.iterator]),ZP=xT.memoize1(t=>[...ce.map(String,ce.range(t)),...Xf]),xf=(t,e,n=0,s=1)=>new Proxy(t,{get(r,o){switch(o){case Symbol.iterator:return()=>ks(r,e,n,s);case Ra:return e;case zf:return t;case va:return n;case Ua:return s;case jf:return()=>Af([],r,e,0,n,1,s);case $f:return()=>xf(r,e,n,s);case Vf:return()=>La(e);case Ff:return(a,l=B.EPS)=>la(t,a,e,l,n,0,s,1);case Hf:return()=>JSON.stringify([...ks(r,e,n,s)]);default:const i=parseInt(o);return!isNaN(i)&&i>=0&&i<e?r[n+i*s]:void 0}},set(r,o,i){const a=parseInt(o);if(!isNaN(a)&&a>=0&&a<e)r[n+(o|0)*s]=i;else switch(o){case va:n=i;break;case Ua:s=i;break;case Ra:e=i;break;default:return!1}return!0},has(r,o){return o>=0&&o<e||Xf.has(o)},ownKeys(){return ZP(e)}}),_a=(t,e)=>(n,s)=>B.atan2Abs(s[t]-n[t],s[e]-n[e]),Zf=_a(1,0),QP=_a(2,0),WP=_a(2,1),KP=Zf,qa=Ut(1),JP=qa.add(3,(t,[e,n,s])=>ls(t||[],e/s,n/s)),tO=qa.add(4,(t,[e,n,s,r])=>Bn(t||[],e/r,n/r,s/r)),[eO,nO,sO,rO]=j(([t,e])=>`${t}=1/${e};`),[oO,iO,cO,aO]=j(([t,e])=>`${t}=1/Math.sqrt(${e});`),[lO,uO,dO,fO]=St("!isFinite"),[pO,mO,hO,yO]=St("isNaN"),[Qf,gO,SO,bO]=Nt(Rs.SYSTEM,([t])=>`${t}=rnd.minmax(n,m);`,"a,n=-1,m=1,rnd=op","a","a",0,"!a && (a=[]);"),Wf=(t,e=1,n=Rs.SYSTEM)=>Dn(t=Qf(t,-1,1,n),t,e),[NO,AO,TO,IO]=Nt(Rs.SYSTEM,([t,e,n])=>`${t}=rnd.minmax(${e},${n});`,"o,a,b,rnd=op","o,a,b"),wO=(t,e,n=1,s=Rs.SYSTEM)=>wf(t,e,Wf(new Array(e.length),n,s)),CO=(t,e,n)=>{!t&&(t=e);const s=Ds(e);return s>n?He(t,e,n/s):t!==e?us(t,e):t},[EO,PO,OO,MO]=St("Math.log"),[LO,RO,vO,UO]=St("Math.log2"),[_O,qO,kO,BO]=j(ae("&&")),[DO,GO,YO,zO]=j(_n("&&"),Fe),[jO,$O,VO,FO]=St("!"),[HO,XO,xO,ZO]=j(ae("||")),[QO,WO,KO,JO]=j(_n("||"),Fe),[tM,eM,nM,sM]=Ot("<<",!0),[rM,oM,iM,cM]=Ot("<<"),[aM,lM,uM,dM]=Mt("<<",!0),[fM,pM,mM,hM]=Mt("<<"),[yM,gM,SM,bM]=j(bn("*","+"),gt),[NM,AM,TM]=At(bn("*","+"),`${gt},${vs}`,gt),[IM,wM,CM]=At(Or("*","+"),`${Lr},${Nn}`),Kf=(t,e,n)=>Math.sqrt(Ea(t,t,e,e,n,n)),Jf=(t,e,n)=>Math.sqrt(Pa(t,t,e,e,n,n)),tp=(t,e,n)=>Math.sqrt(Oa(t,t,e,e,n,n)),EM=(t,e,n)=>Ea(t,t,e,e,n,n),PM=(t,e,n)=>Pa(t,t,e,e,n,n),OM=(t,e,n)=>Oa(t,t,e,e,n,n),ln=Math.abs,Dr=Ut();Dr.default(t=>{let e=-1,n=-Infinity;for(let s=t.length;--s>=0;){const r=ln(t[s]);r>n&&(n=r,e=s)}return e});const MM=Dr.add(2,t=>B.max2id(ln(t[0]),ln(t[1]))),LM=Dr.add(3,t=>B.max3id(ln(t[0]),ln(t[1]),ln(t[2]))),RM=Dr.add(4,t=>B.max4id(ln(t[0]),ln(t[1]),ln(t[2]),ln(t[3])));function vM(t,e,n,s,r){const o=n.length;if(!e&&(e=new Array(o)),r!==void 0)if(Ls.isNumber(r))for(let i=0;i<o;i++)e[i]=t(e[i]||[],n[i],s[i],r);else for(let i=0;i<o;i++)e[i]=t(e[i]||[],n[i],s[i],r[i]);else if(Ls.isNumber(s))for(let i=0;i<o;i++)e[i]=t(e[i]||[],n[i],s);else for(let i=0;i<o;i++)e[i]=t(e[i]||[],n[i],s[i]);return e}const[UM,_M,qM,kM]=j(qn("Math.max")),[BM,DM,GM,YM]=j(qn("Math.min")),un=Math.abs,Gr=Ut();Gr.default(t=>{let e=-1,n=Infinity;for(let s=t.length;--s>=0;){const r=un(t[s]);r<n&&(n=r,e=s)}return e});const zM=Gr.add(2,t=>B.min2id(un(t[0]),un(t[1]))),jM=Gr.add(3,t=>B.min3id(un(t[0]),un(t[1]),un(t[2]))),$M=Gr.add(4,t=>B.min4id(un(t[0]),un(t[1]),un(t[2]),un(t[3]))),[VM,FM,HM,XM]=Nt(B.mixBilinear,([t,e,n,s,r])=>`${t}=op(${e},${n},${s},${r},u,v);`,"o,a,b,c,d,u,v"),xM=(t,e,n,s,r,o)=>{const i=1-o,a=i*i,l=o*o;return fa(t,e,n,s,r,a*i,3*a*o,3*l*i,l*o)},[mi,ZM,QM,WM]=j(Pr("-","*"),cs),ka=(t,e,n,s,r,o)=>{const i=o-1,a=o*o,l=i*i;return fa(t,e,n,s,r,(1+2*o)*l,o*l,a*(3-2*o),a*i)},KM=(t,e,n,s,r,o,i=.5)=>ka(t,n,Ba([],e,s,i),s,Ba([],n,r,i),o),JM=(t,e,n,s,r,o)=>ka(t,n,Da([],e,n,s),s,Da([],n,s,r),o),Ba=(t,e,n,s=.5,r=0,o=2)=>mi(t,n,e,s/(o-r)),Da=(t,e,n,s,r=0,o=1,i=2)=>pa(t,mi(t,n,e,1/(o-r)),mi([],s,n,1/(i-o)),.5),tL=(t,e,n,s,r)=>{const o=1-r;return If(t,e,n,s,o*o,2*o*r,r*r)},[eL,nL,sL,rL]=j(ra,gt),[oL,iL,cL]=At(ra,`${gt},${vs}`,gt),[aL,lL,uL]=At(oa,`${cs},${Nn}`),[dL,fL,pL,mL]=_s("%"),[hL,yL,gL,SL]=qs("%"),[bL,NL,AL,TL]=j(bn("*","-"),gt),[IL,wL,CL,EL]=j(Or("*","-"),Lr,Ve),[PL,OL,ML]=At(bn("*","-"),`${gt},${vs}`,gt),[LL,RL,vL]=At(Or("*","-"),`${Lr},${Nn}`),[UL,_L,qL,kL]=_s("*"),[BL,DL,GL,YL]=Ot("*",!0),[zL,jL,$L,VL]=Ot("*"),[FL,HL,XL,xL]=Mt("*",!0),[ZL,QL,WL,KL]=Mt("*"),[JL,tR,eR]=At(ae("*")),[ep,np,sp]=At(_n("*"),`${Fe},${as}`,Kt),nR=(t,e)=>He(t,e,-1),sR=(t,e,n,s=1)=>Sa(null,qr(t||[],e,n,s)),rR=(t,e,n,s=1)=>Lf(null,qr(t||[],e,n,s)),rp=(t,e,n=1,s=0,r=0,o=1,i=1)=>{!t&&(t=e);const a=Kf(e,r,i);return a>=B.EPS?ep(t,e,n/a,s,r,o,i):t!==e?ai(t,e,s,r,o,i):t},op=(t,e,n=1,s=0,r=0,o=1,i=1)=>{!t&&(t=e);const a=Jf(e,r,i);return a>=B.EPS?np(t,e,n/a,s,r,o,i):t!==e?Bs(t,e,s,r,o,i):t},ip=(t,e,n=1,s=0,r=0,o=1,i=1)=>{!t&&(t=e);const a=tp(e,r,i);return a>=B.EPS?sp(t,e,n/a,s,r,o,i):t!==e?ua(t,e,s,r,o,i):t},[oR,iR,cR,aR]=j(([t,e])=>`${t}=!${e};`,Kt,Kt,"o",1,Rr),lR=(t,e,n,s,r=!0)=>(t=Pf(null,ga(t||e,n,e),ga([],s,e)),r?Dn(t,t):t),uR=(t,e,n,s)=>le(t,n,s,e),dR=(t,e,n,s)=>da(t,n,s,e),fR=(t,e,n,s)=>Tf(t,n,s,e),pR=Math.sqrt,mR=Math.asin,cp=Math.atan2,Ga=Ut(1),hR=Ga.add(2,(t,e)=>ls(t||e,Ds(e),cp(e[1],e[0]))),yR=Ga.add(3,(t,e)=>{const n=e[0],s=e[1],r=e[2],o=pR(n*n+s*s+r*r);return Bn(t||e,o,mR(r/o),cp(s,n))}),[gR,SR,bR,NR]=j(qn("Math.pow")),[AR,TR,IR,wR]=j(ni("Math.pow"),Fe),CR=(t,e,n)=>He(t||e,n,an(e,n)/_r(n)),[ER,PR,OR,MR]=Nt(B.rad,Mr("op")),[ap,lp,up]=ca(Rs.SYSTEM,([t])=>`${t}=rnd.minmax(n,m);`,"a,n=-1,m=1,rnd=op,ia=0,sa=1","a","a","!a && (a=[]);"),Ya=(t,e)=>(n,s=1,r,o=0,i=1)=>t(n=e(n,-1,1,r,o,i),n,s,o,o,i,i),LR=Ya(rp,ap),RR=Ya(op,lp),vR=Ya(ip,up),[UR,_R,qR]=ca(Rs.SYSTEM,([t,e,n])=>`${t}=rnd.minmax(${e},${n});`,`o,a,b,rnd=op,${Nn}`,"o,a,b"),kR=(t,e,n)=>le(t||e,n,-2*an(e,n),e),BR=(t,e,n,s)=>{!t&&(t=e);const r=an(e,n),o=1-s*s*(1-r*r);return o<0?Gf(t):le(t,n,-(s*r+Math.sqrt(o)),He(t,e,s))},DR=(t,e,n,s)=>{const r=e[0],o=e[1],i=e[2],a=n[0],l=n[1],u=n[2],f=a*r,y=a*o,b=a*i,T=l*r,I=l*o,O=l*i,q=u*r,H=u*o,V=u*i,tt=f+I+V,Z=Math.sin(s),ft=Math.cos(s);return Bn(t||e,a*tt+(r*(l*l+u*u)-a*(I+V))*ft+(-H+O)*Z,l*tt+(o*(a*a+u*u)-l*(f+V))*ft+(q-b)*Z,u*tt+(i*(a*a+l*l)-u*(f+I))*ft+(-T+y)*Z)},GR=(t,e,n,s)=>{const r=e[0]-n[0],o=e[1]-n[1],i=Math.sin(s),a=Math.cos(s);return ls(t||e,r*a-o*i+n[0],r*i+o*a+n[1])},za=(t,e)=>(n,s,r)=>{n?n!==s&&us(n,s):n=s;const o=Math.sin(r),i=Math.cos(r),a=s[t],l=s[e];return n[t]=a*i-l*o,n[e]=a*o+l*i,n},YR=za(1,2),zR=za(2,0),dp=za(0,1),jR=dp,hi=(t,e,n)=>(s,r,o,i=0,a=0,l=1,u=1)=>{s?s!==r&&t(s,r,i,a,l,u):s=r;const f=Math.sin(o),y=Math.cos(o),b=r[a+e*u],T=r[a+n*u];return s[i+e*l]=b*y-T*f,s[i+n*l]=b*f+T*y,s},$R=hi(ai,0,1),VR=hi(Bs,1,2),FR=hi(Bs,2,0),HR=hi(Bs,0,1),[XR,xR,ZR,QR]=Nt(B.roundTo,ni("op"),"o,a,n=1","o,a"),[WR,KR,JR,tv]=Ot(">>",!0),[ev,nv,sv,rv]=Ot(">>>"),[ov,iv,cv,av]=Mt(">>",!0),[lv,uv,dv,fv]=Mt(">>>"),[pv,mv,hv,yv]=Nt(B.safeDiv,qn("op"),Ve),[gv,Sv,bv]=At(sa,"o,n,io=0,so=1","o","o",""),Nv=(t,e,n)=>Bn(t,e[0],e[1],n),Av=(t,e,n)=>li(t,e[0],e[1],e[2],n),Tv=(t,e,n)=>li(t,e[0],e[1],n[0],n[1]),Iv=(t,e,n,s)=>Cf(t,e[0],e[1],n[0],n[1],s[0],s[1]),wv=(t,e,n,s)=>ma(t,e[0],e[1],e[2],n[0],n[1],n[2],s[0],s[1],s[2]),Cv=(t,e,n,s,r)=>ma(t,e[0],e[1],e[2],e[3],n[0],n[1],n[2],n[3],s[0],s[1],s[2],s[3],r[0],r[1],r[2],r[3]),[Ev,Pv,Ov,Mv]=St("Math.sign"),[Lv,Rv,vv,Uv]=St("Math.sin"),[_v,qv,kv,Bv]=St("Math.sinh"),Yr=Ut();Yr.default(t=>{for(let e=t.length;--e>=0;)if(t[e])return!0;return!1});const Dv=Yr.add(2,t=>t[0]||t[1]),Gv=Yr.add(3,t=>t[0]||t[1]||t[2]),Yv=Yr.add(4,t=>t[0]||t[1]||t[2]||t[3]),[zv,jv,$v,Vv]=St("Math.sqrt"),[Fv,Hv,Xv,xv]=Nt(B.step,qn("op"),"o,e,a",void 0,"o",2,ia),[Zv,Qv,Wv,Kv]=Nt(B.smoothStep,kn(),"o,e1,e2,a",void 0,"o",3,ia),[Jv,tU,eU,nU]=Ot("-",!0),[sU,rU,oU,iU]=Ot("-"),[cU,aU,lU,uU]=Mt("-",!0),[dU,fU,pU,mU]=Mt("-"),[hU,yU,gU,SU]=j(bn("-","*"),gt),[bU,NU,AU]=At(bn("-","*"),`${gt},${vs}`,gt),[TU,IU,wU]=At(Pr("-","*"),`${cs},${Nn}`),[CU,EU,PU,OU]=qs("-"),[MU,LU,RU]=At(ae("-")),[vU,UU,_U]=At(_n("-"),`${Fe},${as}`,Kt),zr=Ut();zr.default(t=>ce.reduce(ce.add(),t));const qU=zr.add(2,t=>t[0]+t[1]),kU=zr.add(3,t=>t[0]+t[1]+t[2]),BU=zr.add(4,t=>t[0]+t[1]+t[2]+t[3]),DU=(t,e,n,s)=>ls(t||e,e[n]||0,e[s]||0),yi=(t,e,n,s,r)=>Bn(t||e,e[n]||0,e[s]||0,e[r]||0),GU=(t,e,n,s,r,o)=>li(t||e,e[n]||0,e[s]||0,e[r]||0,e[o]||0),YU=(t,e)=>yi(t,e,1,0,2),zU=(t,e)=>yi(t,e,2,1,0),jU=(t,e)=>yi(t,e,0,2,1),$U=(t,e,n)=>(t[n]=e,t),VU=(t,e,n,s)=>(t[n]=e[0],t[s]=e[1],t),FU=(t,e,n,s,r)=>(t[n]=e[0],t[s]=e[1],t[r]=e[2],t),HU=(t,e,n,s,r,o)=>(t[n]=e[0],t[s]=e[1],t[r]=e[2],t[o]=e[3],t),[XU,xU,ZU,QU]=St("Math.tan"),[WU,KU,JU,t_]=St("Math.tanh"),[e_,n_,s_,r_]=St("Math.trunc"),o_=(t,e=0)=>new Array(t).fill(e),[i_,c_,a_,l_]=Nt(B.wrap,kn(),gt),[u_,d_,f_,p_]=j(ae("===")),[m_,h_,y_,g_]=j(ae("!==")),[S_,b_,N_,A_]=j(ae(">")),[T_,I_,w_,C_]=j(ae(">=")),[E_,P_,O_,M_]=j(ae("<")),[L_,R_,v_,U_]=j(ae("<="));c.ARGS_V=Kt;c.ARGS_VN=Fe;c.ARGS_VNV=Lr;c.ARGS_VV=Ve;c.ARGS_VVN=cs;c.ARGS_VVV=gt;c.AVec=ei;c.DEFAULT_OUT=ia;c.DOT=ea;c.DOT_G=mf;c.FN=Mr;c.FN2=qn;c.FN3=kn;c.FN5=pf;c.FN_N=ni;c.MATH=ae;c.MATH2=bn;c.MATH2A_N=Or;c.MATH2_N=Pr;c.MATH_N=_n;c.MAX2=V0;c.MAX3=Z0;c.MAX4=ef;c.MIN2=$0;c.MIN3=x0;c.MIN4=tf;c.MIX=ra;c.MIX_N=oa;c.NEW_OUT=Rr;c.ONE2=F0;c.ONE3=Q0;c.ONE4=nf;c.SARGS_V=as;c.SARGS_VV=Nn;c.SARGS_VVV=vs;c.SET=na;c.SET_N=sa;c.SIGNED=lf;c.SIGNED_N=df;c.UNSIGNED=uf;c.UNSIGNED_N=ff;c.Vec2=yt;c.Vec3=it;c.Vec4=ct;c.W4=ZT;c.X2=H0;c.X3=W0;c.X4=rf;c.Y2=X0;c.Y3=K0;c.Y4=of;c.Z3=J0;c.Z4=cf;c.ZERO2=Jc;c.ZERO3=ta;c.ZERO4=sf;c.abs=y4;c.abs2=g4;c.abs3=S4;c.abs4=b4;c.acos=N4;c.acos2=A4;c.acos3=T4;c.acos4=I4;c.add=wf;c.add2=L4;c.add3=R4;c.add4=v4;c.addI=U4;c.addI2=_4;c.addI3=q4;c.addI4=k4;c.addN=aI;c.addN2=lI;c.addN3=uI;c.addN4=dI;c.addNI=z4;c.addNI2=j4;c.addNI3=$4;c.addNI4=V4;c.addNS2=hI;c.addNS3=yI;c.addNS4=gI;c.addNU=F4;c.addNU2=H4;c.addNU3=X4;c.addNU4=x4;c.addS2=fI;c.addS3=pI;c.addS4=mI;c.addU=B4;c.addU2=D4;c.addU3=G4;c.addU4=Y4;c.addW2=O4;c.addW3=If;c.addW4=fa;c.addW5=M4;c.addm=Z4;c.addm2=Q4;c.addm3=W4;c.addm4=K4;c.addmN=pa;c.addmN2=J4;c.addmN3=tI;c.addmN4=eI;c.addmNS2=oI;c.addmNS3=iI;c.addmNS4=cI;c.addmS2=nI;c.addmS3=sI;c.addmS4=rI;c.angleBetween2=wI;c.angleBetween3=CI;c.angleRatio=Of;c.asBVec=qC;c.asBVec2=kC;c.asBVec3=BC;c.asBVec4=DC;c.asIVec=PC;c.asIVec2=OC;c.asIVec3=MC;c.asIVec4=LC;c.asUVec=RC;c.asUVec2=vC;c.asUVec3=UC;c.asUVec4=_C;c.asVec2=l4;c.asVec3=f4;c.asVec4=h4;c.asin=EI;c.asin2=PI;c.asin3=OI;c.asin4=MI;c.atan=LI;c.atan2=RI;c.atan3=vI;c.atan4=UI;c.atan_2=_I;c.atan_22=qI;c.atan_23=kI;c.atan_24=BI;c.bisect2=ZI;c.bitAndI=KI;c.bitAndI2=JI;c.bitAndI3=tw;c.bitAndI4=ew;c.bitAndNI=iw;c.bitAndNI2=cw;c.bitAndNI3=aw;c.bitAndNI4=lw;c.bitAndNU=uw;c.bitAndNU2=dw;c.bitAndNU3=fw;c.bitAndNU4=pw;c.bitAndU=nw;c.bitAndU2=sw;c.bitAndU3=rw;c.bitAndU4=ow;c.bitNotI=mw;c.bitNotI2=hw;c.bitNotI3=yw;c.bitNotI4=gw;c.bitNotU=Sw;c.bitNotU2=bw;c.bitNotU3=Nw;c.bitNotU4=Aw;c.bitOrI=Tw;c.bitOrI2=Iw;c.bitOrI3=ww;c.bitOrI4=Cw;c.bitOrNI=Lw;c.bitOrNI2=Rw;c.bitOrNI3=vw;c.bitOrNI4=Uw;c.bitOrNU=_w;c.bitOrNU2=qw;c.bitOrNU3=kw;c.bitOrNU4=Bw;c.bitOrU=Ew;c.bitOrU2=Pw;c.bitOrU3=Ow;c.bitOrU4=Mw;c.bitXorI=Dw;c.bitXorI2=Gw;c.bitXorI3=Yw;c.bitXorI4=zw;c.bitXorNI=Hw;c.bitXorNI2=Xw;c.bitXorNI3=xw;c.bitXorNI4=Zw;c.bitXorNU=Qw;c.bitXorNU2=Ww;c.bitXorNU3=Kw;c.bitXorNU4=Jw;c.bitXorU=jw;c.bitXorU2=$w;c.bitXorU3=Vw;c.bitXorU4=Fw;c.cartesian=ba;c.cartesian2=tC;c.cartesian3=eC;c.ceil=nC;c.ceil2=sC;c.ceil3=rC;c.ceil4=oC;c.clamp=iC;c.clamp01=uC;c.clamp01_2=dC;c.clamp01_3=fC;c.clamp01_4=pC;c.clamp11=mC;c.clamp11_2=hC;c.clamp11_3=yC;c.clamp11_4=gC;c.clamp2=cC;c.clamp3=aC;c.clamp4=lC;c.clampN=SC;c.clampN2=bC;c.clampN3=NC;c.clampN4=AC;c.clockwise2=IC;c.comparator2=wC;c.comparator3=CC;c.comparator4=EC;c.compile=An;c.compileG=Us;c.compileGHOF=gf;c.compileHOF=si;c.copy=qf;c.copyVectors=$C;c.corner2=_f;c.cornerBisector=QI;c.cornerBisector2=WI;c.cos=VC;c.cos2=FC;c.cos3=HC;c.cos4=XC;c.cosh=xC;c.cosh2=ZC;c.cosh3=QC;c.cosh4=WC;c.cross2=Ef;c.cross3=Pf;c.crossS2=tE;c.crossS3=eE;c.declareIndex=af;c.declareIndices=ti;c.defBitOp=Ot;c.defBitOpN=Mt;c.defFnOp=St;c.defHofOp=Nt;c.defHofOpS=ca;c.defMathOp=_s;c.defMathOpN=qs;c.defOp=j;c.defOpS=At;c.defaultOut=vr;c.degrees=nE;c.degrees2=sE;c.degrees3=rE;c.degrees4=oE;c.direction=qr;c.dist=lE;c.distChebyshev=Aa;c.distChebyshev2=uE;c.distChebyshev3=dE;c.distChebyshev4=fE;c.distManhattan=Ia;c.distManhattan2=pE;c.distManhattan3=mE;c.distManhattan4=hE;c.distSq=pi;c.distSq2=iE;c.distSq3=cE;c.distSq4=aE;c.div=yE;c.div2=gE;c.div3=SE;c.div4=bE;c.divI=NE;c.divI2=AE;c.divI3=TE;c.divI4=IE;c.divN=kE;c.divN2=BE;c.divN3=DE;c.divN4=GE;c.divNI=OE;c.divNI2=ME;c.divNI3=LE;c.divNI4=RE;c.divNS2=$E;c.divNS3=VE;c.divNS4=FE;c.divNU=vE;c.divNU2=UE;c.divNU3=_E;c.divNU4=qE;c.divS2=YE;c.divS3=zE;c.divS4=jE;c.divU=wE;c.divU2=CE;c.divU3=EE;c.divU4=PE;c.dot=an;c.dot2=SI;c.dot3=bI;c.dot4=NI;c.dotC4=HE;c.dotC6=XE;c.dotC8=xE;c.dotS2=Ea;c.dotS3=Pa;c.dotS4=Oa;c.empty=tP;c.eq=u_;c.eq2=d_;c.eq3=f_;c.eq4=p_;c.eqDelta=Ur;c.eqDelta2=Sf;c.eqDelta3=bf;c.eqDelta4=Nf;c.eqDeltaArray=e4;c.eqDeltaS=la;c.equals=kr;c.equals2=eP;c.equals3=nP;c.equals4=sP;c.every=Br;c.every2=rP;c.every3=oP;c.every4=iP;c.exp=cP;c.exp2=aP;c.exp3=lP;c.exp4=uP;c.exp_2=dP;c.exp_22=fP;c.exp_23=pP;c.exp_24=mP;c.faceForward=hP;c.fill=NP;c.fit=AP;c.fit01=CP;c.fit01_2=EP;c.fit01_3=PP;c.fit01_4=OP;c.fit11=MP;c.fit11_2=LP;c.fit11_3=RP;c.fit11_4=vP;c.fit2=TP;c.fit3=IP;c.fit4=wP;c.floor=UP;c.floor2=_P;c.floor3=qP;c.floor4=kP;c.fmod=BP;c.fmod2=DP;c.fmod3=GP;c.fmod4=YP;c.fmodN=zP;c.fmodN2=jP;c.fmodN3=$P;c.fmodN4=VP;c.fract=FP;c.fract2=HP;c.fract3=XP;c.fract4=xP;c.fromBVec=GC;c.fromBVec2=YC;c.fromBVec3=zC;c.fromBVec4=jC;c.fromHomogeneous=qa;c.fromHomogeneous3=JP;c.fromHomogeneous4=tO;c.gt=S_;c.gt2=b_;c.gt3=N_;c.gt4=A_;c.gte=T_;c.gte2=I_;c.gte3=w_;c.gte4=C_;c.gvec=xf;c.hash=ci;c.heading=FI;c.headingSegment=KP;c.headingSegmentXY=Zf;c.headingSegmentXZ=QP;c.headingSegmentYZ=WP;c.headingXY=di;c.headingXZ=$I;c.headingYZ=VI;c.intoBuffer=t4;c.intoStridedBuffer=ii;c.invSqrt=oO;c.invSqrt2=iO;c.invSqrt3=cO;c.invSqrt4=aO;c.invert=eO;c.invert2=nO;c.invert3=sO;c.invert4=rO;c.isInArray=n4;c.isInf=lO;c.isInf2=uO;c.isInf3=dO;c.isInf4=fO;c.isNaN=pO;c.isNaN2=mO;c.isNaN3=hO;c.isNaN4=yO;c.jitter=wO;c.limit=CO;c.log=EO;c.log2=PO;c.log3=OO;c.log4=MO;c.log_2=LO;c.log_22=RO;c.log_23=vO;c.log_24=UO;c.logicAnd=_O;c.logicAnd2=qO;c.logicAnd3=kO;c.logicAnd4=BO;c.logicAndN=DO;c.logicAndN2=GO;c.logicAndN3=YO;c.logicAndN4=zO;c.logicNot=jO;c.logicNot2=$O;c.logicNot3=VO;c.logicNot4=FO;c.logicOr=HO;c.logicOr2=XO;c.logicOr3=xO;c.logicOr4=ZO;c.logicOrN=QO;c.logicOrN2=WO;c.logicOrN3=KO;c.logicOrN4=JO;c.lshiftI=tM;c.lshiftI2=eM;c.lshiftI3=nM;c.lshiftI4=sM;c.lshiftNI=aM;c.lshiftNI2=lM;c.lshiftNI3=uM;c.lshiftNI4=dM;c.lshiftNU=fM;c.lshiftNU2=pM;c.lshiftNU3=mM;c.lshiftNU4=hM;c.lshiftU=rM;c.lshiftU2=oM;c.lshiftU3=iM;c.lshiftU4=cM;c.lt=E_;c.lt2=P_;c.lt3=O_;c.lt4=M_;c.lte=L_;c.lte2=R_;c.lte3=v_;c.lte4=U_;c.madd=yM;c.madd2=gM;c.madd3=SM;c.madd4=bM;c.maddN=le;c.maddN2=da;c.maddN3=Tf;c.maddN4=w4;c.maddNS2=IM;c.maddNS3=wM;c.maddNS4=CM;c.maddS2=NM;c.maddS3=AM;c.maddS4=TM;c.mag=Ds;c.magS2=Kf;c.magS3=Jf;c.magS4=tp;c.magSq=_r;c.magSq2=AI;c.magSq3=TI;c.magSq4=II;c.magSqS2=EM;c.magSqS3=PM;c.magSqS4=OM;c.major=Dr;c.major2=MM;c.major3=LM;c.major4=RM;c.mapBuffer=JT;c.mapStridedBuffer=oi;c.mapV=Yf;c.mapVN=gP;c.mapVV=yP;c.mapVVN=bP;c.mapVVV=SP;c.mapVectors=vM;c.max=UM;c.max2=_M;c.max3=qM;c.max4=kM;c.min=BM;c.min2=DM;c.min3=GM;c.min4=YM;c.minor=Gr;c.minor2=zM;c.minor3=jM;c.minor4=$M;c.mix=eL;c.mix2=nL;c.mix3=sL;c.mix4=rL;c.mixBilinear=VM;c.mixBilinear2=FM;c.mixBilinear3=HM;c.mixBilinear4=XM;c.mixCubic=xM;c.mixCubicHermite=ka;c.mixHermiteCardinal=KM;c.mixHermiteDiff3=JM;c.mixN=HI;c.mixN2=Mf;c.mixN3=XI;c.mixN4=xI;c.mixNS2=aL;c.mixNS3=lL;c.mixNS4=uL;c.mixQuadratic=tL;c.mixS2=oL;c.mixS3=iL;c.mixS4=cL;c.mod=dL;c.mod2=fL;c.mod3=pL;c.mod4=mL;c.modN=hL;c.modN2=yL;c.modN3=gL;c.modN4=SL;c.msub=bL;c.msub2=NL;c.msub3=AL;c.msub4=TL;c.msubN=IL;c.msubN2=wL;c.msubN3=CL;c.msubN4=EL;c.msubNS2=LL;c.msubNS3=RL;c.msubNS4=vL;c.msubS2=PL;c.msubS3=OL;c.msubS4=ML;c.mul=UL;c.mul2=_L;c.mul3=qL;c.mul4=kL;c.mulI=BL;c.mulI2=DL;c.mulI3=GL;c.mulI4=YL;c.mulN=He;c.mulN2=C4;c.mulN3=E4;c.mulN4=P4;c.mulNI=FL;c.mulNI2=HL;c.mulNI3=XL;c.mulNI4=xL;c.mulNS2=ep;c.mulNS3=np;c.mulNS4=sp;c.mulNU=ZL;c.mulNU2=QL;c.mulNU3=WL;c.mulNU4=KL;c.mulS2=JL;c.mulS3=tR;c.mulS4=eR;c.mulU=zL;c.mulU2=jL;c.mulU3=$L;c.mulU4=VL;c.neg=nR;c.neq=m_;c.neq2=h_;c.neq3=y_;c.neq4=g_;c.normalCCW=sR;c.normalCW=rR;c.normalize=Dn;c.normalizeS2=rp;c.normalizeS3=op;c.normalizeS4=ip;c.not=oR;c.not2=iR;c.not3=cR;c.not4=aR;c.one=KE;c.ones=JE;c.orthoNormal3=lR;c.perpendicularCCW=Sa;c.perpendicularCW=Lf;c.pointOnRay=uR;c.pointOnRay2=dR;c.pointOnRay3=fR;c.polar=Ga;c.polar2=hR;c.polar3=yR;c.pow=gR;c.pow2=SR;c.pow3=bR;c.pow4=NR;c.powN=AR;c.powN2=TR;c.powN3=IR;c.powN4=wR;c.project=CR;c.radians=ER;c.radians2=PR;c.radians3=OR;c.radians4=MR;c.randMinMax=NO;c.randMinMax2=AO;c.randMinMax3=TO;c.randMinMax4=IO;c.randMinMaxS2=UR;c.randMinMaxS3=_R;c.randMinMaxS4=qR;c.randNorm=Wf;c.randNormS2=LR;c.randNormS3=RR;c.randNormS4=vR;c.random=Qf;c.random2=gO;c.random3=SO;c.random4=bO;c.randomS2=ap;c.randomS3=lp;c.randomS4=up;c.reflect=kR;c.refract=BR;c.rotate=jR;c.rotateAroundAxis3=DR;c.rotateAroundPoint2=GR;c.rotateS2=$R;c.rotateX=YR;c.rotateXS3=VR;c.rotateY=zR;c.rotateYS3=FR;c.rotateZ=dp;c.rotateZS3=HR;c.round=XR;c.round2=xR;c.round3=ZR;c.round4=QR;c.rshiftI=WR;c.rshiftI2=KR;c.rshiftI3=JR;c.rshiftI4=tv;c.rshiftNI=ov;c.rshiftNI2=iv;c.rshiftNI3=cv;c.rshiftNI4=av;c.rshiftNU=lv;c.rshiftNU2=uv;c.rshiftNU3=dv;c.rshiftNU4=fv;c.rshiftU=ev;c.rshiftU2=nv;c.rshiftU3=sv;c.rshiftU4=rv;c.safeDiv=pv;c.safeDiv2=mv;c.safeDiv3=hv;c.safeDiv4=yv;c.set=us;c.set2=DI;c.set3=GI;c.set4=YI;c.setC=ma;c.setC2=ls;c.setC3=Bn;c.setC4=li;c.setC6=Cf;c.setCS2=KC;c.setCS3=kf;c.setCS4=JC;c.setN=Ma;c.setN2=ZE;c.setN3=QE;c.setN4=WE;c.setNS2=gv;c.setNS3=Sv;c.setNS4=bv;c.setS=Af;c.setS2=ai;c.setS3=Bs;c.setS4=ua;c.setSwizzle1=$U;c.setSwizzle2=VU;c.setSwizzle3=FU;c.setSwizzle4=HU;c.setVN3=Nv;c.setVN4=Av;c.setVV16=Cv;c.setVV4=Tv;c.setVV6=Iv;c.setVV9=wv;c.sign=Ev;c.sign2=Pv;c.sign3=Ov;c.sign4=Mv;c.signedArea2=Uf;c.signedAreaC2=TC;c.sin=Lv;c.sin2=Rv;c.sin3=vv;c.sin4=Uv;c.sinh=_v;c.sinh2=qv;c.sinh3=kv;c.sinh4=Bv;c.smoothStep=Zv;c.smoothStep2=Qv;c.smoothStep3=Wv;c.smoothStep4=Kv;c.some=Yr;c.some2=Dv;c.some3=Gv;c.some4=Yv;c.sqrt=zv;c.sqrt2=jv;c.sqrt3=$v;c.sqrt4=Vv;c.step=Fv;c.step2=Hv;c.step3=Xv;c.step4=xv;c.stridedValues=ks;c.sub=ui;c.sub2=zI;c.sub3=ga;c.sub4=jI;c.subI=Jv;c.subI2=tU;c.subI3=eU;c.subI4=nU;c.subN=CU;c.subN2=EU;c.subN3=PU;c.subN4=OU;c.subNI=cU;c.subNI2=aU;c.subNI3=lU;c.subNI4=uU;c.subNS2=vU;c.subNS3=UU;c.subNS4=_U;c.subNU=dU;c.subNU2=fU;c.subNU3=pU;c.subNU4=mU;c.subS2=MU;c.subS3=LU;c.subS4=RU;c.subU=sU;c.subU2=rU;c.subU3=oU;c.subU4=iU;c.subm=hU;c.subm2=yU;c.subm3=gU;c.subm4=SU;c.submN=mi;c.submN2=ZM;c.submN3=QM;c.submN4=WM;c.submNS2=TU;c.submNS3=IU;c.submNS4=wU;c.submS2=bU;c.submS3=NU;c.submS4=AU;c.sum=zr;c.sum2=qU;c.sum3=kU;c.sum4=BU;c.swapXY=YU;c.swapXZ=zU;c.swapYZ=jU;c.swizzle2=DU;c.swizzle3=yi;c.swizzle4=GU;c.tan=XU;c.tan2=xU;c.tan3=ZU;c.tan4=QU;c.tangentCardinal=Ba;c.tangentDiff3=Da;c.tanh=WU;c.tanh2=KU;c.tanh3=JU;c.tanh4=t_;c.trunc=e_;c.trunc2=n_;c.trunc3=s_;c.trunc4=r_;c.vec2=c4;c.vec2n=a4;c.vec3=u4;c.vec3n=d4;c.vec4=p4;c.vec4n=m4;c.vecIterator=ri;c.vecOf=o_;c.vop=Ut;c.wrap=i_;c.wrap2=c_;c.wrap3=a_;c.wrap4=l_;c.zero=Gf;c.zeroes=La});var Si=D(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});var Xe=Wt(),st=ue();const __=(t,e,n,s=[])=>{const[r,o]=fp(t,e,n,4);return r===0?st.setC2(s,o,Xe.clamp(t[1],e[1],n[1])):st.setC2(s,Xe.clamp(t[0],e[0],n[0]),o)},q_=(t,e,n,s=[])=>{const[r,o]=fp(t,e,n,6);return r===0?st.setC3(s,o,Xe.clamp(t[1],e[1],n[1]),Xe.clamp(t[2],e[2],n[2])):r===1?st.setC3(s,Xe.clamp(t[0],e[0],n[0]),o,Xe.clamp(t[2],e[2],n[2])):st.setC3(s,Xe.clamp(t[0],e[0],n[0]),Xe.clamp(t[1],e[1],n[1]),o)},fp=(t,e,n,s)=>{let r=Infinity,o,i;for(let a=0;a<s;a++){const l=a>>1,u=(a&1?n:e)[l],f=Math.abs(t[l]-u);f<r&&(r=f,o=l,i=u)}return[o,i]},pp=(t,e,n,s=[])=>st.add(s,e,st.direction(s,e,t,n)),k_=pp,B_=([t,e],[n,s],[r,o],i=3)=>{const a=Math.abs(t-n),l=Math.abs(e-s),u=(r*r-o*o)/r,f=(o*o-r*r)/o;let y=Xe.SQRT2_2,b=y;for(;--i>=0;){const T=u*y*y*y,I=f*b*b*b,O=a-T,q=l-I,H=Math.hypot(r*y-T,o*b-I)/Math.hypot(O,q);y=Xe.clamp01((O*H+T)/r),b=Xe.clamp01((q*H+I)/o);const V=Math.hypot(y,b);y/=V,b/=V}return[r*(t<n?-y:y)+n,o*(e<s?-b:b)+s]},ja=(t,e,n)=>{const s=st.sub([],n,e),r=st.magSq(s);return r>1e-6?st.dot(st.sub([],t,e),s)/r:void 0},mp=(t,e,n)=>st.mixN([],e,n,ja(t,e,n)||0),D_=(t,e,n)=>st.dist(t,mp(t,e,n)||e),gi=(t,e,n,s,r=!1,o=0)=>{const i=ja(t,e,n);if(i!==void 0&&(!r||i>=o&&i<=1-o))return s=s||st.empty(t),i<=0?st.set(s,e):i>=1?st.set(s,n):st.mixN(s,e,n,i)},G_=(t,e,n)=>st.dist(t,gi(t,e,n)||e),Y_=(t,e,n=!1,s=[])=>{if(!e.length)return;const r=[],o=e.length-1;let i=Infinity,a,l;for(n?(a=o,l=0):(a=0,l=1);l<=o;a=l,l++)if(gi(t,e[a],e[l],r)){const u=st.distSq(t,r);u<i&&(i=u,st.set(s,r))}return i<Infinity?s:void 0},z_=(t,e,n,s=0,r=n.length)=>{let o=-1,i=-1;const a=st.empty(t);for(let l=s;l<r;l++){const u=n[l],f=st.distSq(u,gi(u,t,e,a)||t);f>o&&(o=f,i=l)}return[i,Math.sqrt(o)]},hp=(t,e,n)=>st.dot(e,t)-n,j_=(t,e,n,s=[])=>st.sub(s,t,st.normalize(s,e,hp(t,e,n))),$_=(t,e,n=[],s=st.distSq)=>{let r=Infinity,o;for(let i=e.length;--i>=0;){const a=s(e[i],t);a<r&&(r=a,o=e[i])}return o?st.set(n,o):void 0};Bt.closestPointAABB=q_;Bt.closestPointArray=$_;Bt.closestPointCircle=pp;Bt.closestPointEllipse=B_;Bt.closestPointLine=mp;Bt.closestPointPlane=j_;Bt.closestPointPolyline=Y_;Bt.closestPointRect=__;Bt.closestPointSegment=gi;Bt.closestPointSphere=k_;Bt.closestT=ja;Bt.distToLine=D_;Bt.distToPlane=hp;Bt.distToSegment=G_;Bt.farthestPointSegment=z_});var Ni=D(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});var V_=Zt(),$a=Jn(),Pe=ue(),bi=Si(),yp=Wt();class gp{constructor(t,e=!1){e?(this.points=t.slice(),this.points.push(t[0])):this.points=t,this.buildIndex()}totalLength(){const t=this.index;return t?t[t.length-1]:0}pointAt(t){const e=this.points,n=e.length-1;if(n<0)return;if(n===0||t<=0)return e[0];if(t>=1)return e[n];const s=this.index,r=t*s[n];for(let o=1;o<=n;o++)if(s[o]>=r)return Pe.mixN([],e[o-1],e[o],(r-s[o-1])/(s[o]-s[o-1]))}closestPoint(t){return bi.closestPointPolyline(t,this.points)}closestT(t){const e=this.points,n=this.index,s=[],r=[];let o=Infinity,i=-1;for(let a=0,l=n.length-1;a<l;a++)if(bi.closestPointSegment(t,e[a],e[a+1],s)){const u=Pe.distSq(t,s);u<o&&(o=u,i=a,Pe.set(r,s))}return i>=0?yp.fit01(bi.closestT(t,e[i],e[i+1])||0,n[i],n[i+1])/this.totalLength():void 0}segmentAt(t){let e=this.indexAt(t);return e===void 0?void 0:(e=Math.max(1,e),[this.points[e-1],this.points[e]])}tangentAt(t,e=1){const n=this.segmentAt(t);return n?Pe.normalize(null,Pe.sub([],n[1],n[0]),e):void 0}splitAt(t){if(t<=0||t>=1)return[this.points];const e=this.pointAt(t);if(!e)return;const n=Math.max(1,this.indexAt(t)),s=this.points.slice(0,n),r=this.points.slice(n);return Pe.eqDelta(s[n-1],e)||s.push(e),Pe.eqDelta(r[0],e)||r.unshift(e),[s,r]}splitNear(t){const e=this.closestT(t);return e!==void 0?this.splitAt(e):void 0}indexAt(t){const e=this.points,n=e.length-1;if(n<0)return;if(n===0||t<=0)return 0;if(t>=1)return n;const s=this.index,r=t*s[n];for(let o=1;o<=n;o++)if(s[o]>=r)return o}sampleUniform(t,e=!1,n=[]){const s=this.index,r=this.points,o=this.totalLength(),i=t/o,a=s.length;for(let l=0,u=1;l<1;l+=i){const f=l*o;for(;f>=s[u]&&u<a;)u++;if(u>=a)break;const y=s[u-1];n.push(Pe.mixN([],r[u-1],r[u],(f-y)/(s[u]-y)))}return e&&n.push(Pe.set([],r[r.length-1])),n}sampleFixedNum(t,e=!1,n){return this.sampleUniform(this.totalLength()/t,e,n)}buildIndex(){const t=[0],e=this.points,n=e.length;for(let s=0,r=1;r<n;s=r,r++)t[r]=t[s]+Pe.dist(e[s],e[r]);this.index=t}}const F_=(t,e,n=!1,s=!1)=>{if(e!==void 0){const r=new gp(t,n);return V_.isPlainObject(e)?n?e.dist?r.sampleUniform(e.dist,e.last):r.sampleFixedNum(e.num||$a.DEFAULT_SAMPLES,e.last):e.dist?r.sampleUniform(e.dist,e.last!==!1):r.sampleFixedNum(e.num||$a.DEFAULT_SAMPLES,e.last!==!1):r.sampleFixedNum(e||$a.DEFAULT_SAMPLES,!n)}return s?Pe.copyVectors(t):t},H_=(t,e=0,n=!1)=>{let s=t.length;const r=[];if(s<=2)return t.slice();n&&!Pe.eqDelta(t[0],t[s-1],yp.EPS)&&(t=t.slice(),t.push(t[0]),s++);const o=(a,l)=>{if(r[a]=r[l]=!0,l<=a+1)return;const[u,f]=bi.farthestPointSegment(t[a],t[l],t,a+1,l);if(u<0||f<=e)return;o(a,u),o(u,l)};o(0,s-1);const i=[];for(let a=0,l=n?s-1:s;a<l;a++)r[a]&&i.push(t[a]);return i};jr.Sampler=gp;jr.resample=F_;jr.simplify=H_});var Va=D(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});var Ct=Wt(),lt=ue(),Sp=Zt(),bp=Jn(),X_=Ni();const x_=(t,e,n,s,r,o,i=[])=>$r(t,e,n,Ct.fit01(o,s,r),i),$r=(t,e,n,s,r=[])=>lt.add2(null,lt.rotateZ(null,lt.mul2(r,Ct.cossin(s),e),n),t),Z_=(t,e,n,s,r)=>{const o=lt.set2([],lt.MAX2),i=lt.set2([],lt.MIN2),a=[],l=u=>{$r(t,e,n,u,a),lt.min2(null,o,a),lt.max2(null,i,a)};if(l(s),l(r),s>r){const u=s;s=r,r=u}for(let u=Ct.roundTo(s,Ct.HALF_PI),f=Ct.roundTo(r,Ct.HALF_PI);u<f;u+=Ct.HALF_PI)Ct.inRange(u,s,r)&&l(u);return[o,i]},Q_=(t,e,n,s,r,o,i=[],a,l)=>{const u=f=>$r(e,n,s,Ct.fit01(f,r,o),i);return u(Ct.minError(u,lt.distSq2,t,a,l))},W_=(t,e,n,s=0,r=!1,o=!1)=>{const i=lt.abs2([],n);if(lt.eqDelta2(t,e)||i[0]<Ct.EPS||i[1]<Ct.EPS)return;s%=Ct.TAU;const a=lt.submN2([],t,e,.5),l=Math.cos(s),u=Math.sin(s),f=[l*a[0]+u*a[1],-u*a[0]+l*a[1]],[y,b]=lt.powN2([],f,2),T=y/(i[0]*i[0])+b/(i[1]*i[1]);T>1&&lt.mulN2(i,i,Math.sqrt(T));const[I,O]=i,q=I*I,H=O*O,V=Math.max(0,(q*H-q*b-H*y)/(q*b+H*y)),tt=(r!==o?1:-1)*Math.sqrt(V),Z=[tt*(I*f[1]/O),tt*(-(O*f[0])/I)],ft=[l*Z[0]-u*Z[1]+(t[0]+e[0])/2,u*Z[0]+l*Z[1]+(t[1]+e[1])/2],pt=lt.div2(null,lt.sub2([],f,Z),i),jt=lt.div2(null,lt.sub2(null,lt.neg([],f),Z),i),$t=lt.angleBetween2(lt.X2,pt);let at=lt.angleBetween2(pt,jt);return!o&&at>0?at-=Ct.TAU:o&&at<0&&(at+=Ct.TAU),at%=Ct.TAU,{center:ft,r:i,axis:s,start:$t,end:$t+at,xl:r,cw:o}},Np=(t,e,n,s,r,o)=>{if(Sp.isPlainObject(o)&&o.dist!==void 0)return new X_.Sampler(Np(t,e,n,s,r,o.num||bp.DEFAULT_SAMPLES)).sampleUniform(o.dist,o.last!==!1);o=Sp.isNumber(o)?{num:o,last:!0}:Object.assign({num:bp.DEFAULT_SAMPLES},o);let i=r-s,a=o.theta?Math.round(i/o.theta):o.num;i/=a,o.last!==!1&&a++;const l=new Array(a);for(let u=0;u<a;u++)l[u]=$r(t,e,n,s+u*i);return l},K_=(t,e,n,s,r=[],o=8,i=!0,a=!0)=>{let l=Math.atan2(n[1]-t[1],n[0]-t[0]),u=Math.atan2(s[1]-t[1],s[0]-t[0]);l<0&&(l+=Ct.TAU),u<0&&(u+=Ct.TAU);const f=l>u?l-u:l+Ct.TAU-u,y=(i?-f:Ct.TAU-f)/o;r.push(n);for(let b=1;b<o;b++)r.push(lt.cartesian2(null,[e,l+y*b],t));return a&&r.push(s),r};Tn.bounds=Z_;Tn.closestPoint=Q_;Tn.fromEndPoints=W_;Tn.pointAt=x_;Tn.pointAtTheta=$r;Tn.sample=Np;Tn.sampleCircular=K_});var Ai=D(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});var rt=ue(),J_=De(),Fa=Wt(),Vr=Jn();const tq=t=>{const e=t.length-1;if(e<2)return 0;let n=0,s=t[e],r=t[0];for(let o=0;o<=e;s=r,r=t[++o])n+=rt.cross2(s,r);return n/2},eq=rt.signedArea2,nq=(t,e,n,s,r=[])=>{const o=rt.sub([],e,t),i=rt.sub([],n,t),a=rt.sub([],s,t),l=rt.magSq(o),u=rt.magSq(i),f=rt.dot(o,i),y=rt.dot(o,a),b=rt.dot(i,a),T=1/(f*f-l*u),I=T*(f*b-u*y),O=T*(f*y-l*b);return rt.setC3(r,1-(I+O),I,O)},sq=(t,e,n,s,r=[])=>rt.addW3(r,t,e,n,s[0],s[1],s[2]),rq=(t,e,n)=>{for(let s=t.length;--s>=0;){const r=t[s];rt.min(null,e,r),rt.max(null,n,r)}return[e,n]},oq=(t,e=[])=>{const n=t.length-1;let s=0,r=0,o=0,i=t[n],a=t[0];for(let l=0;l<=n;i=a,a=t[++l]){const u=rt.cross2(i,a);s+=u,r+=(i[0]+a[0])*u,o+=(i[1]+a[1])*u}return s=1/(s*3),e[0]=r*s,e[1]=o*s,e},iq=(t,e)=>{const n=t.length;!n&&J_.illegalArgs("no points"),!e&&(e=rt.empty(t[0]));for(let s=n;--s>=0;)rt.add(e,e,t[s]);return rt.divN(e,e,n)},cq=(t,e,n,s=Fa.EPS)=>{const r=t[0],o=t[1],i=e[0],a=e[1],l=n[0],u=n[1],f=i-r,y=a-o,b=l-i,T=u-a,I=Math.abs(y),O=Math.abs(T);if(I<s&&O<s||Math.abs(f)<s&&Math.abs(b)<s)return;const q=(r+i)/2,H=(o+a)/2,V=(i+l)/2,tt=(a+u)/2;if(I<s)return[q,-b/T*(q-V)+tt];if(O<s)return[V,-f/y*(V-q)+H];let Z=-f/y,ft=-b/T,pt=q,jt=H,$t=V,at=tt,me=(Z*pt-ft*$t+at-jt)/(Z-ft),nn=I>O?Z*(me-pt)+jt:ft*(me-$t)+at;return[me,nn]},aq=(t,e=Fa.EPS)=>{let n=t.length;if(n<3)return n<2?Vr.Convexity.ILLEGAL:Vr.Convexity.COLINEAR;let s=0,r=t[n-2],o=t[n-1],i=t[0];for(let a=0;a<n&&s<3;r=o,o=i,i=t[++a]){const l=rt.corner2(r,o,i,e);s|=l<0?1:l>0?2:0}return s===3?Vr.Convexity.CONCAVE:s>0?Vr.Convexity.CONVEX:Vr.Convexity.COLINEAR},lq=(t,e)=>{const n=rt.sub2([],e,t),s=rt.normalize(null,rt.perpendicularCCW([],n),rt.mag(n)*Math.sin(Fa.THIRD_PI));return[t,e,rt.maddN2(null,n,.5,s)]},uq=(t,e=t.length,n=!1)=>{if(e<2)return 0;let s=0,r=t[0],o=t[1];for(let i=1;i<e;r=o,o=t[++i])s+=rt.dist(r,o);return n?s+rt.dist(r,t[0]):s};ge.bounds=rq;ge.centerOfWeight2=oq;ge.centroid=iq;ge.circumCenter2=cq;ge.convexity=aq;ge.equilateralTriangle2=lq;ge.fromBarycentric=sq;ge.perimeter=uq;ge.polyArea2=tq;ge.toBarycentric=nq;ge.triArea2=eq});var vp=D(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});var Ap=Va(),de=Wt(),E=ue(),Ha=Zt(),Tp=Jn(),dq=Ni();const Xa=(t,e)=>[E.set([],t),E.mixN([],t,e,1/3),E.mixN([],e,t,1/3),E.set([],e)],fq=(t,e,n,s,r)=>{const o=Ap.pointAtTheta(t,e,n,s),i=Ap.pointAtTheta(t,e,n,r),a=r-s,[l,u]=e,[f,y]=de.sincos(n),b=y*(o[0]-i[0])/2+f*(o[1]-i[1])/2,T=-f*(o[0]-i[0])/2+y*(o[1]-i[1])/2;if(Math.abs(a)<de.PI&&b===0&&T===0||E.magSq2(e)<de.EPS)return[Xa(o,i)];const I=(tt,Z)=>(tt*=l,Z*=u,[y*tt-f*Z+t[0],f*tt+y*Z+t[1]]),O=[],q=Math.ceil(de.roundEps(Math.abs(a)/de.HALF_PI,.001)),H=a/q,V=8/6*Math.tan(.25*H);if(!isFinite(V))return[Xa(o,i)];for(let tt=q,Z=s,ft=de.sincos(Z);tt>0;tt--,Z+=H){const[pt,jt]=ft,[$t,at]=ft=de.sincos(Z+H);O.push([I(jt,pt),I(jt-pt*V,pt+jt*V),I(at+$t*V,$t-at*V),I(at,$t)])}return O},pq=(t,e,n,s,r,o,i)=>{t[n]=Math.min(s,i),e[n]=Math.max(s,i);const a=-s+r,l=s-2*r+o,u=-s+3*r-3*o+i;let f=l*l-a*u;if(f>0){f=Math.sqrt(f);const y=b=>{if(b>0&&b<1){const T=de.mixCubic(s,r,o,i,b);t[n]=Math.min(t[n],T),e[n]=Math.max(e[n],T)}};y(a/(-l-f)),y(a/(-l+f))}},mq=(t,e,n,s)=>{const r=[],o=[];for(let i=t.length;--i>=0;)pq(r,o,i,t[i],e[i],n[i],s[i]);return[r,o]},hq=(t,e,n,s,r,o=[],i,a,l)=>{const u=f=>E.mixCubic(o,e,n,s,r,f);return u(de.minError(u,E.distSq,t,i,a,0,1,l))},Ip=(t,e,n)=>{const s=[];for(let r=0,o=t.length-1;r<o;r++){const[i,a]=t[r],[l,u]=t[r+1],f=n?e:e*E.dist(i,l);s.push([i,E.maddN([],a,f,i),E.maddN([],u,-f,l),l])}return s},yq=(t,e=1/3,n=!1)=>{const s=[];for(let r=t.length,o=r-1,i=0;i<r;o=i,i++){const a=t[o],l=t[i],u=t[(i+1)%r],f=E.mulN(null,E.perpendicularCW(null,E.cornerBisector([],a,l,u)),E.corner2(a,l,u));s.push([E.set([],l),f])}return s.push(s[0]),Ip(s,e,n)},gq=(t,e=1/3,n=!1)=>{const s=[[t[0],E.direction([],t[0],t[1])]],r=t.length-1;for(let o=1;o<r;o++){const i=t[o-1],a=t[o],l=t[o+1],u=E.mulN(null,E.perpendicularCW(null,E.cornerBisector([],i,a,l)),E.corner2(i,a,l));s.push([E.set([],a),u])}return s.push([t[r],E.direction([],t[r-1],t[r])]),Ip(s,e,n)},wp=(t,e)=>{const n=[];for(let s=0,r=t.length-2;s<r;s+=2){const o=t[s],i=t[s+1],a=t[s+2];n.push([o,E.add(null,E.direction([],o,i,e),o),E.add(null,E.direction([],a,i,e),a),a])}return n},Cp=(t,e)=>{const n=[];for(let s=0,r=t.length-2;s<r;s+=2){const o=t[s],i=t[s+1],a=t[s+2];n.push([o,E.mixN([],o,i,e),E.mixN([],a,i,e),a])}return n},Sq=(t,e=1,n=!1)=>{const s=[];for(let r=0,o=t.length;r<o;r++){const i=t[(r+1)%o];s.push(E.addmN([],t[r],i,.5),E.set([],i))}return s.push(s[0]),n?wp(s,e):Cp(s,e)},bq=(t,e=1,n=!1)=>{const s=[E.set([],t[0]),E.set([],t[0])],r=t.length-1;for(let o=0;o<r;o++){const i=t[o+1];s.push(E.addmN([],t[o],i,.5),E.set([],i))}return s.push(E.set([],t[r])),n?wp(s,e):Cp(s,e)},Nq=(t,e,n)=>[E.set([],t),E.mixN([],t,e,2/3),E.mixN([],n,e,2/3),E.set([],n)],Ep=t=>function e(n,s){if(Ha.isPlainObject(s)&&s.dist!==void 0)return new dq.Sampler(e(n,s.num||Tp.DEFAULT_SAMPLES)).sampleUniform(s.dist,s.last!==!1);s=Ha.isNumber(s)?{num:s,last:!0}:Object.assign({num:Tp.DEFAULT_SAMPLES},s);const r=[];return t(r,n,s.num),s.last&&r.push(E.set([],n[n.length-1])),r},Pp=t=>(e,n=!1,s)=>{const r=Ha.isNumber(s)?{num:s}:s,o=e.length-1;return Array.prototype.concat.apply([],e.map((i,a)=>{const l=!n&&a===o;return t(i,Object.assign(Object.assign({},r),{last:l}))}))},Op=Ep((t,[e,n,s,r],o)=>{const i=1/o;for(let a=0;a<o;a++)t.push(E.mixCubic([],e,n,s,r,a*i))}),Aq=Pp(Op),Mp=(t,e,n,s,r)=>{if(r<=0||r>=1){const y=r<=0?t:s,b=[E.set([],y),E.set([],y),E.set([],y),E.set([],y)],T=[E.set([],t),E.set([],e),E.set([],n),E.set([],s)];return r<=0?[b,T]:[T,b]}const o=E.mixN([],t,e,r),i=E.mixN([],e,n,r),a=E.mixN([],n,s,r),l=E.mixN([],o,i,r),u=E.mixN([],i,a,r),f=E.mixN([],l,u,r);return[[E.set([],t),o,l,E.set([],f)],[f,u,a,E.set([],s)]]},Tq=(t,e,n,s,r,o,i)=>Mp(e,n,s,r,de.minError(a=>E.mixCubic([],e,n,s,r,a),E.distSq,t,o,i)),Iq=(t,e,n,s,r,o,i=1)=>{const a=1-o,l=a*a,u=o*o,f=2*o*a;return E.normalize(t,E.addW4(t,e,n,s,r,-3*l,3*(l-f),3*(f-u),3*u),i)},wq=(t,e,n)=>{const s=de.clamp01((t-e)/(t-2*e+n)),r=1-s;return r*r*t+2*r*s*e+s*s*n},Cq=(t,e,n)=>{for(let s=t.length;--s>=0;)if(!de.inRange(t[s],e[s],n[s]))return!1;return!0},Eq=(t,e,n)=>{const s=E.min([],t,n),r=E.max([],t,n);if(!Cq(e,s,r)){const o=[];for(let i=t.length;--i>=0;)o[i]=wq(t[i],e[i],n[i]);E.min(null,s,o),E.max(null,r,o)}return[s,r]},Pq=(t,e,n,s,r=[],o,i,a)=>{const l=u=>E.mixQuadratic(r,e,n,s,u);return l(de.minError(l,E.distSq,t,o,i,0,1,a))},Oq=(t,e)=>[E.set([],t),E.addmN([],t,e,.5),E.set([],e)],Lp=Ep((t,[e,n,s],r)=>{const o=1/r;for(let i=0;i<r;i++)t.push(E.mixQuadratic([],e,n,s,i*o))}),Mq=Pp(Lp),Rp=(t,e,n,s)=>{if(s<=0||s>=1){const a=s<=0?t:n,l=[E.set([],a),E.set([],a),E.set([],a)],u=[E.set([],t),E.set([],e),E.set([],n)];return s<=0?[l,u]:[u,l]}const r=E.mixN([],t,e,s),o=E.mixN([],e,n,s),i=E.mixN([],r,o,s);return[[E.set([],t),r,i],[i,o,E.set([],n)]]},Lq=(t,e,n,s,r,o)=>Rp(e,n,s,de.minError(i=>E.mixQuadratic([],e,n,s,i),E.distSq,t,r,o)),Rq=(t,e,n,s,r,o=1)=>E.normalize(t,E.addW2(t,E.sub(t,n,e),E.sub([],s,n),2*(1-r),2*r),o),vq=E.mixCubic,Uq=E.mixQuadratic;ot.closedCubicFromBreakPoints=yq;ot.closedCubicFromControlPoints=Sq;ot.closestPointCubic=hq;ot.closestPointQuadratic=Pq;ot.cubicBounds=mq;ot.cubicFromArc=fq;ot.cubicFromLine=Xa;ot.cubicFromQuadratic=Nq;ot.cubicPointAt=vq;ot.cubicSplitAt=Mp;ot.cubicTangentAt=Iq;ot.openCubicFromBreakPoints=gq;ot.openCubicFromControlPoints=bq;ot.quadraticBounds=Eq;ot.quadraticFromLine=Oq;ot.quadraticPointAt=Uq;ot.quadraticSplitAt=Rp;ot.quadraticSplitNearPoint=Lq;ot.quadraticTangentAt=Rq;ot.sampleCubic=Op;ot.sampleCubicArray=Aq;ot.sampleQuadratic=Lp;ot.sampleQuadraticArray=Mq;ot.splitCubicNearPoint=Tq});var Fr=D(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var _t=Jn(),xa=Si(),Dt=Wt(),v=ue();const xe=Object.freeze({type:_t.IntersectionType.NONE}),_q=(t,e,n,s=Dt.EPS)=>{const r=xa.closestT(t,e,n);return r!==void 0?v.distSq(t,v.mixN([],e,n,Dt.clamp01(r)))<s*s:!1},Up=(t,e,n)=>v.distSq(e,t)<=n*n,qq=Up,kq=(t,e,n,s=Dt.EPS)=>Dt.sign(n*n-v.distSq(e,t),s),Bq=(t,e,n,s)=>v.magSq(t)*v.signedArea2(e,n,s)-v.magSq(e)*v.signedArea2(t,n,s)+v.magSq(n)*v.signedArea2(t,e,s)-v.magSq(s)*v.signedArea2(t,e,n)>0,Dq=(t,e,n,s)=>{const r=v.clockwise2(e,n,s)?1:-1;return r*v.signedArea2(e,s,t)>=0&&r*v.signedArea2(n,e,t)>=0&&r*v.signedArea2(s,n,t)>=0},Gq=(t,e,n,s,r=Dt.EPS)=>{const o=v.clockwise2(e,n,s)?1:-1;return Dt.sign(Math.min(o*v.signedArea2(e,s,t),o*v.signedArea2(n,e,t),o*v.signedArea2(s,n,t)),r)},Yq=(t,e)=>{const n=e.length-1,s=t[0],r=t[1];let o=e[n],i=e[0],a=0;for(let l=0;l<=n;o=i,i=e[++l])a=_p(s,r,o[0],o[1],i[0],i[1],a);return a},_p=(t,e,n,s,r,o,i)=>(s<e&&o>=e||o<e&&s>=e)&&(n<=t||r<=t)?i^(n+(e-s)/(o-s)*(r-n)<t?1:0):i,Ti=v.vop(0),zq=Ti.add(2,([t,e],n,s)=>t>=n[0]&&t<=n[0]+s[0]&&e>=n[1]&&e<=n[1]+s[1]),jq=Ti.add(3,([t,e,n],s,r)=>t>=s[0]&&t<=s[0]+r[0]&&e>=s[1]&&e<=s[1]+r[1]&&n>=s[2]&&n<=s[2]+r[2]);Ti.default((t,e,n)=>{for(let s=t.length;--s>=0;){const r=t[s],o=e[s];if(r<o||r>o+n[s])return!1}return!0});const Ii=v.vop(0),$q=Ii.add(2,([t,e],n,s)=>t>=n[0]-s[0]&&t<=n[0]+s[0]&&e>=n[1]-s[1]&&e<=n[1]+s[1]),Vq=Ii.add(3,([t,e,n],s,r)=>t>=s[0]-r[0]&&t<=s[0]+r[0]&&e>=s[1]-r[1]&&e<=s[1]+r[1]&&n>=s[2]-r[2]&&n<=s[2]+r[2]);Ii.default((t,e,n)=>{for(let s=t.length;--s>=0;){const r=t[s],o=e[s],i=n[s];if(r<o-i||r>o+i)return!1}return!0});const Fq=(t,e,n,s)=>{const r=v.sub([],e,t),o=v.mag(r);if(Dt.eqDelta(o,0))return{type:_t.IntersectionType.COINCIDENT};if(o<=n+s&&o>=Math.abs(n-s)){n*=n;const i=(n-s*s+o*o)/(2*o),a=Math.sqrt(n-i*i),l=v.maddN([],r,i/o,t),u=v.mulN(null,v.perpendicularCCW(null,r),a/o);return{type:_t.IntersectionType.INTERSECT,isec:[v.add([],l,u),v.sub([],l,u)]}}return xe},Hq=(t,e,n,s)=>v.distSq(t,e)<=Math.pow(n+s,2),Xq=(t,e,n,s,r=Dt.EPS)=>{const o=e[0]-t[0],i=e[1]-t[1],a=s[0]-n[0],l=s[1]-n[1],u=t[0]-n[0],f=t[1]-n[1],y=l*o-a*i;let b=a*f-l*u,T=o*f-i*u;if(Dt.eqDelta(y,0,r)){if(Dt.eqDelta(b,0,r)&&Dt.eqDelta(T,0,r)){let O=xa.closestPointSegment(n,t,e,void 0,!0)||xa.closestPointSegment(s,t,e,void 0,!0);return{type:O?_t.IntersectionType.COINCIDENT:_t.IntersectionType.COINCIDENT_NO_INTERSECT,isec:O}}return{type:_t.IntersectionType.PARALLEL}}b/=y,T/=y;const I=1-r;return{type:r<b&&b<I&&r<T&&T<I?_t.IntersectionType.INTERSECT:_t.IntersectionType.INTERSECT_OUTSIDE,isec:v.mixN2([],t,e,b),alpha:b,beta:T,det:y}},xq=(t,e,n,s)=>Dt.eqDelta((s[1]-n[1])*(e[0]-t[0])-(s[0]-n[0])*(e[1]-t[1]),0),Za=(t,e,n,s,r=0,o=Infinity)=>{const i=s[0]-n[0],a=s[1]-n[1],l=e[0]*a-e[1]*i;if(Dt.eqDelta(l,0))return xe;const u=n[0]-t[0],f=n[1]-t[1],y=(a*u-i*f)/l,b=(e[1]*u-e[0]*f)/l;return y>=r&&y<=o&&b>=0&&b<=1?{type:_t.IntersectionType.INTERSECT,isec:v.maddN([],e,y,t),alpha:y}:xe},qp=(t,e)=>e?[t[t.length-1],t[0]]:[t[0],t[1]],Zq=(t,e,n,s=!1,r=0,o=Infinity)=>{const i=n.length-1;let a=o,l=0,[u,f]=qp(n,s);for(let y=0;y<=i;u=f,f=n[++y]){const b=Za(t,e,u,f,r,o).alpha;b!==void 0&&(l++,b<a&&(a=b))}return l>0?{type:_t.IntersectionType.INTERSECT,isec:v.maddN2([],e,a,t),inside:!(l&1),alpha:a}:xe},kp=(t,e,n,s=!1,r=0,o=Infinity)=>{const i=n.length-1;let[a,l]=qp(n,s);const u=[];for(let f=0;f<=i;a=l,l=n[++f]){const y=Za(t,e,a,l,r,o).alpha;y!==void 0&&u.push([y,v.maddN2([],e,y,t)])}return u.length?{type:_t.IntersectionType.INTERSECT,isec:u.sort((f,y)=>f[0]-y[0]).map(f=>f[1])}:xe},Qq=(t,e,n,s=!1)=>{const r=v.sub([],e,t),o=v.mag(r);return kp(t,v.normalize(null,r),n,s,0,o)},Wq=(t,e,n,s)=>{const r=v.dot3(t,n);if(Dt.eqDelta(r,1))return Dt.eqDelta(e,s)?{type:_t.IntersectionType.COINCIDENT}:xe;const o=1/(1-r*r),i=(e-s*r)*o,a=(s-e*r)*o;return{type:_t.IntersectionType.INTERSECT,isec:[v.add3(null,v.mulN3([],t,i),v.mulN3([],n,a)),v.cross3([],t,n)]}},Kq=(t,e,n,s)=>{const r=v.sub([],n,t),o=v.dot(r,e);let i=s*s+o*o-v.magSq(r);if(i<0)return xe;i=Math.sqrt(i);const a=o+i,l=o-i,u=a>=0?l>=0?a>l?[v.maddN(r,e,l,t),v.maddN([],e,a,t)]:[v.maddN(r,e,a,t),v.maddN([],e,l,t)]:[v.maddN(r,e,a,t)]:l>=0?[v.maddN(r,e,l,t)]:void 0;return u?{type:_t.IntersectionType.INTERSECT,isec:u}:xe},Jq=(t,e,n,s,r=Dt.EPS)=>{const o=v.dot(n,e),i=Dt.sign(v.dot(n,t)-s,r);if(o>r&&i<0||o<-r&&i>0){const a=v.sub(null,v.mulN([],n,s),t),l=v.dot(n,a)/o;return{type:_t.IntersectionType.INTERSECT,isec:v.maddN(a,e,l,t),alpha:l}}return i===0?{type:_t.IntersectionType.COINCIDENT,isec:v.copy(t)}:xe},Gn=Math.min,Ze=Math.max,Bp=(t,e,n,s)=>{let r=t[0],o=1/e[0],i=(n[0]-r)*o,a=(s[0]-r)*o,l=Gn(i,a),u=Ze(i,a);return r=t[1],o=1/e[1],i=(n[1]-r)*o,a=(s[1]-r)*o,[Ze(l,Gn(i,a)),Gn(u,Ze(i,a))]},Dp=(t,e,n,s)=>{let r=t[0],o=1/e[0],i=(n[0]-r)*o,a=(s[0]-r)*o,l=Gn(i,a),u=Ze(i,a);return r=t[1],o=1/e[1],i=(n[1]-r)*o,a=(s[1]-r)*o,r=t[2],o=1/e[2],i=(n[2]-r)*o,a=(s[2]-r)*o,l=Ze(l,Gn(i,a)),u=Gn(u,Ze(i,a)),[Ze(l,Gn(i,a)),Gn(u,Ze(i,a))]},Gp=t=>(e,n,s,r)=>{const o=t(e,n,s,r),i=o[0],a=o[1],l=i<0;return a>Ze(i,0)?l?{type:_t.IntersectionType.INTERSECT,inside:l,isec:[v.maddN([],n,a,e)],alpha:a}:{type:_t.IntersectionType.INTERSECT,isec:[v.maddN([],n,i,e),v.maddN([],n,a,e)],alpha:i,beta:a}:xe},t6=Gp(Bp),e6=Gp(Dp),n6=(t,e,n,s)=>{const r=Bp(t,e,n,s);return r[1]>Ze(r[0],0)},s6=(t,e,n,s)=>{const r=Dp(t,e,n,s);return r[1]>Ze(r[0],0)},wi=v.vop(0),r6=wi.add(2,(t,e,n,s)=>Oe(n[0],t[0],e[0])+Oe(n[1],t[1],e[1])<=s*s),o6=wi.add(3,(t,e,n,s)=>Oe(n[0],t[0],e[0])+Oe(n[1],t[1],e[1])+Oe(n[2],t[2],e[2])<=s*s);wi.default((t,e,n,s)=>{let r=0;for(let o=t.length;--o>=0;)r+=Oe(n[o],t[o],e[o]);return r<=s*s});const Ci=v.vop(0),i6=Ci.add(2,(t,{0:e,1:n},s,r)=>Oe(s[0],t[0]-e,e*2)+Oe(s[1],t[1]-n,n*2)<=r*r),c6=Ci.add(3,(t,{0:e,1:n,2:s},r,o)=>Oe(r[0],t[0]-e,e*2)+Oe(r[1],t[1]-n,n*2)+Oe(r[2],t[2]-s,s*2)<=o*o);Ci.default((t,e,n,s)=>{let r=0;for(let o=t.length;--o>=0;)r+=Oe(n[o],t[o]-e[o],e[o]*2);return r<=s*s});const Oe=(t,e,n)=>(t<e?t-e:t>e+n?t-e-n:0)**2,a6=([t,e],[n,s],[r,o],[i,a])=>!(t>r+i||r>t+n||e>o+a||o>e+s),l6=([t,e,n],[s,r,o],[i,a,l],[u,f,y])=>!(t>i+u||i>t+s||e>a+f||a>e+r||n>l+y||l>n+o);z.NONE=xe;z.classifyPointInCircle=kq;z.classifyPointInTriangle2=Gq;z.classifyPointPolyPair=_p;z.intersectCircleCircle=Fq;z.intersectLineLine=Xq;z.intersectLinePolylineAll=Qq;z.intersectPlanePlane=Wq;z.intersectRayAABB=e6;z.intersectRayCircle=Kq;z.intersectRayLine=Za;z.intersectRayPlane=Jq;z.intersectRayPolyline=Zq;z.intersectRayPolylineAll=kp;z.intersectRayRect=t6;z.isParallelLine=xq;z.pointInAABB=jq;z.pointInBox=Ti;z.pointInCenteredAABB=Vq;z.pointInCenteredBox=Ii;z.pointInCenteredRect=$q;z.pointInCircle=Up;z.pointInCircumCircle=Bq;z.pointInPolygon2=Yq;z.pointInRect=zq;z.pointInSegment=_q;z.pointInSphere=qq;z.pointInTriangle2=Dq;z.testAABBSphere=o6;z.testAabbAabb=l6;z.testBoxSphere=wi;z.testCenteredAABBSphere=c6;z.testCenteredBoxSphere=Ci;z.testCenteredRectCircle=i6;z.testCircleCircle=Hq;z.testRayAABB=s6;z.testRayRect=n6;z.testRectCircle=r6;z.testRectRect=a6});var zp=D(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});var Ei=Fr(),u6=ue();const d6=(t,e,n)=>{const s=Ei.intersectRayPolylineAll(t,u6.direction([],t,e),n,!0).isec;if(!s)return;const r=[];for(let o=0;o<s.length;o+=2)r.push([s[o],s[o+1]]);return r},f6=(t,e,n)=>{const s=Ei.intersectLinePolylineAll(t,e,n,!0).isec,r=Ei.pointInPolygon2(t,n),o=Ei.pointInPolygon2(e,n);if(!s)return r&&o?[[t,e]]:void 0;r&&s.unshift(t),o&&s.push(e);const i=[];for(let a=0,l=s.length-1;a<l;a+=2)i.push([s[a],s[a+1]]);return i},p6=(t,e,n,s,r=[],o=[])=>{const i=Yp(t[0],t[1],e[0],e[1],n[0],n[1],s[0],s[1]);return i?(r[0]=i[0],r[1]=i[1],o[0]=i[2],o[1]=i[3],[r,o,i[4],i[5]]):void 0},Yp=(t,e,n,s,r,o,i,a)=>{const l=n-t,u=s-e;let f=0,y=1;const b=(T,I)=>{if(T<0){const O=I/T;if(O>y)return!1;O>f&&(f=O)}else if(T>0){const O=I/T;if(O<f)return!1;O<y&&(y=O)}else if(I<0)return!1;return!0};return b(-l,t-r)&&b(l,i-t)&&b(-u,e-o)&&b(u,a-e)?[f*l+t,f*u+e,y*l+t,y*u+e,f,y]:void 0};Gs.clipLinePoly=d6;Gs.clipLineSegmentPoly=f6;Gs.liangBarsky2=p6;Gs.liangBarsky2Raw=Yp});var Wa=D(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var m6=ts(),Qa=De();const Ys=Symbol();dn.LOGGER=m6.NULL_LOGGER;const h6=t=>dn.LOGGER=t;function $p(t,e){const n={},s=e?y6(e):{},r=(...o)=>{const i=t(...o),a=n[i]||Pi(n,s,i)||n[Ys];return a?a(...o):Qa.unsupported(`missing implementation for: "${i.toString()}"`)};return r.add=(o,i)=>(n[o]&&dn.LOGGER.warn(`overwriting '${o.toString()}' impl`),n[o]=i,!0),r.addAll=o=>{let i=!0;for(let a in o)i=r.add(a,o[a])&&i;return i},r.remove=o=>n[o]?(delete n[o],!0):!1,r.callable=(...o)=>{const i=t(...o);return!!(n[i]||Pi(n,s,i)||n[Ys])},r.isa=(o,i)=>{let a=s[o];!a&&(s[o]=a=new Set),a.add(i)},r.impls=()=>{const o=new Set(Object.keys(n));for(let i in s)Pi(n,s,i)&&o.add(i);return n[Ys]&&o.add(Ys),o},r.rels=()=>s,r.parents=o=>s[o],r.ancestors=o=>new Set(jp([],s,o)),r}const Pi=(t,e,n)=>{const s=e[n];if(!s)return;for(let r of s){let o=t[r]||Pi(t,e,r);if(o)return o}},jp=(t,e,n)=>{const s=e[n];if(s)for(let r of s)t.push(r),jp(t,e,r);return t},y6=t=>{const e={};for(let n in t){const s=t[n];e[n]=s instanceof Set?s:new Set(s)}return e},g6=(t,e)=>{const n=$p((...s)=>s.length);n.add(Ys,e||((...s)=>Qa.illegalArity(s.length)));for(let s in t)n.add(s,t[s]);return n},S6=(t,e,...n)=>{if(n.length&1&&Qa.illegalArgs("expected an even number of implementation items"),e)for(let s in e)for(let r of e[s])r.isa(t,s);for(let s=0;s<n.length;s+=2)n[s].add(t,n[s+1])};dn.DEFAULT=Ys;dn.defmulti=$p;dn.defmultiN=g6;dn.implementations=S6;dn.setLogger=h6});var el=D(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var Se=Wc(),b6=De();const N6="﻿",Vp=t=>t.toUpperCase(),Ka=t=>t.toLowerCase(),A6=t=>t[0].toUpperCase()+t.substr(1),Fp=(t,e="-")=>Ka(t.replace(/([a-z0-9\u00e0-\u00fd])([A-Z\u00c0-\u00dd])/g,(n,s,r)=>s+e+r)),Hp=t=>Fp(t,"_"),T6=t=>Hp(t).toUpperCase(),I6=(t,e="-")=>Ka(t).replace(new RegExp(`\\${e}+(\\w)`,"g"),(n,s)=>Vp(s)),Hr=Se.memoizeJ((t,e)=>t.repeat(e)),Ja=Se.memoizeJ((t,e="")=>n=>n.length>t?n.substr(0,t-e.length)+e:n),w6=Ja,C6=Se.memoizeJ((t,e=" ")=>{const n=Hr(String(e),t);return s=>{if(s==null)return n;s=s.toString();const r=(t-s.length)/2;return s.length<t?n.substr(0,r)+s+n.substr(0,r+((t&1)===(s.length&1)?0:1)):Ja(t)(s)}}),E6=(t,e,n=`
`)=>{if(!t.length)return[1,1];e=Math.min(Math.max(0,e),t.length);const s=t.split(n),r=s.length;for(let o=0;o<r;o++){const i=s[o];if(e<=i.length)return[o+1,e+1];e-=i.length+1}return[r,1]},Yn=Se.memoizeJ((t,e,n="")=>{const s=Hr("0",e);return r=>(r=(r>>>0).toString(t),n+(r.length<e?s.substr(r.length)+r:r))}),P6=Yn(2,8),O6=Yn(2,16),M6=Yn(2,32),Gt=Yn(16,2),Xp=Yn(16,4),L6=Yn(16,6),Oi=Yn(16,8),R6=(t,e)=>Oi(t)+Oi(e),xp={0:"\0",b:"\b",t:"	",r:"\r",v:"\v",f:"\f",n:`
`,"'":"'",'"':'"',"\\":"\\"},Zp={0:"0",8:"b",9:"t",10:"n",11:"v",12:"f",13:"r",33:"'",34:'"',92:"\\"},v6=t=>t.replace(/[\0\b\t\n\v\f\r'"\\]/g,e=>`\\${Zp[e.charCodeAt(0)]}`).replace(/[\ud800-\udfff]{2}/g,e=>`\\U${Oi(e.codePointAt(0))}`).replace(/[^\u0020-\u007e]/g,e=>`\\u${Xp(e.charCodeAt(0))}`),U6=t=>t.replace(/\\u([0-9a-fA-F]{4})/g,(e,n)=>String.fromCharCode(parseInt(n,16))).replace(/\\U([0-9a-fA-F]{8})/g,(e,n)=>String.fromCodePoint(parseInt(n,16))).replace(/\\([0btnvfr'"\\])/g,(e,n)=>xp[n]),Xr=Se.memoizeJ((t,e=" ")=>{const n=Hr(String(e),t);return s=>s!=null?(s=s.toString(),s.length<t?n.substr(s.length)+s:s):n}),_6=Xr(2,"0"),q6=Xr(3,"0"),k6=Xr(4,"0"),B6=Se.memoizeJ(t=>e=>Qp(e)||e.toFixed(t)),G6=Se.memoizeJ((t,e=3)=>{const n=t-e-1,s=Math.pow(10,n),r=-Math.pow(10,n-1),o=Math.pow(10,-(e-1)),i=Xr(t);return a=>{const l=Math.abs(a);return i(Qp(a)||(a===0?"0":l<o||l>=s?D6(a,t):a.toFixed(e-(a<r?1:0))))}}),D6=(t,e)=>t.toExponential(Math.max(e-4-(Math.log(Math.abs(t))/Math.LN10>=10?2:1)-(t<0?1:0),0)),Qp=t=>isNaN(t)?"NaN":t===Infinity?"+∞":t===-Infinity?"-∞":void 0,Wp=(t,...e)=>{const n=[];for(let s=0,r=0,o=t.length;s<o;s++){const i=t[s],a=typeof i;n.push(a==="function"?i(e[r++]):a==="object"?i[e[r++]]:i)}return n.join("")},Y6=t=>(...e)=>Wp(t,...e),z6=t=>"",j6=t=>String(t);function*Qe(t,e){let n=typeof t=="string"?t.charCodeAt(0):t;const s=typeof e=="string"?e.charCodeAt(0):e;if(n<=s)for(;n<=s;n++)yield String.fromCharCode(n);else for(;n>=s;n--)yield String.fromCharCode(n)}const xr=(...t)=>{const e={};for(let n of t)for(let s of n)e[s]=!0;return Object.freeze(e)},$6=Object.freeze({"	":!0,"\n":!0,"\v":!0,"\f":!0,"\r":!0," ":!0}),Kp=xr(Qe("0","9")),V6=xr(Qe("0","9"),Qe("A","F"),Qe("a","f")),Jp=xr(Qe("a","z")),tm=xr(Qe("A","Z")),em=Object.freeze(Object.assign(Object.assign({},tm),Jp)),F6=Object.freeze(Object.assign(Object.assign(Object.assign({},em),Kp),{_:!0})),H6=xr(Qe("!","/"),Qe(":","@"),Qe("[","`"),Qe("{","~")),X6=t=>t!=null?(t=t.toString(),`${t.length}H${t}`):"",x6=/\{(\d+)\}/g,Z6=(t,...e)=>e.length>0?t.replace(x6,n=>String(e[parseInt(n[1],10)])):t,Q6=Se.memoize1(t=>e=>e.join(t)),W6=Se.memoizeJ((t,e=" ")=>{const n=Hr(String(e),t);return s=>s!=null?(s=s.toString(),s.length<t?s+n.substr(s.length):s):n}),K6=(t,e=0,n=10)=>{const s=parseInt(t,n);return isNaN(s)?e:s},J6=(t,e=0)=>{const n=parseFloat(t);return isNaN(n)?e:n},tk=(t=0)=>e=>(e*100).toFixed(t)+"%",tl="àáäâãåèéëêìíïîòóöôùúüûñçßÿœæŕśńṕẃǵǹḿǘẍźḧ·/_,:;",nm="aaaaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------",sm=new RegExp(tl.split("").join("|"),"g"),ek=t=>t.toLowerCase().replace(/\s+/g,"-").replace(sm,e=>nm[tl.indexOf(e)]).replace(/&+/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-{2,}/g,"-").replace(/(^-+)|(-+$)/g,""),nk=t=>t.toLowerCase().replace(/\s/g,"-").replace(sm,e=>nm[tl.indexOf(e)]).replace(/[^\w\-]+/g,"").replace(/(^-+)|(-+$)/g,""),sk=(t,e,n,s=n)=>(n<0&&(n+=t.length),s<0&&(s+=t.length),n>s&&b6.illegalArgs("'from' index must be <= 'to'"),s=Math.max(s,0),n<=0?e+t.substr(s):n>=t.length?t+e:t.substr(0,n)+e+t.substr(s)),rk=Se.memoize1((t=` 	
\r`)=>{t=`(${t.split("").map(n=>`\\${n}`).join("|")})`;const e=new RegExp(`(^${t}+)|(${t}+$)`,"g");return n=>n.replace(e,"")}),ok=Se.memoizeJ((t,e="")=>n=>n.length>t?e+n.substr(n.length-t+e.length):n),zs=Se.memoizeJ((t,e,n=2)=>{const s=t.map(r=>[r[0],r[2]!=null?r[2]:n,r[1]]).sort((r,o)=>r[0]-o[0]);return r=>{if(r===0)return`0${e}`;const o=Math.abs(r);for(let i=s.length;--i>=0;){const a=s[i];if(o>=a[0]||i===0)return(r/a[0]).toFixed(a[1])+a[2]}return""}}),zn=1024,ik=zs([[1," bits",0],[zn," Kb"],[zn**2," Mb"],[zn**3," Gb"]]," bits",2),ck=zs([[1," bytes",0],[zn," KB"],[zn**2," MB"],[zn**3," GB"],[zn**4," TB"],[zn**5," PB"]]," bytes",2),ak=zs([[1e-12," ps"],[1e-9," ns"],[1e-6," µs"],[.001," ms"],[1," secs"],[60," mins"],[60*60," hours"],[24*60*60," days"]]," secs",3),lk=zs([[1e-12," pm"],[1e-9," nm"],[1e-6," µm"],[.001," mm"],[.01," cm"],[1," m"],[1e3," km"]]," m",2),uk=zs([[1e-12," pg"],[1e-9," ng"],[1e-6," µg"],[.001," mg"],[1," g"],[1e3," kg"],[1e6," t"],[1e9," kt"],[1e12," Mt"]]," g",2),dk=(t,e=0)=>[Gt(t[e++]),Gt(t[e++]),Gt(t[e++]),Gt(t[e++]),"-",Gt(t[e++]),Gt(t[e++]),"-",Gt(t[e++]),Gt(t[e++]),"-",Gt(t[e++]),Gt(t[e++]),"-",Gt(t[e++]),Gt(t[e++]),Gt(t[e++]),Gt(t[e++]),Gt(t[e++]),Gt(t[e++])].join(""),fk=Se.memoizeJ(t=>e=>t+e+t);L.ALPHA=em;L.ALPHA_NUM=F6;L.B16=O6;L.B32=M6;L.B8=P6;L.BOM=N6;L.DIGITS=Kp;L.ESCAPES=xp;L.ESCAPES_REV=Zp;L.HEX=V6;L.LOWER=Jp;L.PUNCTUATION=H6;L.U16=Xp;L.U24=L6;L.U32=Oi;L.U64=R6;L.U8=Gt;L.UPPER=tm;L.WS=$6;L.Z2=_6;L.Z3=q6;L.Z4=k6;L.bits=ik;L.bytes=ck;L.camel=I6;L.capitalize=A6;L.center=C6;L.charRange=Qe;L.computeCursorPos=E6;L.defFormat=Y6;L.escape=v6;L.float=B6;L.floatFixedWidth=G6;L.format=Wp;L.grams=uk;L.hstr=X6;L.ignore=z6;L.interpolate=Z6;L.join=Q6;L.kebab=Fp;L.lower=Ka;L.maybeParseFloat=J6;L.maybeParseInt=K6;L.meters=lk;L.padLeft=Xr;L.padRight=W6;L.percent=tk;L.radix=Yn;L.repeat=Hr;L.seconds=ak;L.slugify=ek;L.slugifyGH=nk;L.snake=Hp;L.splice=sk;L.str=j6;L.trim=rk;L.truncate=Ja;L.truncateLeft=ok;L.truncateRight=w6;L.unescape=U6;L.units=zs;L.upper=Vp;L.upperSnake=T6;L.uuid=dk;L.wrap=fk});var ih=D(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});var m=ue(),fe=Wt(),Mi=Zt();const rm=Object.freeze([1,0,0,1]),om=Object.freeze([1,0,0,1,0,0]),im=Object.freeze([1,0,0,0,1,0,0,0,1]),cm=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),am=[6,9,16],Zr=(t,e,n=am)=>n.map(s=>t.add(s,m.compile(s,m.MATH(e),m.ARGS_VV,void 0,"o","",m.DEFAULT_OUT))),Qr=(t,e,n=am)=>n.map(s=>t.add(s,m.compile(s,m.MATH_N(e),m.ARGS_VN,"o,a","o","",m.DEFAULT_OUT))),lm=m.add,pk=m.add4,[mk,hk,yk]=Zr(lm,"+"),um=m.addN,gk=m.addN4,[Sk,bk,Nk]=Qr(um,"+"),Wr=(t,e)=>(e*=.5,m.normalize([0,0,0,Math.cos(e)],t,Math.sin(e))),Ak=t=>{const e=m.normalize([],t),n=e[3],s=Math.sqrt(1-n*n),r=2*Math.acos(n);return s>fe.EPS?[[e[0]/s,e[1]/s,e[2]/s],r]:[[e[0],e[1],e[2]],r]},Tk=(t,e,n=!0)=>{n&&(t=m.normalize([],t),e=m.normalize([],e));const s=m.cross3([],t,e);return Wr(s,Math.atan2(m.mag(s),m.dot3(t,e)))},Kr=m.vop(1),dm=Kr.add(4,(t,e,n)=>m.setS2(t,e,0,n*2)),Ik=Kr.add(6,dm),wk=Kr.add(9,(t,e,n)=>m.setS3(t,e,0,n*3)),Ck=Kr.add(16,(t,e,n)=>m.setS4(t,e,0,n*4)),ds=m.vop(1),Ek=ds.add(4,(t,e,n)=>m.setC4(t||e,m.dotS2(e,n,0,0,2),m.dotS2(e,n,1,0,2),m.dotS2(e,n,0,2,2),m.dotS2(e,n,1,2,2))),fm=ds.add(6,(t,e,n)=>m.setC6(t||e,m.dotS2(e,n,0,0,2),m.dotS2(e,n,1,0,2),m.dotS2(e,n,0,2,2),m.dotS2(e,n,1,2,2),m.dotS2(e,n,0,4,2)+e[4],m.dotS2(e,n,1,4,2)+e[5])),Pk=ds.add(9,(t,e,n)=>m.setC(t||e,m.dotS3(e,n,0,0,3),m.dotS3(e,n,1,0,3),m.dotS3(e,n,2,0,3),m.dotS3(e,n,0,3,3),m.dotS3(e,n,1,3,3),m.dotS3(e,n,2,3,3),m.dotS3(e,n,0,6,3),m.dotS3(e,n,1,6,3),m.dotS3(e,n,2,6,3))),pm=ds.add(16,(t,e,n)=>m.setC(t||e,m.dotS4(e,n,0,0,4),m.dotS4(e,n,1,0,4),m.dotS4(e,n,2,0,4),m.dotS4(e,n,3,0,4),m.dotS4(e,n,0,4,4),m.dotS4(e,n,1,4,4),m.dotS4(e,n,2,4,4),m.dotS4(e,n,3,4,4),m.dotS4(e,n,0,8,4),m.dotS4(e,n,1,8,4),m.dotS4(e,n,2,8,4),m.dotS4(e,n,3,8,4),m.dotS4(e,n,0,12,4),m.dotS4(e,n,1,12,4),m.dotS4(e,n,2,12,4),m.dotS4(e,n,3,12,4))),Li=(t,e,n,...s)=>s.reduce((r,o)=>ds(r,r,o),ds(t,e,n)),Ok=(t,e)=>m.setC4(t||e,-e[0],-e[1],-e[2],e[3]),Ft=m.dotC4,nl=m.dotC6,mm=t=>Ft(t[0],t[3],-t[1],t[2]),Mk=mm,Lk=t=>{const[e,n,s,r,o,i,a,l,u]=t,f=Ft(u,o,-i,l),y=Ft(i,a,-u,r),b=Ft(l,r,-o,a);return nl(e,f,n,y,s,b)},sl=t=>{const[e,n,s,r,o,i,a,l,u,f,y,b,T,I,O,q]=t;return[Ft(e,i,-n,o),Ft(e,a,-s,o),Ft(e,l,-r,o),Ft(n,a,-s,i),Ft(n,l,-r,i),Ft(s,l,-r,a),Ft(u,I,-f,T),Ft(u,O,-y,T),Ft(u,q,-b,T),Ft(f,O,-y,I),Ft(f,q,-b,I),Ft(y,q,-b,O)]},rl=t=>nl(t[0],t[11],-t[1],t[10],t[2],t[9])+nl(t[3],t[8],-t[4],t[7],t[5],t[6]),Rk=t=>rl(sl(t)),js=m.vop(1),hm=js.add(4,(t,e)=>m.setS2(t,e,0,0,1,3)),vk=js.add(6,hm),Uk=js.add(9,(t,e)=>m.setS3(t,e,0,0,1,4)),_k=js.add(16,(t,e)=>m.setS4(t,e,0,0,1,5)),ym=m.div,qk=m.div4,[kk,Bk,Dk]=Zr(ym,"/"),gm=m.divN,Gk=m.divN4,[Yk,zk,jk]=Qr(gm,"/"),Sm=(t,e,n,s,r,o,i)=>{const a=1/(n-e),l=1/(r-s),u=1/(i-o);return m.setC(t||[],o*2*a,0,0,0,0,o*2*l,0,0,(n+e)*a,(r+s)*l,-(i+o)*u,-1,0,0,-(i*o*2)*u,0)},bm=(t,e,n,s)=>{const r=n*Math.tan(t*fe.DEG2RAD/2),o=r*e;return{left:-o,right:o,bottom:-r,top:r,near:n,far:s}},ol=t=>m.set.add(t,m.compile(t,m.SET,"o,a")),Jr=m.set,$k=m.set4,Vk=ol(6),Fk=ol(9),Hk=ol(16),to=m.vop(),Nm=to.add(4,t=>Jr(t,rm)),Am=to.add(6,t=>Jr(t,om)),Tm=to.add(9,t=>Jr(t,im)),Im=to.add(16,t=>Jr(t,cm)),be=m.dotC4,Yt=m.dotC6,eo=m.vop(1),Xk=eo.add(4,(t,e)=>{const[n,s,r,o]=e;let i=be(n,o,-s,r);return i===0?void 0:(i=1/i,m.setC4(t||e,o*i,-s*i,-r*i,n*i))}),wm=eo.add(6,(t,e)=>{const[n,s,r,o,i,a]=e;let l=be(n,o,-s,r);return l===0?void 0:(l=1/l,m.setC6(t||e,o*l,-s*l,-r*l,n*l,be(r,a,-o,i)*l,be(s,i,-n,a)*l))}),Cm=eo.add(9,(t,e)=>{const[n,s,r,o,i,a,l,u,f]=e,y=be(f,i,-a,u),b=be(a,l,-f,o),T=be(u,o,-i,l);let I=Yt(n,y,s,b,r,T);return I===0?void 0:(I=1/I,m.setC(t||e,y*I,be(-f,s,r,u)*I,be(a,s,-r,i)*I,b*I,be(f,n,-r,l)*I,be(-a,n,r,o)*I,T*I,be(-u,n,s,l)*I,be(i,n,-s,o)*I))}),il=eo.add(16,(t,e)=>{const n=sl(e);let s=rl(n);if(s===0)return;s=1/s;const[r,o,i,a,l,u,f,y,b,T,I,O,q,H,V,tt]=e,[Z,ft,pt,jt,$t,at,me,nn,Ts,Is,vo,Uo]=n;return m.setC(t||e,Yt(u,Uo,-f,vo,y,Is)*s,Yt(-o,Uo,i,vo,-a,Is)*s,Yt(H,at,-V,$t,tt,jt)*s,Yt(-T,at,I,$t,-O,jt)*s,Yt(-l,Uo,f,Ts,-y,nn)*s,Yt(r,Uo,-i,Ts,a,nn)*s,Yt(-q,at,V,pt,-tt,ft)*s,Yt(b,at,-I,pt,O,ft)*s,Yt(l,vo,-u,Ts,y,me)*s,Yt(-r,vo,o,Ts,-a,me)*s,Yt(q,$t,-H,pt,tt,Z)*s,Yt(-b,$t,T,pt,-O,Z)*s,Yt(-l,Is,u,nn,-f,me)*s,Yt(r,Is,-o,nn,i,me)*s,Yt(-q,jt,H,ft,-V,Z)*s,Yt(b,jt,-T,ft,I,Z)*s)}),xk=(t,e)=>{let n=m.magSq4(e);return n=n>0?-1/n:0,m.setC4(t||e,e[0]*n,e[1]*n,e[2]*n,e[3]*-n)},Zk=(t,e,n,s)=>{const r=m.normalize(null,m.sub3([],e,n)),o=m.normalize(null,m.cross3([],s,r)),i=m.normalize(null,m.cross3([],r,o));return m.setC(t||[],o[0],i[0],r[0],0,o[1],i[1],r[1],0,o[2],i[2],r[2],0,-m.dot3(e,o),-m.dot3(e,i),-m.dot3(e,r),1)},Qk=(t,e)=>(!t&&(t=[]),m.set4(t,e),t[4]=t[5]=0,t),Wk=(t,e)=>m.set4(t||[],e),Kk=(t,e)=>m.setC(t||[],e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1),Em=(t,e)=>m.setC(t||[],e[0],e[1],e[2],0,e[3],e[4],e[5],0,e[6],e[7],e[8],0,0,0,0,1),Pm=(t,e)=>(!t&&(t=[]),m.setS3(t,e),m.setS3(t,e,3,4),m.setS3(t,e,6,8)),Om=(t,e)=>(e=Mi.isNumber(e)?[e,e]:e,m.setC4(t||[],e[0],0,0,e[1])),no=(t,e)=>(e=Mi.isNumber(e)?[e,e]:e,m.setC6(t||[],e[0],0,0,e[1],0,0)),Mm=(t,e)=>(e=Mi.isNumber(e)?[e,e,e]:e,m.setC(t||[],e[0],0,0,0,e[1],0,0,0,e[2])),Ri=(t,e)=>(e=Mi.isNumber(e)?[e,e,e]:e,m.setC(t||[],e[0],0,0,0,0,e[1],0,0,0,0,e[2],0,0,0,0,e[3]!==void 0?e[3]:1)),Jk=(t,e)=>Om(t,e),t5=(t,e)=>no(t,e),e5=(t,e)=>Mm(t,e),n5=(t,e)=>(t=Ri(t,e),t[15]=e,t),s5=m.setVV4,r5=m.setVV6,o5=m.setVV9,i5=m.setVV16,c5=(t,e,n,s,r=.001)=>{const o=m.dot4(e,n);if(Math.abs(o)<1){const i=Math.acos(o),a=Math.sqrt(1-o*o);let l,u;return Math.abs(a)<r?l=u=.5:(l=Math.sin(i*(1-s))/a,u=Math.sin(i*s)/a),!t&&(t=e),m.maddN4(t,n,u,m.mulN4(t,e,l))}return e!==t?m.set4(t,e):t},Lm=m.mul,a5=m.mul4,[l5,u5,d5]=Zr(Lm,"*"),Rm=m.mulN,f5=m.mulN4,[p5,m5,h5]=Qr(Rm,"*"),cl=(t,e,n)=>{const{0:s,1:r,2:o,3:i}=e,{0:a,1:l,2:u,3:f}=n;return m.setC4(t||e,s*f+i*a+r*u-o*l,r*f+i*l+o*a-s*u,o*f+i*u+s*l-r*a,i*f-s*a-r*l-o*u)},so=m.vop(1),y5=so.add(4,(t,e,n)=>m.setC2(t||n,m.dotS2(e,n,0,0,2),m.dotS2(e,n,1,0,2))),vi=so.add(6,(t,e,n)=>m.setC2(t||n,m.dotS2(e,n,0,0,2)+e[4],m.dotS2(e,n,1,0,2)+e[5])),g5=so.add(9,(t,e,n)=>m.setC3(t||n,m.dotS3(e,n,0,0,3),m.dotS3(e,n,1,0,3),m.dotS3(e,n,2,0,3))),vm=so.add(16,(t,e,n)=>m.setC4(t||n,m.dotS4(e,n,0,0,4),m.dotS4(e,n,1,0,4),m.dotS4(e,n,2,0,4),m.dotS4(e,n,3,0,4))),al=(t,e,n)=>{const s=m.dotS3(e,n,3,0,4)+e[15];return s!==0?m.setC3(t||n,(m.dotS3(e,n,0,0,4)+e[12])/s,(m.dotS3(e,n,1,0,4)+e[13])/s,(m.dotS3(e,n,2,0,4)+e[14])/s):void 0},S5=(t,e,n)=>{const{0:s,1:r,2:o}=n,{0:i,1:a,2:l,3:u}=e,f=u*s+a*o-l*r,y=u*r+l*s-i*o,b=u*o+i*r-a*s,T=-i*s-a*r-l*o;return m.setC3(t||n,f*u+T*-i+y*-l-b*-a,y*u+T*-a+b*-i-f*-l,b*u+T*-l+f*-a-y*-i)},Um=(t,e,n)=>m.setC2(t,m.dot2(e,n),m.dotS2(e,n,0,2)),b5=Um,N5=(t,e,n)=>m.setC3(t,m.dot3(e,n),m.dotS3(e,n,0,3),m.dotS3(e,n,0,6)),A5=(t,e,n)=>m.setC4(t,m.dot4(e,n),m.dotS4(e,n,0,4),m.dotS4(e,n,0,8),m.dotS4(e,n,0,12)),T5=(t,e)=>m.setC4(t||[],e[0],e[2],e[1],e[3]),_m=(t,e)=>m.setC(t||[],e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),qm=(t,e)=>m.setC(t||[],e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]),I5=(t,e)=>(t=Cm(null,Pm(t,e)),t?_m(null,t):void 0),w5=(t,e)=>(t=il(t,e),t?qm(null,t):void 0),C5=(t,e,n,s,r,o,i)=>{const a=1/(n-e),l=1/(r-s),u=1/(i-o);return m.setC(t||[],2*a,0,0,0,0,2*l,0,0,0,0,-2*u,0,-(e+n)*a,-(r+s)*l,-(i+o)*u,1)},E5=(t,e,n=fe.EPS)=>{for(let s=0;s<e;s++){const r=s*e;for(let o=0;o<e;o++){const i=o*e;let a=0;for(let l=0;l<e;l++)a+=t[r+l]*t[i+l];if(s==o&&!fe.eqDelta(a,1,n)||s!=o&&!fe.eqDelta(a,0,n))return!1}}return!0},Ui=m.vop(1),P5=Ui.add(2,(t,[e,n],[s,r])=>m.setC4(t||[],e*s,n*s,e*r,n*r)),O5=Ui.add(3,(t,[e,n,s],[r,o,i])=>m.setC(t||[],e*r,n*r,s*r,e*o,n*o,s*o,e*i,n*i,s*i)),M5=Ui.add(4,(t,[e,n,s,r],[o,i,a,l])=>m.setC(t||[],e*o,n*o,s*o,r*o,e*i,n*i,s*i,r*i,e*a,n*a,s*a,r*a,e*l,n*l,s*l,r*l)),L5=(t,e,n,s,r)=>{const o=bm(e,n,s,r);return Sm(t,o.left,o.right,o.bottom,o.top,o.near,o.far)},R5=(t,e,n,s)=>(!t&&(t=[]),vi(t,n,m.fromHomogeneous4(t,vm([],e,s)))),v5=(t,e,n,s)=>{!t&&(t=[]);const r=al(t,e,s);return r?vi(r,n,r):void 0},U5=(t,e,n,s,r=!1)=>{if(r){const o=il([],e),i=wm([],n);if(!o||!i)return;e=o,n=i}return al(t,e,vi([0,0,s[2]*2-1],n,s))},_5={xyz:[m.X3,m.Y3,m.Z3],yxz:[m.Y3,m.X3,m.Z3],xzy:[m.X3,m.Z3,m.Y3],zxy:[m.Z3,m.X3,m.Y3],yzx:[m.Y3,m.Z3,m.X3],zyx:[m.Z3,m.Y3,m.X3]},km=(t,e,n,s)=>{const[r,o,i]=_5[t];return cl(null,cl([],Wr(r,e),Wr(o,n)),Wr(i,s))},q5=(t,e)=>{const[n,s,r,o]=e,i=n+n,a=s+s,l=r+r,u=n*i,f=n*a,y=n*l,b=s*a,T=s*l,I=r*l,O=o*i,q=o*a,H=o*l;return m.setC(t||[],1-b-I,f+H,y-q,f-H,1-u-I,T+O,y+q,T-O,1-u-b)},Bm=(t,e,n=m.ZERO3)=>{const[s,r,o,i]=e,a=s+s,l=r+r,u=o+o,f=s*a,y=s*l,b=s*u,T=r*l,I=r*u,O=o*u,q=i*a,H=i*l,V=i*u;return m.setC(t||[],1-T-O,y+V,b-H,0,y-V,1-f-O,I+q,0,b+H,I-q,1-f-T,0,n[0],n[1],n[2],1)},Dm=(t,e,n,s=!1)=>{const[r,o,i]=s?m.normalize([],e):e,[a,l]=fe.sincos(n),u=1-l,f=r*a,y=o*a,b=i*a,T=r*u,I=o*u,O=i*u;return m.setC(t||[],r*T+l,o*T+b,i*T-y,r*I-b,o*I+l,i*I+f,r*O+y,o*O-f,i*O+l)},k5=(t,e,n,s=!1)=>Em(t,Dm([],e,n,s)),B5=(t,e)=>{const[n,s]=fe.sincos(e);return m.setC4(t||[],s,n,-n,s)},Gm=(t,e)=>{const[n,s]=fe.sincos(e);return m.setC6(t||[],s,n,-n,s,0,0)},D5=(t,e)=>{const[n,s]=fe.sincos(e);return m.setC(t||[],1,0,0,0,s,n,0,-n,s)},G5=(t,e)=>{const[n,s]=fe.sincos(e);return m.setC(t||[],s,0,-n,0,1,0,n,0,s)},Y5=(t,e)=>{const[n,s]=fe.sincos(e);return m.setC(t||[],s,n,0,-n,s,0,0,0,1)},z5=(t,e)=>{const[n,s]=fe.sincos(e);return m.setC(t||[],1,0,0,0,0,s,n,0,0,-n,s,0,0,0,0,1)},j5=(t,e)=>{const[n,s]=fe.sincos(e);return m.setC(t||[],s,0,-n,0,0,1,0,0,n,0,s,0,0,0,0,1)},$5=(t,e)=>{const[n,s]=fe.sincos(e);return m.setC(t||[],s,n,0,0,-n,s,0,0,0,0,1,0,0,0,0,1)},ro=m.vop(1),V5=ro.add(4,(t,e,n)=>m.setS2(t,e,0,n,1,2)),F5=ro.add(6,(t,e,n)=>m.setS3(t,e,0,n,1,2)),H5=ro.add(9,(t,e,n)=>m.setS3(t,e,0,n,1,3)),X5=ro.add(16,(t,e,n)=>m.setS4(t,e,0,n,1,4)),oo=(t,e)=>m.setC6(t||[],1,0,0,1,e[0],e[1]),ll=(t,e)=>m.setC(t||[],1,0,0,0,0,1,0,0,0,0,1,0,e[0],e[1],e[2],1),x5=(t,e,n)=>Li(t,oo([],e),no([],n),oo([],m.neg([],e))),Z5=(t,e,n)=>Li(t,ll([],e),Ri([],n),ll([],m.neg([],e))),_i=t=>e=>(n,s)=>(!n&&(n=[]),t(n),n[e]=s,n),Ym=_i(Nm),zm=_i(Am),$s=_i(Tm),Vs=_i(Im),jm=Ym(2),$m=Ym(1),Vm=zm(2),Fm=zm(1),Hm=$s(3),Xm=$s(6),xm=$s(1),Zm=$s(7),Qm=$s(2),Wm=$s(5),Km=Vs(4),Jm=Vs(8),th=Vs(1),eh=Vs(9),nh=Vs(2),sh=Vs(6),Ht=t=>(e,n)=>t(e,Math.tan(n)),Q5=Ht(jm),W5=Ht($m),K5=Ht(Vm),J5=Ht(Fm),tB=Ht(Hm),eB=Ht(Xm),nB=Ht(xm),sB=Ht(Zm),rB=Ht(Qm),oB=Ht(Wm),iB=Ht(Km),cB=Ht(Jm),aB=Ht(th),lB=Ht(eh),uB=Ht(nh),dB=Ht(sh),rh=m.sub,fB=m.sub4,[pB,mB,hB]=Zr(rh,"-"),oh=m.subN,yB=m.subN4,[gB,SB,bB]=Qr(oh,"-"),NB=t=>m.sum(js([],t)),AB=(t,e,n,s)=>Li(t,oo([],e),Gm([],n),no([],s)),TB=(t,e,n,s)=>pm(t,Bm(t,km("zyx",n[2],n[1],n[0]),e),Ri([],s)),IB=(t,e,n,s,r)=>{const o=(e+n)/2,i=(s+r)/2,a=(n-e)/2,l=(r-s)/2;return fm(null,oo(t,[o,i]),no([],[a,l]))};h.IDENT22=rm;h.IDENT23=om;h.IDENT33=im;h.IDENT44=cm;h.add=lm;h.add22=pk;h.add23=mk;h.add33=hk;h.add44=yk;h.addN=um;h.addN22=gk;h.addN23=Sk;h.addN33=bk;h.addN44=Nk;h.alignmentQuat=Tk;h.column=Kr;h.column22=dm;h.column23=Ik;h.column33=wk;h.column44=Ck;h.concat=Li;h.conjugateQ=Ok;h.defMath=Zr;h.defMathN=Qr;h.det22=mm;h.det23=Mk;h.det33=Lk;h.det44=Rk;h.det44FromCoeffs=rl;h.detCoeffs44=sl;h.diag=js;h.diag22=hm;h.diag23=vk;h.diag33=Uk;h.diag44=_k;h.div=ym;h.div22=qk;h.div23=kk;h.div33=Bk;h.div44=Dk;h.divN=gm;h.divN22=Gk;h.divN23=Yk;h.divN33=zk;h.divN44=jk;h.frustum=Sm;h.frustumBounds=bm;h.identity=to;h.identity22=Nm;h.identity23=Am;h.identity33=Tm;h.identity44=Im;h.invert=eo;h.invert22=Xk;h.invert23=wm;h.invert33=Cm;h.invert44=il;h.invertQ=xk;h.isOrthagonal=E5;h.lookAt=Zk;h.mat22n=Jk;h.mat22to23=Qk;h.mat22v=s5;h.mat23n=t5;h.mat23to22=Wk;h.mat23to44=Kk;h.mat23v=r5;h.mat33n=e5;h.mat33to44=Em;h.mat33v=o5;h.mat44n=n5;h.mat44to33=Pm;h.mat44v=i5;h.mixQ=c5;h.mul=Lm;h.mul22=a5;h.mul23=l5;h.mul33=u5;h.mul44=d5;h.mulM=ds;h.mulM22=Ek;h.mulM23=fm;h.mulM33=Pk;h.mulM44=pm;h.mulN=Rm;h.mulN22=f5;h.mulN23=p5;h.mulN33=m5;h.mulN44=h5;h.mulQ=cl;h.mulV=so;h.mulV22=y5;h.mulV23=vi;h.mulV33=g5;h.mulV344=al;h.mulV44=vm;h.mulVM22=Um;h.mulVM23=b5;h.mulVM33=N5;h.mulVM44=A5;h.mulVQ=S5;h.normal33=I5;h.normal44=w5;h.ortho=C5;h.outerProduct=Ui;h.outerProduct2=P5;h.outerProduct3=O5;h.outerProduct4=M5;h.perspective=L5;h.project=R5;h.project3=v5;h.quatFromAxisAngle=Wr;h.quatFromEuler=km;h.quatToAxisAngle=Ak;h.quatToMat33=q5;h.quatToMat44=Bm;h.rotation22=B5;h.rotation23=Gm;h.rotationAroundAxis33=Dm;h.rotationAroundAxis44=k5;h.rotationX33=D5;h.rotationX44=z5;h.rotationY33=G5;h.rotationY44=j5;h.rotationZ33=Y5;h.rotationZ44=$5;h.row=ro;h.row22=V5;h.row23=F5;h.row33=H5;h.row44=X5;h.scale22=Om;h.scale23=no;h.scale33=Mm;h.scale44=Ri;h.scaleWithCenter23=x5;h.scaleWithCenter44=Z5;h.set=Jr;h.set22=$k;h.set23=Vk;h.set33=Fk;h.set44=Hk;h.shearX22=jm;h.shearX23=Vm;h.shearXY33=Hm;h.shearXY44=Km;h.shearXZ33=Xm;h.shearXZ44=Jm;h.shearY22=$m;h.shearY23=Fm;h.shearYX33=xm;h.shearYX44=th;h.shearYZ33=Zm;h.shearYZ44=eh;h.shearZX33=Qm;h.shearZX44=nh;h.shearZY33=Wm;h.shearZY44=sh;h.skewX22=Q5;h.skewX23=K5;h.skewXY33=tB;h.skewXY44=iB;h.skewXZ33=eB;h.skewXZ44=cB;h.skewY22=W5;h.skewY23=J5;h.skewYX33=nB;h.skewYX44=aB;h.skewYZ33=sB;h.skewYZ44=lB;h.skewZX33=rB;h.skewZX44=uB;h.skewZY33=oB;h.skewZY44=dB;h.sub=rh;h.sub22=fB;h.sub23=pB;h.sub33=mB;h.sub44=hB;h.subN=oh;h.subN22=yB;h.subN23=gB;h.subN33=SB;h.subN44=bB;h.trace=NB;h.transform23=AB;h.transform44=TB;h.translation23=oo;h.translation44=ll;h.transpose22=T5;h.transpose33=_m;h.transpose44=qm;h.unproject=U5;h.viewport=IB});var bh=D(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});var fs=ts(),qt=Zt(),ul=De();const dl={"?xml":`?>
`,"!DOCTYPE":`>
`,"!ENTITY":`>
`,"!ELEMENT":`>
`,"!ATTLIST":`>
`},fl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},ch=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/,ah=new RegExp(`[${Object.keys(fl).join("")}]`,"g"),lh="__COMMENT__",uh="!CDATA",dh={button:1,option:1,script:1,style:1,text:1,textarea:1,title:1},pl=t=>t.split(" ").reduce((e,n)=>(e[n]=!0,e),{}),wB=pl("animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view"),ml=pl("area base br col command embed hr img input keygen link meta param source stop track use wbr ?xml"),fh=pl("animate circle ellipse line path polygon polyline rect"),ph={accept:",",sizes:",",srcset:","},hl=(t,e)=>{if(e=fs.deref(e),e==null)return t;if(qt.isString(e))return t+" "+e;const n=new Set(t.split(" "));for(let s in e)fs.deref(e[s])?n.add(s):n.delete(s);return[...n].join(" ")},mh=(t,e,n)=>{e&&(t.id=e);let s=fs.deref(t.class);return n?(n=n.replace(/\./g," "),t.class=s?hl(n,s):n):s&&(t.class=qt.isString(s)?s:hl("",s)),t},hh=t=>{let e="",n;for(let s in t)n=fs.deref(t[s]),qt.isFunction(n)&&(n=n(t)),n!=null&&(e+=`${s}:${n};`);return e},CB=(t,e)=>{if(t==null||!e||!e.length)return t;const n=Object.assign({},t);for(let s of e){const r=n[s];qt.implementsFunction(r,"deref")&&(n[s]=r.deref())}return n},qi=t=>t.replace(ah,e=>fl[e]),yh=t=>{let e=t[0],n;const s=qt.isPlainObject(t[1]),r=s?Object.assign({},t[1]):{};return(!qt.isString(e)||!(n=ch.exec(e)))&&ul.illegalArgs(`"${e}" is not a valid tag name`),e=n[1],mh(r,n[2],n[3]),t.length>1&&(t=t.slice(s?2:1).filter(o=>o!=null),t.length>0)?[e,r,t]:[e,r]},gh=t=>Object.keys(t).reduce((e,n)=>(e.push(`${n}: ${t[n]}`),e),[]).join(" "),EB=(t,e,n=!1,s=!1,r=s,o=[0])=>jn(t,e,n,s,r,o),jn=(t,e,n,s,r,o)=>t==null?"":Array.isArray(t)?PB(t,e,n,s,r,o):qt.isFunction(t)?jn(t(e),e,n,s,r,o):qt.implementsFunction(t,"toHiccup")?jn(t.toHiccup(e),e,n,s,r,o):fs.isDeref(t)?jn(t.deref(),e,n,s,r,o):qt.isNotStringAndIterable(t)?Sh(t,e,n,s,r,o):(t=n?qi(String(t)):String(t),s)?`<span${r?` key="${o.join("-")}"`:""}>${t}</span>`:t,PB=(t,e,n,s,r,o)=>{let i=t[0];return t.length?qt.isFunction(i)?jn(i.apply(null,[e,...t.slice(1)]),e,n,s,r,o):qt.implementsFunction(i,"render")?jn(i.render.apply(null,[e,...t.slice(1)]),e,n,s,r,o):i===lh?MB(t):i==uh?LB(t):qt.isString(i)?OB(t,e,n,s,r,o):qt.isNotStringAndIterable(t)?Sh(t,e,n,s,r,o):ul.illegalArgs(`invalid tree node: ${t}`):""},OB=(t,e,n,s,r,o)=>{t=yh(t);const i=t[1];if(i.__skip||i.__serialize===!1)return"";r&&i.key===void 0&&(i.key=o.join("-"));const a=t[0],l=t[2]?vB(a,t[2],e,n,s,r,o):!ml[a]&&!fh[a]?`></${a}>`:dl[a]||"/>";return`<${a}${RB(i,n)}${l}`},RB=(t,e)=>{let n="";for(let s in t){if(s.startsWith("__"))continue;const r=UB(t,s,fs.deref(t[s]),e);r!=null&&(n+=r)}return n},UB=(t,e,n,s)=>n==null||qt.isFunction(n)&&(/^on\w+/.test(e)||(n=n(t))==null)?null:n===!0?" "+e:n===!1?null:e==="data"?qB(n,s):_B(e,n,s),_B=(t,e,n)=>(e=t==="style"&&qt.isPlainObject(e)?hh(e):t==="prefix"&&qt.isPlainObject(e)?gh(e):qt.isArray(e)?e.join(ph[t]||" "):e.toString(),e.length?` ${t}="${n?qi(e):e}"`:null),qB=(t,e)=>{let n="";for(let s in t){let r=fs.deref(t[s]);qt.isFunction(r)&&(r=r(t)),r!=null&&(n+=` data-${s}="${e?qi(r):r}"`)}return n},vB=(t,e,n,s,r,o,i)=>{ml[t]&&ul.illegalArgs(`No body allowed in tag: ${t}`);const a=dl[t];let l=a?" ":">";r=r&&!a&&!dh[t];for(let u=0,f=e.length;u<f;u++)l+=jn(e[u],n,s,r,o,[...i,u]);return l+(a||`</${t}>`)},MB=t=>t.length>2?`
<!--
${t.slice(1).map(e=>"    "+e).join(`
`)}
-->
`:`
<!-- ${t[1]} -->
`,LB=t=>`<![CDATA[
${t.slice(1).join(`
`)}
]]>`,Sh=(t,e,n,s,r,o)=>{const i=[],a=o.slice(0,o.length-1);let l=0;for(let u of t)i.push(jn(u,e,n,s,r,[...a,l++]));return i.join("")};Tt.ATTRIB_JOIN_DELIMS=ph;Tt.CDATA=uh;Tt.COMMENT=lh;Tt.ENTITIES=fl;Tt.NO_CLOSE_EMPTY=fh;Tt.NO_SPANS=dh;Tt.PROC_TAGS=dl;Tt.RE_ENTITY=ah;Tt.RE_TAG=ch;Tt.SVG_TAGS=wB;Tt.VOID_TAGS=ml;Tt.css=hh;Tt.derefContext=CB;Tt.escape=qi;Tt.formatPrefixes=gh;Tt.mergeClasses=hl;Tt.mergeEmmetAttribs=mh;Tt.normalize=yh;Tt.serialize=EB});var Ol=D(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});var Ne=el(),_=Wt(),P=ue(),yl=Zt(),ki=Wa(),io=De(),kB=Nc(),Ae=Os();(function(t){t[t.RGBA=0]="RGBA",t[t.HCYA=1]="HCYA",t[t.HSVA=2]="HSVA",t[t.HSLA=3]="HSLA",t[t.HSIA=4]="HSIA",t[t.INT32=5]="INT32",t[t.CSS=6]="CSS",t[t.XYZA=7]="XYZA",t[t.YCBCRA=8]="YCBCRA"})(p.ColorMode||(p.ColorMode={}));const BB=Object.freeze([0,0,0,1]),Nh=Object.freeze([1,1,1,1]),DB=Object.freeze([1,0,0,1]),GB=Object.freeze([0,1,0,1]),YB=Object.freeze([0,0,1,1]),zB=Object.freeze([0,1,1,1]),jB=Object.freeze([1,0,1,1]),$B=Object.freeze([1,1,0,1]),co=[.299,.587,.114];(function(t){t[t.RED=0]="RED",t[t.ORANGE=1]="ORANGE",t[t.YELLOW=2]="YELLOW",t[t.CHARTREUSE=3]="CHARTREUSE",t[t.GREEN=4]="GREEN",t[t.SPRING_GREEN=5]="SPRING_GREEN",t[t.CYAN=6]="CYAN",t[t.AZURE=7]="AZURE",t[t.BLUE=8]="BLUE",t[t.VIOLET=9]="VIOLET",t[t.MAGENTA=10]="MAGENTA",t[t.ROSE=11]="ROSE"})(p.Hue||(p.Hue={}));const ao=.055,Ah=[.4124564,.3575761,.1804375,.2126729,.7151522,.072175,.0193339,.119192,.9503041],Th=[3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252],lo=Ne.float(2),gl=Ne.percent(2),ps=1/255,Ih={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},uo=t=>(t=t%1,t<0?t+1:t),Fs=(t,e,n=1)=>(e=uo(e)*6,P.setC4(t||[],_.clamp01(Math.abs(e-3)-1),_.clamp01(2-Math.abs(e-2)),_.clamp01(2-Math.abs(e-4)),n)),VB=(t,e,n=1)=>Fs(t,e/12,n),Te=(t,e=1)=>t!=null?_.clamp01(t):e,wh=(t,e)=>{const n=e[0];let s=e[1];const r=e[2],o=Fs(t||e,n,Te(e[3])),i=P.dot3(o,co);return r<i?s*=r/i:i<1&&(s*=(1-r)/(1-i)),P.setC3(o,_.clamp01((o[0]-i)*s+r),_.clamp01((o[1]-i)*s+r),_.clamp01((o[2]-i)*s+r))},$n=(t,e,n=1)=>P.setC4(t||e,_.clamp01(e[0]),_.clamp01(e[1]),_.clamp01(e[2]),Te(e[3],n)),fo=(t,e,n=1)=>P.setC4(t||e,uo(e[0]),_.clamp01(e[1]),_.clamp01(e[2]),Te(e[3],n)),Ch=(t,e)=>{t=fo(t||e,e);const n=t[1],s=t[2];if(n<1e-6)return P.setC3(t,s,s,s);const r=t[0]*6%6,o=s*(1-n),i=1-Math.abs(r%2-1);let a=3*s*n/(1+i);const l=a*i+o;a+=o;switch(r|0){case 0:return P.setC3(t,a,l,o);case 1:return P.setC3(t,l,a,o);case 2:return P.setC3(t,o,a,l);case 3:return P.setC3(t,o,l,a);case 4:return P.setC3(t,l,o,a);case 5:return P.setC3(t,a,o,l);default:return P.setC3(t,o,o,o)}},Sl=t=>{const e=lo(uo(t[0])*360),n=gl(_.clamp01(t[1])),s=gl(_.clamp01(t[2])),r=Te(t[3]);return r<1?`hsla(${e},${n},${s},${lo(r)})`:`hsl(${e},${n},${s})`},Eh=(t,e)=>{t=fo(t||e,e);const n=t[1],s=t[2],r=2*s,o=(r+n*(1-Math.abs(r-1)))*.5;return t[1]=2*(o-s)/o,t[2]=o,t},bl=(t,e)=>{const n=_.clamp01(e[1]),s=_.clamp01(e[2]);t=Fs(t||e,e[0],Te(e[3]));const r=(1-Math.abs(2*s-1))*n;return P.setC3(t,(t[0]-.5)*r+s,(t[1]-.5)*r+s,(t[2]-.5)*r+s)},Nl=(t,e)=>{t=fo(t||e,e);const n=t[1],s=t[2],r=(2-n)*s/2;return t[2]=r,t[1]=r&&r<1?n*s/(r<.5?r*2:2-r*2):n,t},Ph=t=>Sl(Nl([],t)),Oh=(t,e)=>{t=fo(t||e,e);const n=t[1],s=t[2];return Fs(t,e[0],t[3]),P.setC3(t,((t[0]-1)*n+1)*s,((t[1]-1)*n+1)*s,((t[2]-1)*n+1)*s)},Al=t=>{t=typeof t=="number"?t:t.deref();const e=t>>>24;return e<255?`rgba(${t>>16&255},${t>>8&255},${t&255},${lo(e*ps)})`:`#${Ne.U24(t&16777215)}`},FB=t=>(t=typeof t=="number"?t:t.deref(),Al(t|4278190080)),po=(t,e)=>(e=typeof e=="number"?e:e.deref(),P.setC4(t||[],(e>>>16&255)*ps,(e>>>8&255)*ps,(e&255)*ps,(e>>>24&255)*ps)),HB=(t,e)=>(e=typeof e=="number"?e:e.deref(),po(t,e|4278190080)),XB=-.6088425710866344,xB=-.001748900018414868,ZB=.4097731842899564,QB=1.2762722061615583,WB=.0003115080994769546,KB=.11013841706194392,JB=1.3803015908551253,t8=.0004478684462124118,e8=-.15785750232675008,n8=-.9990954974165059,s8=.0032447435545127036,r8=.453646839257496,o8=(t,e,n=1)=>{e*=.01;let s;return e<66?P.setC4(t||[],1,_.clamp01(XB+xB*(s=e-2)+ZB*Math.log(s)),e<20?0:_.clamp01(n8+s8*(s=e-10)+r8*Math.log(s)),n):P.setC4(t||[],_.clamp01(JB+t8*(s=e-55)+e8*Math.log(s)),_.clamp01(QB+WB*(s=e-50)-KB*Math.log(s)),1,n)},i8=/^#?([0-9a-f]{3,8})$/i,c8=/^(rgb|hsl)a?\(\s*([0-9.]+?),\s*([0-9.]+%?),\s*([0-9.]+%?),?\s*([0-9.]+)?\s*\)$/,Il=t=>{if(t=typeof t=="string"?t:t.deref(),t.charAt(0)==="#")return po([],Tl(t));{const e=c8.exec(t);if(e)return e[1]==="rgb"||e[1]==="rgba"?[mo(e[2]),mo(e[3]),mo(e[4]),Ne.maybeParseFloat(e[5],1)]:bl(null,[Ne.maybeParseFloat(e[2])/360,mo(e[3]),mo(e[4]),Ne.maybeParseFloat(e[5],1)]);{const n=Ih[t];return!n&&io.illegalArgs(`invalid color: "${t}"`),po([],Tl(n))}}},Tl=t=>{const e=i8.exec(t);if(e){const n=e[1];switch(n.length){case 3:{const[s,r,o]=n;return(Ne.maybeParseInt(`${s}${s}${r}${r}${o}${o}`,0,16)|4278190080)>>>0}case 4:{const[s,r,o,i]=n;return Ne.maybeParseInt(`${s}${s}${r}${r}${o}${o}${i}${i}`,0,16)>>>0}case 6:return(Ne.maybeParseInt(n,0,16)|4278190080)>>>0;case 8:return Ne.maybeParseInt(n,0,16)>>>0}}return io.illegalArgs(`invalid hex color: "${t}"`)},mo=t=>_.clamp01(t.indexOf("%")>0?Ne.maybeParseFloat(t)*.01:Ne.maybeParseFloat(t)*ps),Mh=t=>{const e=_.clamp01(t[0])*255+.5|0,n=_.clamp01(t[1])*255+.5|0,s=_.clamp01(t[2])*255+.5|0,r=Te(t[3]);return r<1?`rgba(${e},${n},${s},${lo(r)})`:`#${Ne.U24(e<<16|n<<8|s)}`},Hs=(t,e=co)=>P.dot3(t,e),Lh=t=>((t>>>16&255)*76+(t>>>8&255)*150+(t&255)*29)/65025,Bi=(t,e)=>{t=$n(t||e,e);const n=t[1]<t[2]?[t[2],t[1],-1,2/3]:[t[1],t[2],0,-1/3],s=t[0]<n[0]?[n[0],n[1],n[3],t[0]]:[t[0],n[1],n[2],n[0]],r=s[0]-Math.min(s[1],s[3]);return P.setC3(t,_.clamp01(Math.abs((s[3]-s[1])/(6*r+_.EPS)+s[2])),_.clamp01(r),_.clamp01(s[0]))},Rh=(t,e)=>{const n=Hs(e);t=Bi(t,e);const s=Hs(Fs([],t[0]));return t[1]*=n<s?s/(n+_.EPS):(1-s)/(1+_.EPS-n),t[2]=n,t},a8=_.SQRT3/2,vh=(t,e)=>{t=$n(t||e,e);const n=t[0],s=t[1],r=t[2],o=_.THIRD*(n+s+r);return o<1e-6||n===s&&n===r?P.setC3(t,0,0,o):P.setC3(t,_.atan2Abs(a8*(s-r),.5*(2*n-s-r))/_.TAU,1-Math.min(n,s,r)/o,o)},Uh=(t,e)=>(t=Bi(t,e),t[2]-=t[1]*.5,t[1]/=1+_.EPS-Math.abs(t[2]*2-1),t),_h=(t,e)=>(t=Bi(t,e),t[1]/=t[2]+_.EPS,t),qh=t=>(Te(t[3])*255+.5<<24|_.clamp01(t[0])*255+.5<<16|_.clamp01(t[1])*255+.5<<8|_.clamp01(t[2])*255+.5)>>>0,kh=(t,e,n,s=!0)=>{const r=P.dotS3(e,n,0,0,3),o=P.dotS3(e,n,1,0,3),i=P.dotS3(e,n,2,0,3),a=Te(n[3]);return s?P.setC4(t||n,_.clamp01(r),_.clamp01(o),_.clamp01(i),a):P.setC4(t||n,r,o,i,a)},l8=(t,e,n,s=!0)=>{t=P.setC4(t||n,n[0],n[1],n[2],Te(n[3]));const r=P.dotS4(t,e,0,0)+e[4],o=P.dotS4(t,e,0,5)+e[9],i=P.dotS4(t,e,0,10)+e[14],a=P.dotS4(t,e,0,15)+e[19];return s?P.setC4(t,_.clamp01(r),_.clamp01(o),_.clamp01(i),_.clamp01(a)):P.setC4(t,r,o,i,a)},u8=(t,e)=>[P.dotS4(e,t,0,0,1,5),P.dotS4(e,t,0,1,1,5),P.dotS4(e,t,0,2,1,5),P.dotS4(e,t,0,3,1,5),P.dotS4(e,t,0,4,1,5)+e[4],P.dotS4(e,t,5,0,1,5),P.dotS4(e,t,5,1,1,5),P.dotS4(e,t,5,2,1,5),P.dotS4(e,t,5,3,1,5),P.dotS4(e,t,5,4,1,5)+e[9],P.dotS4(e,t,10,0,1,5),P.dotS4(e,t,10,1,1,5),P.dotS4(e,t,10,2,1,5),P.dotS4(e,t,10,3,1,5),P.dotS4(e,t,10,4,1,5)+e[14],P.dotS4(e,t,15,0,1,5),P.dotS4(e,t,15,1,1,5),P.dotS4(e,t,15,2,1,5),P.dotS4(e,t,15,3,1,5),P.dotS4(e,t,15,4,1,5)+e[19]],Bh=(t,e)=>(t=kh(null,Ah,$n(t||e,e),!1),t[3]=Te(e[3]),t),Dh=(t,e)=>{t=$n(t||e,e);const n=Hs(e);return P.setC3(t,n,(e[2]-n)*.565,(e[0]-n)*.713)},Gh=(t,e)=>kh(t||e,Th,e),Yh=(t,e)=>{const n=e[0],s=e[1],r=e[2];return P.setC4(t||[],_.clamp01(n+1.403*r),_.clamp01(n-.344*s-.714*r),_.clamp01(n+1.77*s),Te(e[3]))},pe=ki.defmulti((t,e,n)=>t.mode!==void 0?`${e}-${t.mode}`:n!==void 0?`${e}-${n}`:io.illegalArgs("missing src color mode"));pe.add(ki.DEFAULT,(t,e,n)=>t.mode!==void 0&&t.mode===e||e===n?t:io.illegalArgs(`missing conversion for mode ${n} -> ${e}`));function Di(t,e){return pe(t,p.ColorMode.CSS,e)}function d8(t,e){return pe(t,p.ColorMode.RGBA,e)}function f8(t,e){return pe(t,p.ColorMode.HCYA,e)}function p8(t,e){return pe(t,p.ColorMode.HSIA,e)}function m8(t,e){return pe(t,p.ColorMode.HSLA,e)}function h8(t,e){return pe(t,p.ColorMode.HSVA,e)}function y8(t,e){return pe(t,p.ColorMode.XYZA,e)}function g8(t,e){return pe(t,p.ColorMode.YCBCRA,e)}const Me=(t,e,n)=>pe.add(`${t}-${e}`,n),ms=(t,e,...n)=>{Me(p.ColorMode.RGBA,t,s=>e([],s)),n.forEach(s=>Me(s,t,r=>pe(e([],r),s,p.ColorMode.RGBA)))};Me(p.ColorMode.RGBA,p.ColorMode.CSS,t=>Il(t));[p.ColorMode.HCYA,p.ColorMode.HSIA,p.ColorMode.HSLA,p.ColorMode.HSVA,p.ColorMode.INT32,p.ColorMode.XYZA,p.ColorMode.YCBCRA].forEach(t=>Me(t,p.ColorMode.CSS,e=>pe(Il(e),t,p.ColorMode.RGBA)));ms(p.ColorMode.INT32,po,p.ColorMode.HCYA,p.ColorMode.HSIA,p.ColorMode.HSLA,p.ColorMode.HSVA,p.ColorMode.XYZA,p.ColorMode.YCBCRA);Me(p.ColorMode.CSS,p.ColorMode.INT32,t=>Al(t));ms(p.ColorMode.HCYA,wh,p.ColorMode.CSS,p.ColorMode.INT32,p.ColorMode.HSLA,p.ColorMode.HSVA,p.ColorMode.XYZA,p.ColorMode.YCBCRA);ms(p.ColorMode.HSIA,Ch,p.ColorMode.CSS,p.ColorMode.INT32,p.ColorMode.HCYA,p.ColorMode.HSLA,p.ColorMode.HSVA,p.ColorMode.XYZA,p.ColorMode.YCBCRA);ms(p.ColorMode.HSLA,bl,p.ColorMode.HCYA,p.ColorMode.HSIA,p.ColorMode.INT32,p.ColorMode.XYZA,p.ColorMode.YCBCRA);Me(p.ColorMode.CSS,p.ColorMode.HSLA,t=>Sl(t));Me(p.ColorMode.HSVA,p.ColorMode.HSLA,t=>Eh([],t));ms(p.ColorMode.HSVA,Oh,p.ColorMode.HCYA,p.ColorMode.HSIA,p.ColorMode.INT32,p.ColorMode.XYZA,p.ColorMode.YCBCRA);Me(p.ColorMode.CSS,p.ColorMode.HSVA,t=>Ph(t));Me(p.ColorMode.HSLA,p.ColorMode.HSVA,t=>Nl([],t));[[p.ColorMode.HCYA,Rh],[p.ColorMode.HSIA,vh],[p.ColorMode.HSLA,Uh],[p.ColorMode.HSVA,_h],[p.ColorMode.XYZA,Bh],[p.ColorMode.YCBCRA,Dh]].forEach(([t,e])=>Me(t,p.ColorMode.RGBA,n=>e([],n)));Me(p.ColorMode.CSS,p.ColorMode.RGBA,t=>Mh(t));Me(p.ColorMode.INT32,p.ColorMode.RGBA,t=>qh(t));ms(p.ColorMode.XYZA,Gh,p.ColorMode.CSS,p.ColorMode.HCYA,p.ColorMode.HSIA,p.ColorMode.HSLA,p.ColorMode.HSVA,p.ColorMode.INT32,p.ColorMode.YCBCRA);ms(p.ColorMode.YCBCRA,Yh,p.ColorMode.CSS,p.ColorMode.HCYA,p.ColorMode.HSIA,p.ColorMode.HSLA,p.ColorMode.HSVA,p.ColorMode.INT32,p.ColorMode.XYZA);const S8=t=>yl.isArrayLike(t)?yl.isNumber(t.mode)?Di(t):Di(t,p.ColorMode.RGBA):yl.isNumber(t)?Di(t,p.ColorMode.INT32):t,Gi=t=>t<=.0031308?12.92*t:(1+ao)*Math.pow(t,1/2.4)-ao,Yi=t=>t<=.04045?t/12.92:Math.pow((t+ao)/(1+ao),2.4),b8=(t,e)=>P.setC4(t||e,Gi(e[0]),Gi(e[1]),Gi(e[2]),Te(e[3])),N8=(t,e)=>P.setC4(t||e,Yi(e[0]),Yi(e[1]),Yi(e[2]),Te(e[3])),A8=t=>new zi(t),T8=t=>new zi(t|4278190080);class zi{constructor(t){this.value=t>>>0}get mode(){return p.ColorMode.INT32}copy(){return new zi(this.value)}deref(){return this.value}}const I8=t=>new wl(t);class wl{constructor(t){this.value=t}get mode(){return p.ColorMode.CSS}copy(){return new wl(this.value)}deref(){return this.value}}class hs{constructor(t,e=0,n=1){this.buf=t||[0,0,0,0],this.offset=e,this.stride=n}[Symbol.iterator](){return P.stridedValues(this.buf,4,this.offset,this.stride)}get length(){return 4}deref(){return[this[0],this[1],this[2],this[3]]}eqDelta(t,e=_.EPS){return P.eqDelta4(this,t,e)}}const ys=t=>{if(typeof t[0]=="number")switch(t.length){case 1:return t.push(0,0,1),[t];case 2:return t.push(0,1),[t];case 3:return t.push(1),[t];default:return[t]}return t};function w8(...t){return new Xs(...ys(t))}class Xs extends hs{get mode(){return p.ColorMode.HCYA}copy(){return new Xs(this.deref())}copyView(){return new Xs(this.buf,this.offset,this.stride)}empty(){return new Xs}}P.declareIndices(Xs.prototype,["h","c","y","a"]);function C8(...t){return new xs(...ys(t))}class xs extends hs{get mode(){return p.ColorMode.HSIA}copy(){return new xs(this.deref())}copyView(){return new xs(this.buf,this.offset,this.stride)}empty(){return new xs}}P.declareIndices(xs.prototype,["h","s","i","a"]);function E8(...t){return new Zs(...ys(t))}class Zs extends hs{get mode(){return p.ColorMode.HSLA}copy(){return new Zs(this.deref())}copyView(){return new Zs(this.buf,this.offset,this.stride)}empty(){return new Zs}}P.declareIndices(Zs.prototype,["h","s","l","a"]);function P8(...t){return new Qs(...ys(t))}class Qs extends hs{get mode(){return p.ColorMode.HSVA}copy(){return new Qs(this.deref())}copyView(){return new Qs(this.buf,this.offset,this.stride)}empty(){return new Qs}}P.declareIndices(Qs.prototype,["h","s","v","a"]);function O8(...t){return new Ws(...ys(t))}class Ws extends hs{get mode(){return p.ColorMode.RGBA}copy(){return new Ws(this.deref())}copyView(){return new Ws(this.buf,this.offset,this.stride)}empty(){return new Ws}}P.declareIndices(Ws.prototype,["r","g","b","a"]);function M8(...t){return new Ks(...ys(t))}class Ks extends hs{get mode(){return p.ColorMode.XYZA}copy(){return new Ks(this.deref())}copyView(){return new Ks(this.buf,this.offset,this.stride)}empty(){return new Ks}}P.declareIndices(Ks.prototype,["x","y","z","a"]);function L8(...t){return new Js(...ys(t))}class Js extends hs{get mode(){return p.ColorMode.YCBCRA}copy(){return new Js(this.deref())}copyView(){return new Js(this.buf,this.offset,this.stride)}empty(){return new Js}}P.declareIndices(Js.prototype,["y","b","r","a"]);const R8=t=>t[3]!==void 0?t[3]:1,v8=(t,e,n)=>P.setC4(t||e,e[0],e[1],e[2],n),U8=t=>Math.round(uo(t)*12)%12,_8=t=>Math.round(uo(t)*12)%12&14,q8={"blue-cyan":[[0,.5,.5,1],[0,.5,.5,0],[0,.5,.3333,0],[0,.5,.6666,0]],"blue-magenta-orange":[[.938,.328,.718,1],[.659,.438,.328,0],[.388,.388,.296,0],[2.538,2.478,.168,0]],"blue-white-red":[[.66,.56,.68,1],[.718,.438,.72,0],[.52,.8,.52,0],[-.43,-.397,-.083,0]],"cyan-magenta":[[.61,.498,.65,1],[.388,.498,.35,0],[.53,.498,.62,0],[3.438,3.012,4.025,0]],"green-blue-orange":[[.892,.725,0,1],[.878,.278,.725,0],[.332,.518,.545,0],[2.44,5.043,.732,0]],"green-cyan":[[0,.5,.5,1],[0,.5,.5,0],[0,.3333,.5,0],[0,.6666,.5,0]],"green-magenta":[[.6666,.5,.5,1],[.5,.6666,.5,0],[.6666,.666,.5,0],[.2,0,.5,0]],"green-red":[[.5,.5,0,1],[.5,.5,0,0],[.5,.5,0,0],[.5,0,0,0]],"magenta-green":[[.59,.811,.12,1],[.41,.392,.59,0],[.94,.548,.278,0],[-4.242,-6.611,-4.045,0]],"orange-blue":[[.5,.5,.5,1],[.5,.5,.5,0],[.8,.8,.5,0],[0,.2,.5,0]],"orange-magenta-blue":[[.821,.328,.242,1],[.659,.481,.896,0],[.612,.34,.296,0],[2.82,3.026,-.273,0]],rainbow1:[[.5,.5,.5,1],[.5,.5,.5,0],[1,1,1,0],[0,.3333,.6666,0]],rainbow2:[[.5,.5,.5,1],[.666,.666,.666,0],[1,1,1,0],[0,.3333,.6666,0]],rainbow3:[[.5,.5,.5,1],[.75,.75,.75,0],[1,1,1,0],[0,.3333,.6666,0]],rainbow4:[[.5,.5,.5,1],[1,1,1,0],[1,1,1,0],[0,.3333,.6666,0]],"red-blue":[[.5,0,.5,1],[.5,0,.5,0],[.5,0,.5,0],[0,0,.5,0]],"yellow-green-blue":[[.65,.5,.31,1],[-.65,.5,.6,0],[.333,.278,.278,0],[.66,0,.667,0]],"yellow-magenta-cyan":[[1,.5,.5,1],[.5,.5,.5,0],[.75,1,.6666,0],[.8,1,.3333,0]],"yellow-purple-magenta":[[.731,1.098,.192,1],[.358,1.09,.657,0],[1.077,.36,.328,0],[.965,2.265,.837,0]],"yellow-red":[[.5,.5,0,1],[.5,.5,0,0],[.1,.5,0,0],[0,0,0,0]],"purple-orange-cyan":[[.5,.5,.5,1],[.5,.5,.5,0],[.5,.5,1,0],[-.25,.5,1,0]],heat1:[[.5,.4,.25,1],[.5,.5,.666,0],[.5,.666,.8,0],[.5,.666,.8,0]]},Cl=(t,e)=>Ae.transduce(Ae.map(([n,s,r,o])=>_.clamp01(n+s*Math.cos(_.TAU*(r*e+o)))),Ae.push(),Ae.zip(...t)),k8=(t,e)=>Ae.transduce(Ae.map(kB.partial(Cl,e)),Ae.push(),Ae.normRange(t-1)),zh=(t,e)=>{t=$n([],t),e=$n([],e);const n=[...Ae.map(([s,r])=>.5*(s-r),Ae.zip(t,e))];return[[...Ae.map(([s,r])=>s-r,Ae.zip(t,n))],n,[-.5,-.5,-.5,-.5],[0,0,0,0]]},B8=(t,...e)=>[...Ae.tween({num:t,min:0,max:1,init:zh,mix:Cl,stops:e})],D8=(t,e)=>(t=$n(t||e,e),P.sub3(t,P.ONE3,t)),G8=t=>t^16777215,ji=ki.defmulti((t,e)=>t.mode!==void 0?t.mode:e!==void 0?e:io.illegalArgs("missing color mode"));ji.add(p.ColorMode.RGBA,t=>Hs(t));ji.add(p.ColorMode.INT32,t=>Lh(typeof t=="number"?t:t.deref()));ji.add(ki.DEFAULT,(t,e)=>Hs(pe(t,p.ColorMode.RGBA,e)));const Y8=P.mixN4,z8=(t,e,n)=>P.setC4(t||e,_.mix(e[0],n[0],e[3]),_.mix(e[0],n[0],e[3]),_.mix(e[0],n[0],e[3]),e[3]),We=.072,Ke=.213,jh=.285,Le=.715,El=.787,Pl=.928,j8=.14,$8=.143,V8=.283,F8=l8,H8=(t,...e)=>e.reduce(u8,t),X8=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],x8=(t=Nh)=>[-1,0,0,0,t[0],0,-1,0,0,t[1],0,0,-1,0,t[2],0,0,0,1,0],Z8=t=>[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0],Q8=(t,e=.5*(1-t))=>[t,0,0,0,e,0,t,0,0,e,0,0,t,0,e,0,0,0,1,0],W8=t=>[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0],K8=t=>[Ke+El*t,Le-Le*t,We-We*t,0,0,Ke-Ke*t,Le+jh*t,We-We*t,0,0,Ke-Ke*t,Le-Le*t,We+Pl*t,0,0,0,0,0,1,0],J8=t=>{const e=Math.sin(t),n=Math.cos(t);return[Ke+n*El-e*Ke,Le-n*Le-e*Le,We-n*We+e*Pl,0,0,Ke-n*Ke+e*$8,Le+n*jh+e*j8,We-n*We-e*V8,0,0,Ke-n*Ke-e*El,Le-n*Le+e*Le,We+n*Pl+e*We,0,0,0,0,0,1,0]},tD=t=>[1+t,0,0,0,0,0,1,0,0,0,0,0,1-t,0,0,0,0,0,1,0],eD=(t=1)=>[_.mix(1,.393,t),.769*t,.189*t,0,0,.349*t,_.mix(1,.686,t),.168*t,0,0,.272*t,.534*t,_.mix(1,.131,t),0,0,0,0,0,1,0],nD=t=>[1+t,0,0,0,0,0,1,0,0,0,0,0,1+t,0,0,0,0,0,1,0],sD=(t=0,[e,n,s]=co)=>[e,n,s,0,t,e,n,s,0,t,e,n,s,0,t,0,0,0,1,0],rD=([t,e,n]=co)=>[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t,e,n,0,0];p.BLACK=BB;p.BLUE=YB;p.CSS=wl;p.CSS_NAMES=Ih;p.CYAN=zB;p.FF=lo;p.GRADIENTS=q8;p.GREEN=GB;p.HCYA=Xs;p.HSIA=xs;p.HSLA=Zs;p.HSVA=Qs;p.IDENTITY=X8;p.INV8BIT=ps;p.Int32=zi;p.MAGENTA=jB;p.PC=gl;p.RED=DB;p.RGBA=Ws;p.RGB_LUMINANCE=co;p.RGB_XYZ=Ah;p.SRGB_ALPHA=ao;p.WHITE=Nh;p.XYZA=Ks;p.XYZ_RGB=Th;p.YCbCrA=Js;p.YELLOW=$B;p.alpha=R8;p.asCSS=Di;p.asHCYA=f8;p.asHSIA=p8;p.asHSLA=m8;p.asHSVA=h8;p.asRGBA=d8;p.asXYZA=y8;p.asYCbCrA=g8;p.brightness=Z8;p.clamp=$n;p.clampH=fo;p.closestHue=U8;p.closestPrimaryHue=_8;p.concat=H8;p.contrast=Q8;p.convert=pe;p.cosineCoeffs=zh;p.cosineColor=Cl;p.cosineGradient=k8;p.css=I8;p.exposure=W8;p.grayscale=sD;p.hcya=w8;p.hcyaRgba=wh;p.hsia=C8;p.hsiaRgba=Ch;p.hsla=E8;p.hslaCss=Sl;p.hslaHsva=Eh;p.hslaRgba=bl;p.hsva=P8;p.hsvaCss=Ph;p.hsvaHsla=Nl;p.hsvaRgba=Oh;p.hueRgba=Fs;p.hueRotate=J8;p.int24=T8;p.int24Css=FB;p.int24Rgba=HB;p.int32=A8;p.int32Css=Al;p.int32Rgba=po;p.invertInt=G8;p.invertRGB=D8;p.kelvinRgba=o8;p.linearSrgb=Gi;p.luminance=ji;p.luminanceAlpha=rD;p.luminanceInt=Lh;p.luminanceRGB=Hs;p.mix=Y8;p.mixAlpha=z8;p.multiCosineGradient=B8;p.namedHueRgba=VB;p.parseCss=Il;p.parseHex=Tl;p.resolveAsCSS=S8;p.rgba=O8;p.rgbaCss=Mh;p.rgbaHcva=Bi;p.rgbaHcya=Rh;p.rgbaHsia=vh;p.rgbaHsla=Uh;p.rgbaHsva=_h;p.rgbaInt=qh;p.rgbaSrgba=b8;p.rgbaXyza=Bh;p.rgbaYcbcra=Dh;p.saturation=K8;p.sepia=eD;p.setAlpha=v8;p.srgbLinear=Yi;p.srgbaRgba=N8;p.subtract=x8;p.temperature=tD;p.tint=nD;p.transform=F8;p.xyza=M8;p.xyzaRgba=Gh;p.ycbcra=L8;p.ycbcraRgba=Yh});var $h=D(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});const oD="http://purl.org/dc/elements/1.1/",iD="http://purl.org/dc/terms/",cD="http://purl.org/dc/dcmitype/",aD="http://www.w3.org/2003/01/geo/wgs84_pos#",lD="http://data.ign.fr/def/geometrie",uD="http://www.geonames.org/ontology#",dD="http://www.opengis.net/ont/geosparql#",fD="http://www.w3.org/ns/locn#",pD="https://w3id.org/omg#",mD="http://www.w3.org/ns/json-ld#",hD="https://www.w3.org/2019/wot/json-schema#",yD="http://www.w3.org/2005/Atom/",gD="http://purl.org/ontology/bibo/",SD="http://creativecommons.org/ns#",bD="http://usefulinc.com/ns/doap#",ND="http://www.w3.org/ns/ma-ont#",AD="http://www.w3.org/ns/oa#",TD="http://www.w3.org/ns/ssn/",ID="http://www.w3.org/ns/csvw#",wD="http://www.w3.org/ns/dcat#",CD="http://www.w3.org/2011/http#",ED="http://www.w3.org/ns/ldp#",PD="http://www.w3.org/2002/07/owl#",OD="http://www.w3.org/ns/prov",MD="http://purl.org/linked-data/cube#",LD="http://www.w3.org/1999/02/22-rdf-syntax-ns#",RD="http://www.w3.org/ns/rdfa#",vD="http://www.w3.org/2000/01/rdf-schema#",UD="http://www.w3.org/ns/shacl#",_D="http://rdfs.org/sioc/ns#",qD="http://www.w3.org/2004/02/skos/core#",kD="http://www.w3.org/2008/05/skos-xl#",BD="http://www.w3.org/ns/sparql#",DD="http://spinrdf.org/spin#",GD="http://purl.org/vocab/vann/",YD="http://rdfs.org/ns/void#",zD="http://www.w3.org/2003/06/sw-vocab-status/ns#",jD="http://www.w3.org/1999/xhtml/vocab#",$D="http://www.w3.org/2001/XMLSchema#",VD="http://xmlns.com/foaf/0.1/",FD="http://ogp.me/ns#",HD="http://www.w3.org/2006/vcard/ns#",XD="http://www.w3.org/ns/org#",xD="http://purl.org/NET/c4dm/event.owl#",ZD="http://www.w3.org/2002/12/cal/ical#",QD="http://www.w3.org/2006/time",WD="http://www.loc.gov/mads/rdf/v1#",KD="http://schema.org/",JD="http://sweetontology.net/",tG="http://yago-knowledge.org/resource/",eG="http://dbpedia.org/ontology/",nG="http://dbpedia.org/property/",sG="http://dbpedia.org/resource/",rG="http://en.wikipedia.org/wiki/",oG="http://www.wikidata.org/entity/",iG="http://www.w3.org/XML/1998/namespace",cG="http://www.w3.org/2005/xpath-functions",aG="http://www.w3.org/1999/XSL/Format",lG="http://www.w3.org/2000/svg",uG="http://www.w3.org/1999/xhtml",dG="http://www.w3.org/1999/xlink",fG="http://www.w3.org/2000/xmlns/",pG="http://www.w3.org/2001/XMLSchema",mG="http://www.w3.org/1999/XSL/Transform";R.VOID=YD;R.XML=iG;R.XML_FN=cG;R.XML_FO=aG;R.XML_SVG=lG;R.XML_XHTML=uG;R.XML_XLINK=dG;R.XML_XMLNS=fG;R.XML_XSD=pG;R.XML_XSL=mG;R.atom=yD;R.bibo=gD;R.cc=SD;R.csvw=ID;R.dbo=eG;R.dbp=nG;R.dbr=sG;R.dc=oD;R.dcat=wD;R.dcterms=iD;R.dctypes=cD;R.doap=bD;R.event=xD;R.foaf=VD;R.geo=aD;R.geom=lD;R.geonames=uD;R.geosparql=dD;R.http=CD;R.ical=ZD;R.jsonld=mD;R.jsonsc=hD;R.ldp=ED;R.locn=fD;R.ma=ND;R.mads=WD;R.oa=AD;R.og=FD;R.omg=pD;R.org=XD;R.owl=PD;R.prov=OD;R.qb=MD;R.rdf=LD;R.rdfa=RD;R.rdfs=vD;R.schema=KD;R.shacl=UD;R.sioc=_D;R.skos=qD;R.skosxl=kD;R.sparql=BD;R.spin=DD;R.ssn=TD;R.sweet=JD;R.time=QD;R.vann=GD;R.vcard=HD;R.vs=zD;R.wiki=rG;R.wikidata=oG;R.xhv=jD;R.xsd=$D;R.yago=tG});var c1=D(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});var Vn=Zt(),hG=Ol(),Vh=$h();let Fh=2;const yG=t=>Fh=t,k=t=>t===(t|0)?t:t.toFixed(Fh),Ml=t=>k(t[0])+","+k(t[1]),$i=(t,e=" ")=>t?t.map(Ml).join(e):"",Xt=t=>{if(!t)return;const e=gG(t);let n;return(n=t.fill)&&(e.fill=Vi(n)),(n=t.stroke)&&(e.stroke=Vi(n)),e},gG=t=>{let e;return((e=t.transform)||t.translate||t.scale||t.rotate)&&(e?(t.transform=Vn.isString(e)?e:`matrix(${[...e].map(k).join(" ")})`,delete t.translate,delete t.rotate,delete t.scale):t.transform=SG(t)),t},SG=t=>{const e=[];let n;return(n=t.translate)&&(e.push(Vn.isString(n)?n:`translate(${k(n[0])} ${k(n[1])})`),delete t.translate),(n=t.rotate)&&(e.push(Vn.isString(n)?n:`rotate(${k(n*180/Math.PI)})`),delete t.rotate),(n=t.scale)&&(e.push(Vn.isString(n)?n:Vn.isArrayLike(n)?`scale(${k(n[0])} ${k(n[1])})`:`scale(${k(n)})`),delete t.scale),e.join(" ")},Vi=t=>Vn.isString(t)?t[0]==="$"?`url(#${t.substr(1)})`:t:hG.resolveAsCSS(t),Ll=(t,e)=>{const n={};for(let s in t)t.hasOwnProperty(s)&&!e.has(s)&&(n[s]=t[s]);return n},Hh=(t,e,n,...s)=>["circle",Xt(Object.assign(Object.assign({},n),{cx:k(t[0]),cy:k(t[1]),r:k(e)})),...s],bG=(...t)=>["defs",{},...t],Xh=(t,e,n,s,...r)=>["ellipse",Xt(Object.assign(Object.assign({},s),{cx:k(t[0]),cy:k(t[1]),rx:k(e),ry:k(n)})),...r],NG=/(rgb|hsl)a\(([a-z0-9.-]+),([0-9.%]+),([0-9.%]+),([0-9.]+)\)/,xh=(t,e,n)=>[t,Xt(e),...n.map(AG)],AG=([t,e])=>{e=Vi(e);let n;const s=NG.exec(e);return s&&(e=`${s[1]}(${s[2]},${s[3]},${s[4]})`,n=s[5]),["stop",{offset:t,"stop-color":e,"stop-opacity":n}]},Zh=(t,e,n,s,r)=>xh("linearGradient",Object.assign(Object.assign({},r),{id:t,x1:k(e[0]),y1:k(e[1]),x2:k(n[0]),y2:k(n[1])}),s),Qh=(t,e,n,s,r,o,i)=>xh("radialGradient",Object.assign(Object.assign({},i),{id:t,fx:k(e[0]),fy:k(e[1]),cx:k(n[0]),cy:k(n[1]),fr:k(s),r:k(r)}),o),TG=(t,...e)=>["g",Xt(Object.assign({},t)),...e],Wh=(t,e,n,...s)=>["image",Xt(Object.assign(Object.assign({},n),{"xlink:href":e,x:k(t[0]),y:k(t[1])})),...s],Fi=(t,e,n,...s)=>["line",Xt(Object.assign(Object.assign({},n),{x1:k(t[0]),y1:k(t[1]),x2:k(e[0]),y2:k(e[1])})),...s],Kh=(t,e)=>Fi([-1e6,t],[1e6,t],e),Jh=(t,e)=>Fi([t,-1e6],[t,1e6],e),IG=180/Math.PI,t1=(t,e,...n)=>{let s=[];for(let r of t){s.push(r[0]);switch(r[0].toLowerCase()){case"a":s.push([k(r[1]),k(r[2]),k(r[3]*IG),r[4]?1:0,r[5]?1:0,k(r[6][0]),k(r[6][1])].join(","));break;case"h":case"v":s.push(k(r[1]));break;case"m":case"l":s.push(Ml(r[1]));break;case"z":break;default:s.push($i(r.slice(1),","))}}return["path",Xt(Object.assign(Object.assign({},e),{d:s.join("")})),...n]},n1=(t,e,n=1,s,...r)=>{const o=["g",Xt(Ll(s,new Set(["shape","size"]))),...r],i=e1(o,e,n);for(let a of t)o.push(["use",{"xlink:href":i,x:k(a[0]),y:k(a[1])}]);return o},s1=(t,e,n=1,s,...r)=>{s=Object.assign({start:0,cstride:1,estride:2},s);const{start:o,cstride:i,estride:a}=s;let l=s&&s.num!=null?s.num:(t.length-o)/a|0;const u=["g",Xt(Ll(s,new Set(["start","cstride","estride","shape","size","num"]))),...r],f=e1(u,e,n);for(let y=o;--l>=0;y+=a)u.push(["use",{"xlink:href":f,x:k(t[y]),y:k(t[y+i])}]);return u},e1=(t,e,n)=>{let s;return!e||e[0]!=="#"?(s="_"+(Math.random()*1e6|0).toString(36),t.push(["g",{opacity:0},wG(e,s,n)]),s="#"+s):s=e,s},wG=(t,e,n)=>{const s=k(n);if(t==="circle")return["circle",{id:e,cx:0,cy:0,r:s}];const r=k(-n/2);return["rect",{id:e,x:r,y:r,width:s,height:s}]},r1=(t,e,...n)=>["polygon",Xt(Object.assign(Object.assign({},e),{points:$i(t)})),...n],o1=(t,e,...n)=>["polyline",Xt(Object.assign({fill:"none",points:$i(t)},e)),...n],CG=(t,e,n,s,...r)=>Rl(t,e,n,0,0,s,...r),Rl=(t,e,n,s,r,o,...i)=>(o=Xt(Object.assign(Object.assign({},o),{x:k(t[0]),y:k(t[1]),width:k(e),height:k(n)})),(s>0||r>0)&&(o.rx=k(s),o.ry=k(r)),["rect",o,...i]),EG=(t,...e)=>["svg",Xt(Object.assign({version:"1.1",xmlns:Vh.XML_SVG,"xmlns:xlink":Vh.XML_XLINK},t)),...e],i1=(t,e,n,...s)=>["text",Xt(Object.assign(Object.assign({},n),{x:k(t[0]),y:k(t[1])})),e,...s],PG={alpha:"opacity",dash:"stroke-dasharray",dashOffset:"stroke-dashoffset",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",miterLimit:"stroke-miterlimit",weight:"stroke-width"},OG={left:"start",right:"end",center:"middle",start:"start",end:"end"},MG={top:"text-top",bottom:"text-bottom"},Hi=t=>{if(t==null)return null;if(Vn.implementsFunction(t,"toHiccup"))return Hi(t.toHiccup());const e=t[0];if(Vn.isArray(e))return t.map(Hi);let n=LG(t[1]);switch(t[0]){case"svg":case"defs":case"a":case"g":{const s=[e,Xt(n)];for(let r=2,o=t.length;r<o;r++){const i=Hi(t[r]);i!=null&&s.push(i)}return s}case"linearGradient":return Zh(n.id,n.from,n.to,t[2],{gradientUnits:n.gradientUnits||"userSpaceOnUse",gradientTransform:n.gradientTransform});case"radialGradient":return Qh(n.id,n.from,n.to,n.r1,n.r2,t[2],{gradientUnits:n.gradientUnits||"userSpaceOnUse",gradientTransform:n.gradientTransform});case"circle":return Hh(t[2],t[3],n,...t.slice(4));case"ellipse":return Xh(t[2],t[3][0],t[3][1],n,...t.slice(4));case"rect":{const s=t[5]||0;return Rl(t[2],t[3],t[4],s,s,n,...t.slice(6))}case"line":return Fi(t[2],t[3],n,...t.slice(4));case"hline":return Kh(t[2],n);case"vline":return Jh(t[2],n);case"polyline":return o1(t[2],n,...t.slice(3));case"polygon":return r1(t[2],n,...t.slice(3));case"path":return t1(t[2],n,...t.slice(3));case"text":return i1(t[2],t[3],n,...t.slice(4));case"img":return Wh(t[3],t[2].src,n,...t.slice(4));case"points":return n1(t[2],n.shape,n.size,n,...t.slice(3));case"packedPoints":return s1(t[2],n.shape,n.size,n,...t.slice(3));default:return t}},LG=t=>{const e={};if(!t)return e;for(let n in t){const s=t[n],r=PG[n];r?e[r]=s:RG(e,n,s)}return e},RG=(t,e,n)=>{switch(e){case"font":{const s=n.indexOf(" ");t["font-size"]=n.substr(0,s),t["font-family"]=n.substr(s+1);break}case"align":t["text-anchor"]=OG[n];break;case"baseline":t["dominant-baseline"]=MG[n]||n;break;case"filter":break;default:t[e]=n}};J.circle=Hh;J.convertTree=Hi;J.defs=bG;J.ellipse=Xh;J.fattribs=Xt;J.fcolor=Vi;J.ff=k;J.fpoint=Ml;J.fpoints=$i;J.group=TG;J.hline=Kh;J.image=Wh;J.line=Fi;J.linearGradient=Zh;J.packedPoints=s1;J.path=t1;J.points=n1;J.polygon=r1;J.polyline=o1;J.radialGradient=Qh;J.rect=CG;J.roundedRect=Rl;J.setPrecision=yG;J.svg=EG;J.text=i1;J.vline=Jh;J.withoutKeys=Ll});var l1=D(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});var a1=Fr(),vG=Ai(),UG=Wt(),Ul=ue();const _G=(t,e,n,s=UG.EPS)=>{n=n||vG.centroid(e);for(let r=e.length,o=r-1,i=0;i<r;o=i,i++){const a=[],l=e[o],u=e[i],f=Ul.corner2(l,u,n,s);for(let y=t.length,b=y-1,T=0;T<y;b=T,T++){const I=t[b],O=t[T],q=Ul.corner2(l,u,O,s);Ul.corner2(l,u,I,s)===f?a.push(q!==f?a1.intersectLineLine(l,u,I,O).isec:O):q===f&&a.push(a1.intersectLineLine(l,u,I,O).isec,O)}if(a.length<2)return[];t=a}return t};vl.sutherlandHodgeman=_G});var u1=D(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});var qG=Wt();const kG=Math.atan2,GG=(t,e=qG.EPS)=>{const n=t.length;if(n<=3)return t.slice();let s=1,r,o,i,a,l,u;const f=DG(t);[l,u]=t[f];const y=[];for(r=0;r<n;r++)o=t[r],y[r]={p:o,t:kG(o[1]-u,o[0]-l)};y.sort((T,I)=>T.t!==I.t?T.t-I.t:T.p[0]-I.p[0]);const b=[y[0].p];for(r=1;r<n;r++){for(o=b[s-2],i=b[s-1],a=y[r].p,l=a[0],u=a[1];s>1&&BG(o[0],o[1],i[0],i[1],l,u,e)||s===1&&i[0]===l&&i[1]===u;)s--,i=o,o=b[s-2];b[s++]=a}return b.length=s,b},BG=(t,e,n,s,r,o,i)=>(s-e)*(r-t)>=(n-t)*(o-e)-i,DG=t=>{let e=t.length-1,n=e,[s,r]=t[e],o,i;for(;--e>=0;)o=t[e],i=o[1],(i<r||i===r&&o[0]<s)&&(s=o[0],r=i,n=e);return n};_l.grahamScan2=GG});var g1=D(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});var gs=Os(),In=ue();const YG=([t,e],[n,s])=>([r,o])=>[In.addW2([],r,o,t,e),In.addW2([],r,o,n,s)],ho=([t,e,n],[s,r,o])=>([i,a,l])=>[In.addW3([],i,a,l,t,e,n),In.addW3([],i,a,l,s,r,o)],zG=([t,e,n,s,r],[o,i,a,l,u])=>([f,y,b,T,I])=>[In.addW5([],f,y,b,T,I,t,e,n,s,r),In.addW5([],f,y,b,T,I,o,i,a,l,u)],d1=([t,e])=>[t,In.addmN([],t,e,.5)],f1=([t,e])=>[t,In.mixN([],t,e,1/3),In.mixN([],t,e,2/3)],p1=t=>gs.wrapSides(t,0,1),m1=t=>gs.wrapSides(t,1,1),h1=t=>(e,n,s)=>n<s-2?t(e):[...t(e),e[1]],jG={fn:h1(d1),size:2},$G={fn:d1,pre:p1,size:2},VG={fn:h1(f1),size:2},FG={fn:f1,pre:p1,size:2},HG=ho([1/2,1/2,0],[0,3/4,1/4]),y1=ho([1/4,3/4,0],[0,3/4,1/4]),XG=ho([1/4,3/4,0],[0,1/2,1/2]),xG={fn:(t,e,n)=>e==0?[t[0],...HG(t)]:e===n-3?[...XG(t),t[2]]:y1(t),size:3},ZG={fn:y1,pre:m1,size:3},QG=ho([1/8,3/4,1/8],[0,1/2,1/2]),WG={fn:QG,pre:m1,size:3},KG=(t,{fn:e,pre:n,size:s},r=1)=>{for(;--r>=0;){const o=t.length;t=gs.transduce(gs.comp(gs.partition(s,1),gs.mapcatIndexed((i,a)=>e(a,i,o))),gs.push(),n?n(t):t)}return t};Ie.SUBDIV_CHAIKIN_CLOSED=ZG;Ie.SUBDIV_CHAIKIN_OPEN=xG;Ie.SUBDIV_CUBIC_CLOSED=WG;Ie.SUBDIV_MID_CLOSED=$G;Ie.SUBDIV_MID_OPEN=jG;Ie.SUBDIV_THIRDS_CLOSED=FG;Ie.SUBDIV_THIRDS_OPEN=VG;Ie.kernel2=YG;Ie.kernel3=ho;Ie.kernel5=zG;Ie.subdivide=KG});var S1=D(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});var JG=Zt(),G=Os(),tY=Fr(),yo=Ai(),tr=ue();function eY(...t){return G.transduce(G.scan(G.reducer(()=>[t[0]],(e,n)=>G.transduce(G.mapcat(n),G.push(),e))),G.last(),JG.isFunction(t[1])?G.repeat(t[1],t[2]||1):t[1])}const nY=(t,e,n,s,r,o)=>{const i=t[o[e]],a=t[o[n]],l=t[o[s]];if(tr.signedArea2(i,a,l)>0){for(let u=0;u<r;u++)if(u!==e&&u!==n&&u!==s&&tY.pointInTriangle2(t[o[u]],i,a,l))return;return[i,a,l]}},sY=t=>{const e=[];let n=t.length;const s=[...yo.polyArea2(t)>0?G.range(n):G.range(n-1,-1,-1)];let r=2*n-1,o=n-1,i,a,l;for(;r>0&&n>2;)i=n<=o?0:o,o=i+1,o=n<=o?0:o,a=o+1,a=n<=a?0:a,l=nY(t,i,o,a,n,s),l!==void 0?(e.push(l),s.splice(o,1),n--,r=2*n):r--;return e},rY=t=>{const e=yo.centroid(t);return G.transduce(G.comp(G.partition(2,1),G.mapcat(([n,s])=>{const r=tr.mixN([],n,s,.5);return[[n,r,e],[r,s,e]]})),G.push(),G.wrapSides(t,0,1))},oY=(t=.5,e=!1)=>n=>{const s=yo.centroid(n),r=n.map(o=>tr.mixN([],o,s,t));return G.transduce(G.comp(G.partition(2,1),G.map(([[o,i],[a,l]])=>[o,i,l,a])),G.push(),e?[r]:[],G.wrapSides([...G.zip(n,r)],0,1))},iY=t=>{const e=yo.centroid(t);return G.transduce(G.comp(G.partition(3,1),G.map(([n,s,r])=>[tr.mixN([],n,s,.5),s,tr.mixN([],s,r,.5),e])),G.push(),G.wrapSides(t))},cY=t=>{const e=G.transduce(G.comp(G.partition(2,1),G.map(n=>tr.mixN([],n[0],n[1],.5))),G.push(),G.wrapSides(t,0,1));return G.transduce(G.comp(G.partition(2,1),G.map(n=>[n[0][0],n[1][1],n[1][0]])),G.push(),[e],G.wrapSides([...G.zip(e,t)],1,0))},aY=t=>{const e=yo.centroid(t);return G.transduce(G.comp(G.partition(2,1),G.map(([n,s])=>[n,s,e])),G.push(),G.wrapSides(t,0,1))};wn.earCut2=sY;wn.edgeSplit=rY;wn.quadFan=iY;wn.rimTris=cY;wn.tesselInset=oY;wn.tessellate=eY;wn.triFan=aY});var x1=D(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var Je=Zt(),d=Jn(),S=ue(),Xi=qo(),er=Va(),ql=De(),$=Wt(),xi=Ec(),Re=Ai(),kt=vp(),kl=zp(),Lt=Os(),F=Wa(),Jt=Ni(),lY=el(),fn=Si(),Et=ih(),uY=bh(),Fn=c1(),Rt=Fr(),b1=l1(),dY=u1(),fY=mr(),N1=g1(),pY=S1();const U=t=>Object.assign({},t.attribs);class Ss{constructor(t=[0,0,0],e=1,n){this.pos=t,this.attribs=n,this.size=Je.isNumber(e)?[e,e,e]:e}get type(){return d.Type.AABB}copy(){return new Ss(S.set([],this.pos),S.set([],this.size),U(this))}max(){return S.add3([],this.pos,this.size)}}class tn{constructor(t=[],e){this.points=t,this.attribs=e}*[Symbol.iterator](){yield*this.points}}class Hn{constructor(t,e,n,s,r,o=!1,i=!1,a){this.pos=t,this.r=e,this.axis=n,this.start=s,this.end=r,this.xl=o,this.cw=i,this.attribs=a}get type(){return d.Type.ARC}copy(){return new Hn(S.set([],this.pos),S.set([],this.r),this.axis,this.start,this.end,this.xl,this.cw,U(this))}equiv(t){return t instanceof Hn&&Xi.equiv(this.pos,t.pos)&&Xi.equiv(this.r,t.r)&&this.start===t.start&&this.end===t.end&&this.axis===t.axis&&this.xl===t.xl&&this.cw&&t.cw}pointAt(t,e=[]){return er.pointAt(this.pos,this.r,this.axis,this.start,this.end,t,e)}pointAtTheta(t,e=[]){return er.pointAtTheta(this.pos,this.r,this.axis,t,e)}toHiccup(){return["path",this.attribs,[["M",this.pointAt(0)],...this.toHiccupPathSegments()]]}toHiccupPathSegments(){return[["A",this.r[0],this.r[1],this.axis,this.xl,this.cw,this.pointAt(1)]]}}class Xn{constructor(t=[0,0],e=1,n){this.pos=t,this.r=e,this.attribs=n}get type(){return d.Type.CIRCLE}copy(){return new Xn(S.set([],this.pos),this.r,U(this))}toHiccup(){return["circle",this.attribs,this.pos,this.r]}}const en=(t,e)=>new t(S.copyVectors(e.points),U(e));class ve extends tn{get type(){return d.Type.CUBIC}copy(){return en(ve,this)}toHiccup(){return["path",this.attribs,[["M",this.points[0]],...this.toHiccupPathSegments()]]}toHiccupPathSegments(){const t=this.points;return[["C",t[1],t[2],t[3]]]}}class go{constructor(t=[0,0],e=[1,1],n){this.pos=t,this.attribs=n,this.r=Je.isNumber(e)?[e,e]:e}get type(){return d.Type.ELLIPSE}copy(){return new go(S.set([],this.pos),S.set([],this.r),U(this))}toHiccup(){return["ellipse",this.attribs,this.pos,this.r]}}class xn{constructor(t,e=[]){this.attribs=t,this.children=e}get type(){return d.Type.GROUP}*[Symbol.iterator](){yield*this.children}copy(){return new xn(U(this),this.children.map(t=>t.copy()))}equiv(t){return t instanceof xn&&Xi.equiv(this.children,t.children)}toHiccup(){return["g",this.attribs,...this.children.map(t=>t.toHiccup())]}}class we extends tn{get type(){return d.Type.LINE}copy(){return en(we,this)}toHiccup(){return["line",this.attribs,this.points[0],this.points[1]]}toHiccupPathSegments(){const[t,e]=this.points;return[t[0]===e[0]?["V",e[1]]:t[1]===e[1]?["H",e[0]]:["L",e]]}}class Ue{constructor(t=[],e){this.segments=t,this.attribs=e,this.closed=!1}get type(){return d.Type.PATH}*[Symbol.iterator](){yield*this.segments}copy(){const t=new Ue(this.segments.map(e=>{const n={type:e.type};return e.point&&(n.point=S.copy(e.point)),e.geo&&(n.geo=e.geo.copy()),n}),U(this));return t.closed=this.closed,t}equiv(t){return t instanceof Ue&&Xi.equiv(this.segments,t.segments)}add(t){this.closed&&ql.illegalState("path already closed"),this.segments.push(t)}toHiccup(){let t=[];const e=this.segments,n=e.length;if(n>1){for(let s=0;s<n;s++){const r=e[s];r.geo?t=t.concat(r.geo.toHiccupPathSegments()):r.point&&t.push(["M",r.point])}this.closed&&t.push(["Z"])}return["path",this.attribs||{},t]}}class Zi{constructor(t=[0,1,0],e=0,n){this.normal=t,this.w=e,this.attribs=n}get type(){return d.Type.PLANE}copy(){return new Zi(S.set([],this.normal),this.w,U(this))}toHiccup(){return["plane",this.attribs,this.normal,this.w]}}class nr extends tn{get type(){return d.Type.POINTS}copy(){return en(nr,this)}toHiccup(){return["points",this.attribs,this.points]}}class sr extends tn{get type(){return d.Type.POINTS3}copy(){return en(sr,this)}toHiccup(){return["points3",this.attribs,this.points]}}class xt extends tn{get type(){return d.Type.POLYGON}copy(){return en(xt,this)}toHiccup(){return["polygon",this.attribs,this.points]}}class zt extends tn{get type(){return d.Type.POLYLINE}copy(){return en(zt,this)}toHiccup(){return["polyline",Object.assign(Object.assign({},this.attribs),{fill:"none"}),this.points]}toHiccupPathSegments(){const t=[];for(let e=this.points,n=e.length,s=1;s<n;s++)t.push(["L",e[s]]);return t}}class bs extends tn{get type(){return d.Type.QUAD}copy(){return en(bs,this)}toHiccup(){return["polygon",this.attribs,this.points]}}class Qi extends tn{get type(){return d.Type.QUAD3}copy(){return en(Qi,this)}toHiccup(){return["polygon",this.attribs,this.points]}}class Cn extends tn{get type(){return d.Type.QUADRATIC}copy(){return en(Cn,this)}toHiccup(){return["path",this.attribs,[["M",this.points[0]],...this.toHiccupPathSegments()]]}toHiccupPathSegments(){const t=this.points;return[["Q",t[1],t[2]]]}}class Wi{constructor(t,e,n){this.pos=t,this.dir=e,this.attribs=n}get type(){return d.Type.RAY}copy(){return new Wi(S.set([],this.pos),S.set([],this.dir),U(this))}toHiccup(){return["line",this.attribs,this.pos,S.maddN2([],this.dir,1e6,this.pos)]}}class te{constructor(t=[0,0],e=1,n){this.pos=t,this.attribs=n,this.size=Je.isNumber(e)?[e,e]:e}get type(){return d.Type.RECT}copy(){return new te(S.set([],this.pos),S.set([],this.size),U(this))}max(){return S.add2([],this.pos,this.size)}toHiccup(){return["rect",this.attribs,this.pos,this.size[0],this.size[1]]}}class Ki{constructor(t=[0,0,0],e=1,n){this.pos=t,this.r=e,this.attribs=n}get type(){return d.Type.SPHERE}copy(){return new Ki(S.set3([],this.pos),this.r,U(this))}toHiccup(){return["sphere",this.attribs,this.pos,this.r]}}class So{constructor(t,e,n){this.pos=t,this.body=e,this.attribs=n}get type(){return d.Type.TEXT}copy(){return new So(S.set([],this.pos),this.body,U(this))}toHiccup(){return["text",this.attribs,this.pos,this.body]}}class Ns extends tn{get type(){return d.Type.TRIANGLE}copy(){return en(Ns,this)}toHiccup(){return["polygon",this.attribs,this.points]}}const Ji=t=>Je.isPlainObject(xi.peek(t))?t.pop():void 0,Bl=t=>{const e=Ji(t);return t.length?t.length===2?[t[0],t[1],e]:[void 0,t[0],e]:[void 0,void 0,e]},mY=t=>{const e=Ji(t);return t.length?t.length===2?[t[0],t[1],e]:Je.isNumber(t[0])?[void 0,t[0],e]:[t[0],void 0,e]:[void 0,void 0,e]};function A1(...t){return new Ss(...Bl(t))}const T1=(t,e,n)=>new Ss(t,S.sub3([],e,t),n),hY=(t,e)=>{const n=S.max3([],t.pos,e.pos),s=S.min3(null,S.add3([],t.pos,t.size),S.add3([],e.pos,e.size)),r=S.max3(null,S.sub3(null,s,n),S.ZERO3);return r[0]>0&&r[1]>0&&r[2]>0?new Ss(n,r):void 0};function yY(...t){let e,n;if(t.length===1){const s=t[0];e=s.pos,n=s.r}else[e,n]=t;return n*=$.SQRT2_2,A1(S.subN3([],e,n),n*2)}const I1=(t,e,n,s,r,o=!1,i=!1)=>new Hn(t,Je.isNumber(e)?[e,e]:e,n,s,r,o,i),w1=(t,e,n,s=0,r=!1,o=!1,i)=>{const a=er.fromEndPoints(t,e,n,s,r,o);return a?new Hn(a.center,a.r,a.axis,a.start,a.end,a.xl,a.cw,i):void 0};function gY(...t){return new Xn(...mY(t))}const SY=(t,e,n)=>new Xn(S.mixN2([],t,e,.5),S.dist(t,e)/2,n),bY=(t,e,n,s)=>{const r=Re.circumCenter2(t,e,n);return r?new Xn(r,S.dist(t,r),s):void 0},rr=(t,e)=>{const n=Ji(e);return new t(e.length===1?e[0]:e,n)};function NY(...t){return rr(ve,t)}const C1=t=>kt.cubicFromArc(t.pos,t.r,t.axis,t.start,t.end).map(e=>new ve(e,U(t))),E1=(t,e,n)=>new ve(kt.cubicFromLine(t,e),n),P1=(t,e,n,s)=>new ve(kt.cubicFromQuadratic(t,e,n),s);function AY(...t){return new go(...Bl(t))}const TY=(t={},e)=>new xn(t,e);function IY(...t){return rr(we,t)}const wY=(t,e)=>{const n=e instanceof te?kl.liangBarsky2(t.points[0],t.points[1],e.pos,e.max()):kl.liangBarsky2(t.points[0],t.points[1],e[0],e[1]);if(n)return new we([n[0],n[1]],Object.assign({},t.attribs))},x=t=>t.type,CY=(t,e)=>t.type+"-"+e.type,ut=F.defmulti(x);ut.addAll({[d.Type.AABB]:({pos:t,size:e})=>{const[n,s,r]=t,[o,i,a]=S.add3([],t,e);return[[n,s,r],[n,s,a],[o,s,a],[o,s,r],[n,i,r],[n,i,a],[o,i,a],[o,i,r]]},[d.Type.ARC]:(t,e)=>er.sample(t.pos,t.r,t.axis,t.start,t.end,e),[d.Type.CIRCLE]:(t,e=d.DEFAULT_SAMPLES)=>{const n=t.pos,s=t.r;let[r,o]=O1(e,s);const i=$.TAU/r;o&&r++;const a=new Array(r);for(let l=0;l<r;l++)a[l]=S.cartesian2(null,[s,l*i],n);return a},[d.Type.CUBIC]:(t,e)=>kt.sampleCubic(t.points,e),[d.Type.ELLIPSE]:(t,e=d.DEFAULT_SAMPLES)=>{const n=[],s=t.pos,r=t.r;let[o,i]=O1(e,Math.max(t.r[0],t.r[1]));const a=$.TAU/o;i&&o++;for(let l=0;l<o;l++)n[l]=S.madd2([],$.cossin(l*a),r,s);return n},[d.Type.GROUP]:({children:t})=>t.reduce((e,n)=>e.concat(ut(n)),[]),[d.Type.PATH]:(t,e)=>{const n=Je.isNumber(e)?{num:e}:e;let s=[];for(let r=t.segments,o=r.length-1,i=0;i<=o;i++){const a=r[i];a.geo&&(s=s.concat(ut(a.geo,Object.assign(Object.assign({},n),{last:i===o&&!t.closed}))))}return s},[d.Type.POINTS]:t=>t.points,[d.Type.POLYGON]:(t,e)=>Jt.resample(t.points,e,!0),[d.Type.POLYLINE]:(t,e)=>Jt.resample(t.points,e),[d.Type.QUADRATIC]:(t,e)=>kt.sampleQuadratic(t.points,e),[d.Type.RECT]:(t,e)=>{const n=t.pos,s=S.add2([],n,t.size),r=[S.set2([],n),[s[0],n[1]],s,[n[0],s[1]]];return e!=null?ut(new xt(r),e):r}});ut.isa(d.Type.LINE,d.Type.POLYLINE);ut.isa(d.Type.POINTS3,d.Type.POINTS);ut.isa(d.Type.QUAD,d.Type.POLYGON);ut.isa(d.Type.TRIANGLE,d.Type.POLYGON);const bo=t=>Je.isArray(t)?t:ut(t),O1=(t,e)=>Je.isNumber(t)?[t,!1]:[t.theta?Math.floor($.TAU/t.theta):t.dist?Math.floor($.TAU/(t.dist/e)):t.num||d.DEFAULT_SAMPLES,t.last===!0],ee=F.defmulti(x);ee.addAll({[d.Type.POINTS]:(t,e)=>new xt(ut(t,e),U(t))});ee.isa(d.Type.CIRCLE,d.Type.POINTS);ee.isa(d.Type.ELLIPSE,d.Type.POINTS);ee.isa(d.Type.LINE,d.Type.POINTS);ee.isa(d.Type.PATH,d.Type.POINTS);ee.isa(d.Type.POLYGON,d.Type.POINTS);ee.isa(d.Type.POLYLINE,d.Type.POINTS);ee.isa(d.Type.QUAD,d.Type.POINTS);ee.isa(d.Type.RECT,d.Type.POINTS);ee.isa(d.Type.TRIANGLE,d.Type.POINTS);const En=F.defmulti(x);En.addAll({[d.Type.ARC]:C1,[d.Type.CIRCLE]:t=>En(I1(t.pos,t.r,0,0,$.TAU,!0,!0)),[d.Type.CUBIC]:t=>[t],[d.Type.GROUP]:t=>[...Lt.mapcat(En,t.children)],[d.Type.LINE]:({attribs:t,points:e})=>[E1(e[0],e[1],Object.assign({},t))],[d.Type.PATH]:t=>[...Lt.mapcat(e=>e.geo?En(e.geo):null,t.segments)],[d.Type.POLYGON]:(t,e={})=>M1(t,e,kt.closedCubicFromBreakPoints,kt.closedCubicFromControlPoints),[d.Type.POLYLINE]:(t,e={})=>M1(t,e,kt.openCubicFromBreakPoints,kt.openCubicFromControlPoints),[d.Type.QUADRATIC]:({attribs:t,points:e})=>[P1(e[0],e[1],e[2],Object.assign({},t))],[d.Type.RECT]:(t,e)=>En(ee(t),e)});En.isa(d.Type.ELLIPSE,d.Type.CIRCLE);const M1=(t,e,n,s)=>(e=Object.assign({breakPoints:!1,scale:1/3,uniform:!1},e),(e.breakPoints?n(t.points,e.scale,e.uniform):s(t.points,e.scale,e.uniform)).map(r=>new ve(r,U(t))));class tc{constructor(t,e={}){this.attribs=t,this.opts=e,this.paths=[],this.attribs=t,this.newPath()}*[Symbol.iterator](){yield*this.paths}current(){return this.curr}newPath(){this.curr=new Ue([],this.attribs),this.paths.push(this.curr),this.currP=S.zeroes(2),this.bezierP=S.zeroes(2),this.startP=S.zeroes(2)}moveTo(t,e=!1){return this.opts.autoSplit!==!1&&this.curr.segments.length>0&&(this.curr=new Ue([],this.attribs),this.paths.push(this.curr)),t=this.updateCurrent(t,e),S.set2(this.startP,t),S.set2(this.bezierP,t),this.curr.add({point:t,type:d.SegmentType.MOVE}),this}lineTo(t,e=!1){return this.curr.add({geo:new we([S.copy(this.currP),this.updateCurrent(t,e)]),type:d.SegmentType.LINE}),S.set2(this.bezierP,this.currP),this}hlineTo(t,e=!1){return this.addHVLine(t,0,e),this}vlineTo(t,e=!1){return this.addHVLine(t,1,e),this}cubicTo(t,e,n,s=!1){return this.addCubic(this.absPoint(t,s),e,n,s),this}quadraticTo(t,e,n=!1){return this.addQuadratic(this.absPoint(t,n),e,n),this}cubicChainTo(t,e,n=!1){const s=xi.peek(this.curr.segments).type,r=S.copy(this.currP);return s===d.SegmentType.CUBIC&&S.add2(null,S.sub2([],r,this.bezierP),r),this.addCubic(r,t,e,n),this}quadraticChainTo(t,e=!1){const n=xi.peek(this.curr.segments).type,s=S.copy(this.currP);return n===d.SegmentType.QUADRATIC&&S.sub2(null,S.mulN2(null,s,2),this.bezierP),this.addQuadratic(s,t,e),this}arcTo(t,e,n,s,r,o=!1){if($.eqDelta(e[0],0)||$.eqDelta(e[1],0))return this.lineTo(t,o);const i=S.copy(this.currP);return this.curr.add({geo:w1(i,this.updateCurrent(t,o),e,n,s,r),type:d.SegmentType.ARC}),S.set2(this.bezierP,this.currP),this}closePath(){return this.curr.add({geo:new we([S.copy(this.currP),S.copy(this.startP)]),type:d.SegmentType.LINE}),this.curr.closed=!0,this}updateCurrent(t,e){return t=S.copy(e?S.add2(null,this.currP,t):S.set2(this.currP,t)),t}absPoint(t,e){return e?S.add2(null,t,this.currP):t}addHVLine(t,e,n){const s=S.copy(this.currP);this.currP[e]=n?this.currP[e]+t:t,S.set2(this.bezierP,this.currP),this.curr.add({geo:new we([s,S.copy(this.currP)]),type:d.SegmentType.LINE})}addCubic(t,e,n,s){e=this.absPoint(e,s),S.set2(this.bezierP,e),this.curr.add({geo:new ve([S.copy(this.currP),t,e,this.updateCurrent(n,s)]),type:d.SegmentType.CUBIC})}addQuadratic(t,e,n){S.set2(this.bezierP,t),this.curr.add({geo:new Cn([S.copy(this.currP),t,this.updateCurrent(e,n)]),type:d.SegmentType.QUADRATIC})}}const EY=(t,e)=>new tc(t,e),PY=(t,e)=>new Ue(t,e),L1=(t,e)=>{const n=new Ue([],e||t[0].attribs);n.segments.push({type:d.SegmentType.MOVE,point:t[0].points[0]});for(let s of t)n.segments.push({type:d.SegmentType.CUBIC,geo:s});return n},OY=t=>new Ue([...Lt.mapcat(e=>e.geo?Lt.map(n=>({type:d.SegmentType.CUBIC,geo:n}),En(e.geo)):[Object.assign({},e)],t.segments)],t.attribs),MY=(t,e,n,s)=>{n=Je.isNumber(n)?[n,n]:n;const[r,o]=S.maddN2([],n,-2,e);return new tc(s).moveTo([t[0]+n[0],t[1]]).hlineTo(r,!0).arcTo(n,n,0,!1,!0,!0).vlineTo(o,!0).arcTo([-n[0],n[1]],n,0,!1,!0,!0).hlineTo(-r,!0).arcTo([-n[0],-n[1]],n,0,!1,!0,!0).vlineTo(-o,!0).arcTo([n[0],-n[1]],n,0,!1,!0,!0).current()},LY=/[achlmqstvz]/i,RY=t=>{const e=new tc;try{let n="";for(let s=t.length,r=0;r<s;){r=ec(t,r);const o=t.charAt(r);LY.test(o)&&(n=o,r++);let i,a,l,u,f,y;switch(n.toLowerCase()){case"m":[i,r]=_e(t,r),e.moveTo(i,n==="m");break;case"l":[i,r]=_e(t,r),e.lineTo(i,n==="l");break;case"h":[i,r]=No(t,r),e.hlineTo(i,n==="h");break;case"v":[i,r]=No(t,r),e.vlineTo(i,n==="v");break;case"q":[a,r]=_e(t,r),[i,r]=_e(t,r),e.quadraticTo(a,i,n==="q");break;case"c":[a,r]=_e(t,r),[l,r]=_e(t,r),[i,r]=_e(t,r),e.cubicTo(a,l,i,n==="c");break;case"s":[a,r]=_e(t,r),[i,r]=_e(t,r),e.cubicChainTo(a,i,n==="s");break;case"t":[i,r]=_e(t,r),e.quadraticChainTo(i,n==="t");break;case"a":{[a,r]=_e(t,r),[u,r]=No(t,r),[f,r]=R1(t,r),[y,r]=R1(t,r),[l,r]=_e(t,r),e.arcTo(l,a,$.rad(u),f,y,n==="a");break}case"z":e.closePath();break;default:throw new Error(`unsupported segment type: ${o} @ pos ${r}`)}}return e.paths}catch(n){throw n instanceof Error?n:new Error(`illegal char '${t.charAt(n)}' @ ${n}`)}},ec=(t,e)=>{const n=t.length;for(;e<n&&lY.WS[t.charAt(e)];)e++;return e},_e=(t,e)=>{let n,s;return[n,e]=No(t,e),e=ec(t,e),[s,e]=No(t,e),[[n,s],e]},R1=(t,e)=>{e=ec(t,e);const n=t.charAt(e);return[n==="0"?!1:n==="1"?!0:ql.illegalState(`expected '0' or '1' @ pos: ${e}`),e+1]},No=(t,e)=>{e=ec(t,e);let n=!0,s=!0,r=!1,o=!1,i=e;for(let a=t.length;i<a;i++){const l=t.charAt(i);if("0"<=l&&l<="9"){r=!0,o=!0,n=!1;continue}if(l==="-"||l==="+"){if(!n)break;n=!1;continue}if(l==="."){if(!s)break;s=!1;continue}if(l==="e"){if(!r)throw i;r=!1,s=!1,n=!0;continue}if(l===","){if(!o)throw i;i++}break}return i===e&&ql.illegalState(`expected coordinate @ pos: ${i}`),[parseFloat(t.substring(e,i)),i]},vY=(t,e,n)=>new Zi(S.normalize(null,t),e,n),v1=(t,e,n)=>(t=S.normalize(null,t),new Zi(t,S.dot3(t,e),n)),UY=(t,e,n,s)=>v1(S.orthoNormal3([],t,e,n),t,s),_Y=(t,e)=>new nr(t,e),qY=(t,e)=>new sr(t,e),kY=(t,e)=>new xt(t,e),BY=(t,e,n,s)=>new xt(Lt.transduce(Lt.map(([r,o])=>S.cartesian2(null,[t*o,r*$.TAU])),Lt.push(),Lt.zip(Lt.normRange(e*n.length,!1),Lt.cycle(n))),s),DY=(t,e)=>new zt(t,e);function GY(...t){return rr(bs,t)}function YY(...t){const e=Ji(t);return new Qi(t.length===1?t[0]:t,e)}const zY=(t,e,n,s)=>{e=fn.closestPointPlane(e,t.normal,t.w);const[r,o]=Je.isNumber(n)?[n,n]:n,i=Et.alignmentQuat(S.Z3,t.normal);return new Qi([[-r,-o,0],[r,-o,0],[r,o,0],[-r,o,0]].map(a=>S.add3(null,Et.mulVQ(null,i,a),e)),s)};function jY(...t){return rr(Cn,t)}const $Y=(t,e,n)=>new Cn(kt.quadraticFromLine(t,e),n),VY=(t,e,n,s=!0)=>new Wi(t,s?S.normalize(null,e):e,n);function Dl(...t){return new te(...Bl(t))}const or=(t,e,n)=>new te(t,S.sub2([],e,t),n),U1=(t,e,n)=>new te(S.maddN2([],e,-.5,t),e,n),FY=(t,e)=>{const n=S.max2([],t.pos,e.pos),s=S.min2(null,S.add2([],t.pos,t.size),S.add2([],e.pos,e.size)),r=S.max2(null,S.sub2(null,s,n),S.ZERO2);return r[0]>0&&r[1]>0?new te(n,r):void 0};function HY(...t){let e,n;if(t.length===1){const s=t[0];e=s.pos,n=s.r}else[e,n]=t;return n*=$.SQRT2_2,Dl(S.subN2([],e,n),n*2)}function XY(...t){let e,n;if(t.length===1){const s=t[0].points;e=Re.centroid(s),n=S.dist(s[0],s[1])}else[e,n]=t;return n*=3-$.SQRT3,Dl(S.subN2([],e,n/2),n)}const xY=(t,e,n)=>new So(t,e,n);function ZY(...t){return rr(Ns,t)}const QY=(t,e,n)=>new Ns(Re.equilateralTriangle2(t,e),n),Ao=F.defmulti(x);Ao.addAll({[d.Type.CIRCLE]:t=>$.TAU*t.r,[d.Type.ELLIPSE]:({r:[t,e]})=>$.PI*(3*(t+e)-Math.sqrt((3*t+e)*(3*e+t))),[d.Type.GROUP]:({children:t})=>t.reduce((e,n)=>e+Ao(n),0),[d.Type.LINE]:({points:t})=>S.dist(t[0],t[1]),[d.Type.POLYGON]:({points:t})=>Re.perimeter(t,t.length,!0),[d.Type.POLYLINE]:({points:t})=>Re.perimeter(t,t.length),[d.Type.RECT]:({size:t})=>2*(t[0]+t[1]),[d.Type.TRIANGLE]:({points:t})=>S.dist(t[0],t[1])+S.dist(t[1],t[2])+S.dist(t[2],t[0])});Ao.isa(d.Type.QUAD,d.Type.POLYGON);Ao.isa(d.Type.TRIANGLE,d.Type.POLYGON);const To=F.defmulti(x);To.add(F.DEFAULT,()=>0);To.addAll({[d.Type.AABB]:({size:[t,e,n]})=>2*(t*e+t*n+e*n),[d.Type.ARC]:t=>.5*Math.abs(t.start-t.end)*t.r[0]*t.r[1],[d.Type.CIRCLE]:t=>$.PI*t.r**2,[d.Type.ELLIPSE]:t=>$.PI*t.r[0]*t.r[1],[d.Type.GROUP]:({children:t})=>t.reduce((e,n)=>e+To(n,!1),0),[d.Type.PLANE]:()=>Infinity,[d.Type.POLYGON]:(t,e)=>{const n=Re.polyArea2(t.points);return e?n:Math.abs(n)},[d.Type.RECT]:t=>t.size[0]*t.size[1],[d.Type.SPHERE]:t=>4*$.PI*t.r**2,[d.Type.TRIANGLE]:(t,e)=>{const n=.5*S.signedArea2(...t.points);return e?n:Math.abs(n)}});To.isa(d.Type.QUAD,d.Type.POLYGON);const _1=(t,e)=>L1(En(t),e||U(t)),qe=F.defmulti(x);qe.addAll({[d.Type.CUBIC]:(t,e)=>new zt(ut(t,e)),[d.Type.POINTS]:(t,e)=>new zt(ut(t,e),U(t)),[d.Type.PATH]:(t,e)=>{const n=ut(t,e);return t.closed&&n.push(S.set([],n[0])),new zt(n,U(t))},[d.Type.POLYGON]:(t,e)=>{const n=ut(t,e);return n.push(S.set([],n[0])),new zt(n,U(t))}});qe.isa(d.Type.ARC,d.Type.CUBIC);qe.isa(d.Type.CIRCLE,d.Type.POLYGON);qe.isa(d.Type.ELLIPSE,d.Type.POLYGON);qe.isa(d.Type.LINE,d.Type.POINTS);qe.isa(d.Type.POLYLINE,d.Type.POINTS);qe.isa(d.Type.QUAD,d.Type.POLYGON);qe.isa(d.Type.QUADRATIC,d.Type.CUBIC);qe.isa(d.Type.RECT,d.Type.POLYGON);qe.isa(d.Type.TRIANGLE,d.Type.POLYGON);const nc=(t,e,n,s)=>{const r=S.add([],t,e),o=S.add([],n,s),i=S.min([],t,n);return[i,S.sub(null,S.max(null,r,o),i)]},Io=(t,e)=>{let n=t.length-1;if(n<0)return;let s=e(t[n]);if(!s)return;let{pos:r,size:o}=s;for(;--n>=0;){if(s=e(t[n]),!s)continue;[r,o]=nc(r,o,s.pos,s.size)}return[r,o]},ne=F.defmulti(x);ne.addAll({[d.Type.ARC]:t=>or(...er.bounds(t.pos,t.r,t.axis,t.start,t.end)),[d.Type.CIRCLE]:t=>new te(S.subN2([],t.pos,t.r),S.mulN2(null,[2,2],t.r)),[d.Type.CUBIC]:({points:t})=>or(...kt.cubicBounds(t[0],t[1],t[2],t[3])),[d.Type.ELLIPSE]:t=>new te(S.sub2([],t.pos,t.r),S.mul2(null,[2,2],t.r)),[d.Type.GROUP]:t=>{const e=Io(t.children,ne);return e?new te(...e):void 0},[d.Type.LINE]:({points:[t,e]})=>or(S.min([],t,e),S.max([],t,e)),[d.Type.PATH]:t=>{const e=Io([...Lt.iterator1(Lt.comp(Lt.map(n=>n.geo),Lt.filter(n=>!!n)),t.segments)],ne);return e?new te(...e):void 0},[d.Type.POINTS]:t=>or(...Re.bounds(t.points,S.set2([],S.MAX2),S.set2([],S.MIN2))),[d.Type.POINTS3]:t=>T1(...Re.bounds(t.points,S.set3([],S.MAX3),S.set3([],S.MIN3))),[d.Type.QUADRATIC]:({points:t})=>or(...kt.quadraticBounds(t[0],t[1],t[2])),[d.Type.RECT]:t=>t.copy(),[d.Type.TEXT]:t=>new te(S.set2([],t.pos),[0,0])});ne.isa(d.Type.AABB,d.Type.RECT);ne.isa(d.Type.POLYGON,d.Type.POINTS);ne.isa(d.Type.POLYLINE,d.Type.POINTS);ne.isa(d.Type.QUAD,d.Type.POINTS);ne.isa(d.Type.TRIANGLE,d.Type.POINTS);const WY=(...t)=>t.map(e=>uY.serialize(Fn.convertTree(e))).join(""),KY=(t,...e)=>{if(e.length>0&&(!t||!t.viewBox)){const n=Io(e,ne);if(n){const[[s,r],[o,i]]=n;t=Object.assign({width:Fn.ff(o),height:Fn.ff(i),viewBox:`${Fn.ff(s)} ${Fn.ff(r)} ${Fn.ff(o)} ${Fn.ff(i)}`},t)}}return Fn.svg(t,...e)},It=F.defmulti(x);It.addAll({[d.Type.CIRCLE]:(t,e)=>S.set(e||[],t.pos),[d.Type.GROUP]:t=>{const e=ne(t);return e?It(e):void 0},[d.Type.LINE]:({points:t},e)=>S.mixN(e||[],t[0],t[1],.5),[d.Type.POINTS]:(t,e)=>Re.centroid(t.points,e),[d.Type.PLANE]:(t,e)=>S.mulN(e||[],t.normal,t.w),[d.Type.POLYGON]:(t,e)=>Re.centerOfWeight2(t.points,e),[d.Type.RECT]:(t,e)=>S.maddN(e||[],t.size,.5,t.pos),[d.Type.TRIANGLE]:({points:t},e)=>S.divN(null,S.add(null,S.add(e||[],t[0],t[1]),t[2]),3)});It.isa(d.Type.ARC,d.Type.CIRCLE);It.isa(d.Type.AABB,d.Type.RECT);It.isa(d.Type.ELLIPSE,d.Type.CIRCLE);It.isa(d.Type.LINE3,d.Type.LINE);It.isa(d.Type.POINTS3,d.Type.POINTS);It.isa(d.Type.POLYLINE,d.Type.POINTS);It.isa(d.Type.QUAD,d.Type.POLYGON);It.isa(d.Type.SPHERE,d.Type.CIRCLE);It.isa(d.Type.TEXT,d.Type.CIRCLE);It.isa(d.Type.TRIANGLE3,d.Type.TRIANGLE);const q1=(t,e)=>t.map(n=>S.add([],n,e)),Zn=t=>(e,n)=>new t(q1(e.points,n),U(e)),wo=F.defmulti(x);wo.addAll({[d.Type.AABB]:(t,e)=>new Ss(S.add3([],t.pos,e),S.set3([],t.size),U(t)),[d.Type.ARC]:(t,e)=>{const n=t.copy();return S.add2(null,n.pos,e),n},[d.Type.CIRCLE]:(t,e)=>new Xn(S.add2([],t.pos,e),t.r,U(t)),[d.Type.ELLIPSE]:(t,e)=>new go(S.add2([],t.pos,e),S.set2([],t.r),U(t)),[d.Type.GROUP]:(t,e)=>new xn(U(t),t.children.map(n=>wo(n,e))),[d.Type.LINE]:Zn(we),[d.Type.PATH]:(t,e)=>new Ue(t.segments.map(n=>n.geo?{type:n.type,geo:wo(n.geo,e)}:{type:n.type,point:S.add2([],n.point,e)}),U(t)),[d.Type.POINTS]:Zn(nr),[d.Type.POINTS3]:Zn(sr),[d.Type.POLYGON]:Zn(xt),[d.Type.POLYLINE]:Zn(zt),[d.Type.QUAD]:Zn(bs),[d.Type.RAY]:(t,e)=>new Wi(S.add2([],t.pos,e),t.dir,U(t)),[d.Type.RECT]:(t,e)=>new te(S.add2([],t.pos,e),S.set2([],t.size),U(t)),[d.Type.SPHERE]:(t,e)=>new Ki(S.add3([],t.pos,e),t.r,U(t)),[d.Type.TEXT]:(t,e)=>new So(S.add2([],t.pos,e),t.body,U(t)),[d.Type.TRIANGLE]:Zn(Ns)});const sc=F.defmulti(x);sc.add(F.DEFAULT,(t,e=S.ZERO3)=>{const n=It(t);return n?wo(t,S.submN(null,n,e,-1)):void 0});sc.addAll({[d.Type.ARC]:(t,e=S.ZERO2)=>new Hn(S.set2([],e),S.set2([],t.r),t.axis,t.start,t.end,t.xl,t.cw,U(t)),[d.Type.CIRCLE]:(t,e=S.ZERO2)=>new Xn(S.set2([],e),t.r,U(t)),[d.Type.ELLIPSE]:(t,e=S.ZERO2)=>new go(S.set2([],e),S.set2([],t.r),U(t)),[d.Type.SPHERE]:(t,e=S.ZERO3)=>new Ki(S.set3([],e),t.r,U(t))});const Gl=F.defmulti(x);Gl.addAll({[d.Type.CIRCLE]:(t,e,n=$.EPS)=>Rt.classifyPointInCircle(e,t.pos,t.r,n),[d.Type.PLANE]:(t,e,n)=>$.sign(S.dot(t.normal,e)-t.w,n),[d.Type.TRIANGLE]:({points:t},e,n=$.EPS)=>Rt.classifyPointInTriangle2(e,t[0],t[1],t[2],n)});Gl.isa(d.Type.SPHERE,d.Type.CIRCLE);const Qn=F.defmulti(x);Qn.addAll({[d.Type.GROUP]:({children:t,attribs:e},n)=>{n=bo(n);const s=[];for(let r of t){const o=Qn(r,n);o&&s.push(o)}return new xn(Object.assign({},e),s)},[d.Type.LINE]:(t,e)=>{const n=kl.clipLineSegmentPoly(t.points[0],t.points[1],bo(e));return n&&n.length?new we(n[0],U(t)):void 0},[d.Type.POLYGON]:(t,e)=>{e=bo(e);const n=b1.sutherlandHodgeman(t.points,e,Re.centroid(e));return n.length?new xt(n,U(t)):void 0},[d.Type.RECT]:(t,e)=>{e=bo(e);const n=b1.sutherlandHodgeman(ut(t),e,Re.centroid(e));return n.length?new xt(n,U(t)):void 0}});Qn.isa(d.Type.CIRCLE,d.Type.RECT);Qn.isa(d.Type.ELLIPSE,d.Type.RECT);Qn.isa(d.Type.PATH,d.Type.RECT);Qn.isa(d.Type.QUAD,d.Type.POLYGON);Qn.isa(d.Type.TRIANGLE,d.Type.POLYGON);const Co=F.defmulti(x);Co.addAll({[d.Type.AABB]:(t,e,n)=>fn.closestPointAABB(e,t.pos,S.add3([],t.pos,t.size),n),[d.Type.ARC]:(t,e,n)=>er.closestPoint(e,t.pos,t.r,t.axis,t.start,t.end,n),[d.Type.CIRCLE]:(t,e,n)=>fn.closestPointCircle(e,t.pos,t.r,n),[d.Type.CUBIC]:({points:t},e,n)=>kt.closestPointCubic(e,t[0],t[1],t[2],t[3],n),[d.Type.LINE]:({points:t},e,n)=>fn.closestPointSegment(e,t[0],t[1],n),[d.Type.PLANE]:(t,e,n)=>fn.closestPointPlane(e,t.normal,t.w,n),[d.Type.POINTS]:(t,e,n)=>fn.closestPointArray(e,t.points,n),[d.Type.POLYGON]:(t,e,n)=>fn.closestPointPolyline(e,t.points,!0,n),[d.Type.POLYLINE]:(t,e,n)=>fn.closestPointPolyline(e,t.points,!1,n),[d.Type.QUADRATIC]:({points:t},e,n)=>kt.closestPointQuadratic(e,t[0],t[1],t[2],n),[d.Type.RECT]:(t,e,n)=>fn.closestPointRect(e,t.pos,S.add2([],t.pos,t.size),n)});Co.isa(d.Type.QUAD,d.Type.POLYGON);Co.isa(d.Type.SPHERE,d.Type.CIRCLE);Co.isa(d.Type.TRIANGLE,d.Type.POLYGON);const Wn=F.defmulti(x);Wn.addAll({[d.Type.GROUP]:t=>new xt(ut(t),U(t)),[d.Type.POINTS]:t=>new xt(dY.grahamScan2(t.points),U(t)),[d.Type.TRIANGLE]:t=>t.copy()});Wn.isa(d.Type.CIRCLE,d.Type.TRIANGLE);Wn.isa(d.Type.ELLIPSE,d.Type.TRIANGLE);Wn.isa(d.Type.POLYGON,d.Type.POINTS);Wn.isa(d.Type.POLYLINE,d.Type.POINTS);Wn.isa(d.Type.QUAD,d.Type.POINTS);Wn.isa(d.Type.RECT,d.Type.TRIANGLE);const rc=(t,e=!1)=>Lt.partition(2,1,e?Lt.wrapSides(t,0,1):t),Eo=F.defmulti(x);Eo.addAll({[d.Type.AABB]:t=>{const[e,n,s,r,o,i,a,l]=ut(t);return[[e,n],[n,s],[s,r],[r,e],[o,i],[i,a],[a,l],[l,o],[e,o],[n,i],[s,a],[r,l]]},[d.Type.POLYGON]:t=>rc(t.points,!0),[d.Type.POLYLINE]:t=>rc(t.points),[d.Type.RECT]:t=>rc(ut(t),!0)});Eo.isa(d.Type.LINE,d.Type.POLYLINE);Eo.isa(d.Type.QUAD,d.Type.POLYGON);Eo.isa(d.Type.TRIANGLE,d.Type.POLYGON);const Po=F.defmulti(x);Po.addAll({[d.Type.RECT]:(t,e,n=[])=>S.div(null,S.sub(n,e,t.pos),t.size)});Po.isa(d.Type.AABB,d.Type.RECT);const k1=(t,e,n=Et.mulV)=>(t.forEach(s=>n(null,e,s)),t),Yl=(t,e,n=Et.mulV)=>t.map(s=>n([],e,s)),JY=(t,e,n=Et.mulV)=>(t.forEach(s=>n(null,e(s),s)),t),zl=(t,e,n=Et.mulV)=>t.map(s=>n([],e(s),s)),Pn=t=>(e,n)=>new t(Yl(e.points,n),U(e)),On=t=>(e,n)=>new t(zl(e.points,n),U(e)),tz=(t,e)=>k1(t,e,Et.mulV344),B1=(t,e)=>Yl(t,e,Et.mulV344),D1=(t,e)=>zl(t,e,Et.mulV344),G1=t=>(e,n)=>new t(B1(e.points,n),U(e)),Y1=t=>(e,n)=>new t(D1(e.points,n),U(e)),pn=F.defmulti(x);pn.addAll({[d.Type.ARC]:(t,e)=>pn(_1(t),e),[d.Type.CUBIC]:Pn(ve),[d.Type.GROUP]:(t,e)=>new xn(U(t),t.children.map(n=>pn(n,e))),[d.Type.LINE]:Pn(we),[d.Type.PATH]:(t,e)=>new Ue([...Lt.map(n=>n.type===d.SegmentType.MOVE?{type:n.type,point:Et.mulV([],e,n.point)}:{type:n.type,geo:pn(n.geo,e)},t.segments)],U(t)),[d.Type.POINTS]:Pn(nr),[d.Type.POINTS3]:G1(sr),[d.Type.POLYGON]:Pn(xt),[d.Type.POLYLINE]:Pn(zt),[d.Type.QUAD]:Pn(bs),[d.Type.QUADRATIC]:Pn(Cn),[d.Type.RECT]:(t,e)=>pn(ee(t),e),[d.Type.TEXT]:(t,e)=>new So(Et.mulV([],e,t.pos),t.body,U(t)),[d.Type.TRIANGLE]:Pn(Ns)});pn.isa(d.Type.CIRCLE,d.Type.ARC);pn.isa(d.Type.ELLIPSE,d.Type.CIRCLE);const ir=F.defmulti(x);ir.addAll({[d.Type.QUAD]:({points:t},e,n=[])=>S.mixBilinear(n,t[0],t[1],t[3],t[2],e[0],e[1]),[d.Type.RECT]:(t,e,n=[])=>S.madd(n,t.size,e,t.pos)});ir.isa(d.Type.AABB,d.Type.RECT);ir.isa(d.Type.QUAD3,d.Type.QUAD);const jl=(t,e,n,s,r,o)=>pn(n,Et.concat([],t([],r),e([],o),t([],s))),ez=(t,e)=>{const n=ne(t);if(!n)return;const s=It(n);return s?jl(Et.translation23,Et.scale23,t,S.neg(null,s),It(e),$.minNonZero2($.safeDiv(e.size[0],n.size[0]),$.safeDiv(e.size[1],n.size[1]))):void 0},nz=(t,e)=>{const n=ne(t);if(!n)return;const s=It(n);return s?jl(Et.translation44,Et.scale44,t,S.neg(null,s),It(e),$.minNonZero3($.safeDiv(e.size[0],n.size[0]),$.safeDiv(e.size[1],n.size[1]),$.safeDiv(e.size[2],n.size[2]))):void 0},sz=(t,e)=>{const n=Io(t,ne);if(!n)return;const s=new te(...n),r=$.safeDiv(e.size[0],s.size[0]),o=$.safeDiv(e.size[1],s.size[1]),i=r>0?o>0?Math.min(r,o):r:o,a=Et.scale23([],i),l=sc(pn(s,a),It(e)),u=[],f=[],y=[];for(let b=t.length;--b>=0;){const T=t[b],I=It(T,u);I?(ir(l,Po(s,I),f),y.push(jl(Et.translation23,Et.scale23,T,S.neg(null,u),f,a))):y.push(T)}return y},ke=F.defmulti(x);ke.add(F.DEFAULT,t=>t);ke.addAll({[d.Type.ARC]:t=>{const e=t.start;return t.start=t.end,t.end=e,t.cw=!t.cw,t},[d.Type.GROUP]:t=>(t.children.forEach(ke),t),[d.Type.PATH]:t=>t,[d.Type.POINTS]:t=>(t.points.reverse(),t),[d.Type.RAY]:t=>(t.dir=S.neg(null,t.dir),t)});ke.isa(d.Type.CUBIC,d.Type.POINTS);ke.isa(d.Type.LINE,d.Type.POINTS);ke.isa(d.Type.POINTS3,d.Type.POINTS);ke.isa(d.Type.POLYGON,d.Type.POINTS);ke.isa(d.Type.POLYLINE,d.Type.POINTS);ke.isa(d.Type.QUAD,d.Type.POINTS);ke.isa(d.Type.QUADRATIC,d.Type.POINTS);ke.isa(d.Type.TRIANGLE,d.Type.POINTS);const cr=F.defmulti(CY);cr.addAll({[`${d.Type.CIRCLE}-${d.Type.CIRCLE}`]:(t,e)=>Rt.intersectCircleCircle(t.pos,e.pos,t.r,e.r),[`${d.Type.LINE}-${d.Type.LINE}`]:({points:t},{points:e})=>Rt.intersectLineLine(t[0],t[1],e[0],e[1]),[`${d.Type.PLANE}-${d.Type.PLANE}`]:(t,e)=>Rt.intersectPlanePlane(t.normal,t.w,e.normal,e.w),[`${d.Type.RAY}-${d.Type.AABB}`]:(t,e)=>Rt.intersectRayAABB(t.pos,t.dir,e.pos,e.max()),[`${d.Type.RAY}-${d.Type.CIRCLE}`]:(t,e)=>Rt.intersectRayCircle(t.pos,t.dir,e.pos,e.r),[`${d.Type.RAY}-${d.Type.PLANE}`]:(t,e)=>Rt.intersectRayPlane(t.pos,t.dir,e.normal,e.w),[`${d.Type.RAY}-${d.Type.POLYGON}`]:(t,e)=>Rt.intersectRayPolyline(t.pos,t.dir,e.points,!0),[`${d.Type.RAY}-${d.Type.POLYLINE}`]:(t,e)=>Rt.intersectRayPolyline(t.pos,t.dir,e.points,!1),[`${d.Type.RAY}-${d.Type.RECT}`]:(t,e)=>Rt.intersectRayRect(t.pos,t.dir,e.pos,e.max()),[`${d.Type.RECT}-${d.Type.CIRCLE}`]:(t,e)=>({type:Rt.testRectCircle(t.pos,t.size,e.pos,e.r)?d.IntersectionType.INTERSECT:d.IntersectionType.NONE}),[`${d.Type.RECT}-${d.Type.RECT}`]:(t,e)=>({type:Rt.testRectRect(t.pos,t.size,e.pos,e.size)?d.IntersectionType.INTERSECT:d.IntersectionType.NONE})});cr.isa(`${d.Type.RAY}-${d.Type.SPHERE}`,`${d.Type.RAY}-${d.Type.CIRCLE}`);cr.isa(`${d.Type.RAY}-${d.Type.QUAD}`,`${d.Type.RAY}-${d.Type.POLYGON}`);cr.isa(`${d.Type.RAY}-${d.Type.TRIANGLE}`,`${d.Type.RAY}-${d.Type.POLYGON}`);cr.isa(`${d.Type.SPHERE}-${d.Type.SPHERE}`,`${d.Type.CIRCLE}-${d.Type.CIRCLE}`);const z1=F.defmulti(x);z1.addAll({[d.Type.CIRCLE]:(t,e)=>new Xn(S.set2([],t.pos),Math.max(t.r+e,0)),[d.Type.LINE]:({points:[t,e],attribs:n},s)=>{const r=S.normalCW([],t,e,s);return new bs([S.add2([],t,r),S.add2([],e,r),S.sub2([],e,r),S.sub2([],t,r)],Object.assign({},n))},[d.Type.RECT]:(t,e)=>U1(It(t),S.max2(null,S.addN2([],t.size,e),S.ZERO2),U(t))});const oc=F.defmulti(x);oc.addAll({[d.Type.ARC]:(t,e)=>t.pointAtTheta($.fit01(e,t.start,t.end)),[d.Type.CIRCLE]:(t,e)=>S.cartesian2(null,[t.r,$.TAU*e],t.pos),[d.Type.CUBIC]:({points:t},e)=>S.mixCubic([],t[0],t[1],t[2],t[3],e),[d.Type.ELLIPSE]:(t,e)=>S.madd2([],$.cossin($.TAU*e),t.r,t.pos),[d.Type.LINE]:({points:t},e)=>S.mixN2([],t[0],t[1],e),[d.Type.POLYGON]:(t,e)=>new Jt.Sampler(t.points,!0).pointAt(e),[d.Type.POLYLINE]:(t,e)=>new Jt.Sampler(t.points).pointAt(e),[d.Type.QUADRATIC]:({points:t},e)=>S.mixQuadratic([],t[0],t[1],t[2],e),[d.Type.RAY]:(t,e)=>S.pointOnRay2([],t.pos,t.dir,e),[d.Type.RAY3]:(t,e)=>S.pointOnRay3([],t.pos,t.dir,e),[d.Type.RECT]:(t,e)=>new Jt.Sampler(ut(t),!0).pointAt(e)});oc.isa(d.Type.QUAD,d.Type.POLYGON);oc.isa(d.Type.TRIANGLE,d.Type.POLYGON);const ar=F.defmulti(x);ar.addAll({[d.Type.AABB]:(t,e)=>Rt.pointInAABB(e,t.pos,t.size),[d.Type.CIRCLE]:(t,e)=>Rt.pointInCircle(e,t.pos,t.r),[d.Type.LINE]:(t,e)=>Rt.pointInSegment(e,t.points[0],t.points[1]),[d.Type.POINTS]:({points:t},e)=>S.isInArray(e,t),[d.Type.POLYGON]:(t,e)=>Rt.pointInPolygon2(e,t.points)>0,[d.Type.RECT]:(t,e)=>Rt.pointInRect(e,t.pos,t.size),[d.Type.TRIANGLE]:(t,e)=>Rt.pointInTriangle2(e,...t.points)});ar.isa(d.Type.POINTS3,d.Type.POINTS);ar.isa(d.Type.QUAD,d.Type.POLYGON);ar.isa(d.Type.SPHERE,d.Type.CIRCLE);const As=F.defmulti(x);As.addAll({[d.Type.CIRCLE]:(t,e)=>ee(t,e),[d.Type.POLYGON]:(t,e)=>new xt(Jt.resample(t.points,e,!0,!0),U(t)),[d.Type.POLYLINE]:(t,e)=>new zt(Jt.resample(t.points,e,!1,!0),U(t))});As.isa(d.Type.ELLIPSE,d.Type.CIRCLE);As.isa(d.Type.LINE,d.Type.POLYLINE);As.isa(d.Type.QUAD,d.Type.POLYGON);As.isa(d.Type.TRIANGLE,d.Type.POLYGON);As.isa(d.Type.RECT,d.Type.CIRCLE);const rz=(t,e,n=fY.SYSTEM,s=[])=>{const r=ne(t);if(!r)return;const o=r.pos,i=r.max();for(;--e>=0;)for(;;){const a=S.randMinMax([],o,i,n);if(ar(t,a)){s.push(a);break}}return s},j1=F.defmulti(x);j1.addAll({[d.Type.PATH]:(t,e=.1)=>{const n=[],s=t.segments,r=s.length;let o,i;for(let a=0;a<r;a++){const l=s[a];l.type===d.SegmentType.LINE||l.type===d.SegmentType.POLYLINE?(o=o?o.concat(ut(l.geo)):ut(l.geo),i=xi.peek(o)):o?(o.push(i),n.push({geo:new zt(Jt.simplify(o,e)),type:d.SegmentType.POLYLINE}),o=null):n.push(Object.assign({},l))}return o&&(o.push(i),n.push({geo:new zt(o),type:d.SegmentType.POLYLINE})),new Ue(n,U(t))},[d.Type.POLYGON]:(t,e=.1)=>new xt(Jt.simplify(t.points,e,!0),U(t)),[d.Type.POLYLINE]:(t,e=.1)=>new zt(Jt.simplify(t.points,e),U(t))});const $l=(t,e,n)=>e?[...Lt.map(s=>new t(S.copyVectors(s),Object.assign({},n)),e)]:void 0,Vl=(t,e,n)=>{const s=S.mixN([],t,e,n);return[[t,s],[S.set([],s),e]]},$1=F.defmulti(x);$1.addAll({[d.Type.ARC]:(t,e)=>{const n=$.fit01(e,t.start,t.end);return[new Hn(S.set([],t.pos),S.set([],t.r),t.axis,t.start,n,t.xl,t.cw,U(t)),new Hn(S.set([],t.pos),S.set([],t.r),t.axis,n,t.end,t.xl,t.cw,U(t))]},[d.Type.CUBIC]:({attribs:t,points:e},n)=>kt.cubicSplitAt(e[0],e[1],e[2],e[3],n).map(s=>new ve(s,Object.assign({},t))),[d.Type.LINE]:({attribs:t,points:e},n)=>Vl(e[0],e[1],n).map(s=>new we(s,Object.assign({},t))),[d.Type.POLYLINE]:(t,e)=>$l(zt,new Jt.Sampler(t.points).splitAt(e),t.attribs),[d.Type.QUADRATIC]:({attribs:t,points:e},n)=>kt.quadraticSplitAt(e[0],e[1],e[2],n).map(s=>new Cn(s,Object.assign({},t)))});const V1=F.defmulti(x);V1.addAll({[d.Type.CUBIC]:({points:t,attribs:e},n)=>kt.splitCubicNearPoint(n,t[0],t[1],t[2],t[3]).map(s=>new ve(s,Object.assign({},e))),[d.Type.LINE]:(t,e)=>{const n=fn.closestT(e,t.points[0],t.points[1])||0;return Vl(t.points[0],t.points[1],$.clamp01(n)).map(s=>new we(s,U(t)))},[d.Type.POLYLINE]:(t,e)=>$l(zt,new Jt.Sampler(t.points).splitNear(e),t.attribs),[d.Type.QUADRATIC]:({points:t,attribs:e},n)=>kt.quadraticSplitNearPoint(n,t[0],t[1],t[2]).map(s=>new Cn(s,Object.assign({},e)))});const F1=F.defmulti(x);F1.addAll({[d.Type.POLYGON]:(t,e,n=1)=>new xt(N1.subdivide(t.points,e,n),U(t)),[d.Type.POLYLINE]:(t,e,n=1)=>new zt(N1.subdivide(t.points,e,n),U(t))});const ic=F.defmulti(x);ic.addAll({[d.Type.CIRCLE]:(t,e)=>$.cossin($.TAU*e+$.HALF_PI),[d.Type.LINE]:({points:t})=>S.direction([],t[0],t[1]),[d.Type.POLYGON]:(t,e)=>new Jt.Sampler(t.points,!0).tangentAt(e),[d.Type.POLYLINE]:(t,e)=>new Jt.Sampler(t.points).tangentAt(e),[d.Type.RECT]:(t,e)=>new Jt.Sampler(ut(t),!0).tangentAt(e)});ic.isa(d.Type.QUAD,d.Type.POLYGON);ic.isa(d.Type.TRIANGLE,d.Type.POLYGON);const H1=F.defmulti(x);H1.add(F.DEFAULT,(t,e)=>pY.tessellate(ut(t),e));const Kn=F.defmulti(x);Kn.addAll({[d.Type.ARC]:(t,e)=>Kn(qe(t),e),[d.Type.CUBIC]:On(ve),[d.Type.GROUP]:(t,e)=>new xn(U(t),t.children.map(n=>Kn(n,e))),[d.Type.LINE]:On(we),[d.Type.PATH]:(t,e)=>new Ue([...Lt.map(n=>n.type===d.SegmentType.MOVE?{type:n.type,point:Et.mulV([],e(n.point),n.point)}:{type:n.type,geo:Kn(n.geo,e)},t.segments)],U(t)),[d.Type.POINTS]:On(nr),[d.Type.POINTS3]:Y1(sr),[d.Type.POLYGON]:On(xt),[d.Type.POLYLINE]:On(zt),[d.Type.QUAD]:On(bs),[d.Type.QUADRATIC]:On(Cn),[d.Type.RECT]:(t,e)=>Kn(ee(t),e),[d.Type.TRIANGLE]:On(Ns)});Kn.isa(d.Type.CIRCLE,d.Type.RECT);Kn.isa(d.Type.ELLIPSE,d.Type.CIRCLE);const X1=F.defmulti(x);X1.addAll({[d.Type.AABB]:(t,e)=>[new Ss(...nc(t.pos,t.size,e.pos,e.size))],[d.Type.RECT]:(t,e)=>[new te(...nc(t.pos,t.size,e.pos,e.size))]});const Fl=F.defmulti(x);Fl.add(F.DEFAULT,()=>0);Fl.addAll({[d.Type.AABB]:({size:t})=>t[0]*t[1]*t[2],[d.Type.SPHERE]:t=>4/3*$.PI*t.r**3});const oz=(t,e,n)=>{const s=[];for(let r=t.length,o=0;o<r;o++)s.push(ir(e,Po(n,t[o])));return s},iz=(t,e,n=!0)=>(t.attribs=n?e:Object.assign(Object.assign({},t.attribs),e),t);A.AABB=Ss;A.APC=tn;A.Arc=Hn;A.Circle=Xn;A.Cubic=ve;A.Ellipse=go;A.Group=xn;A.Line=we;A.Path=Ue;A.PathBuilder=tc;A.Plane=Zi;A.Points=nr;A.Points3=sr;A.Polygon=xt;A.Polyline=zt;A.Quad=bs;A.Quad3=Qi;A.Quadratic=Cn;A.Ray=Wi;A.Rect=te;A.Sphere=Ki;A.Text=So;A.Triangle=Ns;A.aabb=A1;A.aabbFromMinMax=T1;A.arc=I1;A.arcFrom2Points=w1;A.arcLength=Ao;A.area=To;A.asCubic=En;A.asPath=_1;A.asPolygon=ee;A.asPolyline=qe;A.asSvg=WY;A.bounds=ne;A.center=sc;A.centroid=It;A.circle=gY;A.circleFrom2Points=SY;A.circleFrom3Points=bY;A.classifyPoint=Gl;A.clipConvex=Qn;A.clippedLine=wY;A.closestPoint=Co;A.collBounds=Io;A.convexHull=Wn;A.copyAttribs=U;A.copyShape=en;A.cubic=NY;A.cubicFromArc=C1;A.cubicFromLine=E1;A.cubicFromQuadratic=P1;A.edgeIterator=rc;A.edges=Eo;A.ellipse=AY;A.ensureVertices=bo;A.equilateralTriangle=QY;A.fitAllIntoBounds2=sz;A.fitIntoBounds2=ez;A.fitIntoBounds3=nz;A.flip=ke;A.group=TY;A.inscribedAABB=yY;A.inscribedSquare=HY;A.inscribedSquareHex=XY;A.intersectionAABB=hY;A.intersectionRect=FY;A.intersects=cr;A.line=IY;A.mapPoint=Po;A.normalizedPath=OY;A.offset=z1;A.path=PY;A.pathBuilder=EY;A.pathFromCubics=L1;A.pathFromSvg=RY;A.pclike=rr;A.plane=vY;A.planeFrom3Points=UY;A.planeWithPoint=v1;A.pointArraysAsShapes=$l;A.pointAt=oc;A.pointInside=ar;A.points=_Y;A.points3=qY;A.polygon=kY;A.polyline=DY;A.quad=GY;A.quad3=YY;A.quadOnPlane=zY;A.quadratic=jY;A.quadraticFromLine=$Y;A.ray=VY;A.rect=Dl;A.rectFromCentroid=U1;A.rectFromMinMax=or;A.resample=As;A.roundedRect=MY;A.scatter=rz;A.simplify=j1;A.splitAt=$1;A.splitLine=Vl;A.splitNearPoint=V1;A.star=BY;A.subdivCurve=F1;A.svgDoc=KY;A.tangentAt=ic;A.tessellate=H1;A.text=xY;A.transform=pn;A.transformPoints=k1;A.transformPoints3=tz;A.transformPointsWith=JY;A.transformVertices=Kn;A.transformedPoints=Yl;A.transformedPoints3=B1;A.transformedPointsWith=zl;A.transformedPointsWith3=D1;A.transformedShape=Pn;A.transformedShape3=G1;A.transformedShapePoints=On;A.transformedShapePoints3=Y1;A.translate=wo;A.translatedPoints=q1;A.translatedShape=Zn;A.triangle=ZY;A.union=X1;A.unionBounds=nc;A.unmapPoint=ir;A.vertices=ut;A.volume=Fl;A.warpPoints=oz;A.withAttribs=iz});var h2=D(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});var cc=Wt(),Oo=Zt(),Z1=Ol();const Mo=(t,e)=>{let n;(n=e.fill)&&n!=="none"&&t.fill(),(n=e.stroke)&&n!=="none"&&t.stroke(),(n=e.clip)&&t.clip(n===!0?"nonzero":n)},Hl=(t,e,n,s,r=0,o=cc.TAU,i=!1)=>{t.beginPath(),t.arc(n[0],n[1],s,r,o,i),Mo(t,e)},Q1=(t,e,n,s,r=0,o=0,i=cc.TAU,a=!1)=>{t.beginPath(),t.ellipse(n[0],n[1],s[0],s[1],r,o,i,a),Mo(t,e)},Xl=t=>Oo.isString(t)?t:Z1.resolveAsCSS(t),W1=(t,e)=>Oo.isString(e)?e[0]==="$"?t.grads[e.substr(1)]:e:Z1.resolveAsCSS(e),K1=(t,{from:e,to:n},s)=>{const r=t.createLinearGradient(e[0],e[1],n[0],n[1]);for(let o of s)r.addColorStop(o[0],Xl(o[1]));return r},J1=(t,{from:e,to:n,r1:s,r2:r},o)=>{const i=t.createRadialGradient(e[0],e[1],s,n[0],n[1],r);for(let a of o)i.addColorStop(a[0],Xl(a[1]));return i},t2=(t,e,{width:n,height:s},r,o,i,a)=>{n=n||r.width,s=s||r.height,i?t.drawImage(r,i[0],i[1],a?a[0]:n,a?a[1]:s,o[0],o[1],n,s):t.drawImage(r,o[0],o[1],n,s)},ac=(t,e,n,s)=>{if(e.stroke==="none")return;t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(s[0],s[1]),t.stroke()},e2=(t,e,n)=>{if(e.stroke==="none")return;t.beginPath();for(let{0:s,1:r}of n)t.moveTo(s[0],s[1]),t.lineTo(r[0],r[1]);t.stroke()},s2=(t,e,n,s)=>{let r;(r=e.fill)&&r!=="none"&&n2(t,n,s,"fill","fillRect"),(r=e.stroke)&&r!=="none"&&n2(t,n,s,"stroke","strokeRect")},n2=(t,e,n,s,r)=>{const{start:o,cstride:i,estride:a,size:l}=Object.assign({start:0,cstride:1,estride:2,size:1},e);let u=e&&e.num!=null?e.num:(n.length-o)/a|0;if(e.shape==="circle")for(let f=o;--u>=0;f+=a)t.beginPath(),t.arc(n[f],n[f+i],l,0,cc.TAU),t[s]();else{const f=l/2;for(let y=o;--u>=0;y+=a)t[r](n[y]-f,n[y+i]-f,l,l)}},xl=(t,e,n)=>{t.beginPath();let s=[0,0];for(let r=0,o=n.length;r<o;r++){const i=n[r];let a=i[1],l,u;switch(i[0]){case"m":a=[s[0]+a[0],s[1]+a[1]];case"M":t.moveTo(a[0],a[1]),s=a;break;case"l":a=[s[0]+a[0],s[1]+a[1]];case"L":t.lineTo(a[0],a[1]),s=a;break;case"h":a=[s[0]+a,s[1]],t.lineTo(a[0],a[1]),s=a;break;case"H":a=[a,s[1]],t.lineTo(a[0],a[1]),s=a;break;case"v":a=[s[0],s[1]+a],t.lineTo(a[0],a[1]),s=a;break;case"V":a=[s[0],a],t.lineTo(a[0],a[1]),s=a;break;case"c":l=i[2],u=i[3],u=[s[0]+u[0],s[1]+u[1]],t.bezierCurveTo(s[0]+a[0],s[1]+a[1],s[0]+l[0],s[1]+l[1],u[0],u[1]),s=u;break;case"C":l=i[2],u=i[3],t.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1]),s=u;break;case"q":l=i[2],l=[s[0]+l[0],s[1]+l[1]],t.quadraticCurveTo(s[0]+a[0],s[1]+a[1],l[0],l[1]),s=l;break;case"Q":l=i[2],t.quadraticCurveTo(a[0],a[1],l[0],l[1]),s=l;break;case"a":l=i[2],l=[s[0]+l[0],s[1]+l[1]],t.arcTo(s[0]+a[0],s[1]+a[1],l[0],l[1],i[3]),s=l;break;case"A":l=i[2],t.arcTo(a[0],a[1],l[0],l[1],i[3]),s=l;break;case"z":case"Z":t.closePath()}}Mo(t,e)},o2=(t,e,n,s)=>{let r;(r=e.fill)&&r!=="none"&&r2(t,n,s,"fill","fillRect"),(r=e.stroke)&&r!=="none"&&r2(t,n,s,"stroke","strokeRect")},r2=(t,e,n,s,r)=>{const o=e&&e.size||1;if(e.shape==="circle")for(let i of n)t.beginPath(),t.arc(i[0],i[1],o,0,cc.TAU),t[s]();else{const i=o/2;for(let a of n)t[r](a[0]-i,a[1]-i,o,o)}},i2=(t,e,n)=>{if(n.length<2)return;Zl(t,n),t.closePath(),Mo(t,e)},Zl=(t,e)=>{let n=e[0];t.beginPath(),t.moveTo(n[0],n[1]);for(let s=1,r=e.length;s<r;s++)n=e[s],t.lineTo(n[0],n[1])},c2=(t,e,n)=>{if(n.length<2||e.stroke=="none")return;Zl(t,n),t.stroke()},a2=(t,e,n,s,r,o=0)=>{let i;if(o>0)return o=Math.min(Math.min(s,r)/2,o),s-=2*o,r-=2*o,xl(t,e,[["M",[n[0]+o,n[1]]],["h",s],["a",[o,0],[o,o],o],["v",r],["a",[0,o],[-o,o],o],["h",-s],["a",[-o,0],[-o,-o],o],["v",-r],["a",[0,-o],[o,-o],o]]);(i=e.fill)&&i!=="none"&&t.fillRect(n[0],n[1],s,r),(i=e.stroke)&&i!=="none"&&t.strokeRect(n[0],n[1],s,r)},cz={align:"left",alpha:1,baseline:"alphabetic",compose:"source-over",dash:[],dashOffset:0,direction:"inherit",fill:"#000",filter:"none",font:"10px sans-serif",lineCap:"butt",lineJoin:"miter",miterLimit:10,shadowBlur:0,shadowColor:"rgba(0,0,0,0)",shadowX:0,shadowY:0,smooth:!0,stroke:"#000",weight:1},l2={align:"textAlign",alpha:"globalAlpha",baseline:"textBaseline",clip:"clip",compose:"globalCompositeOperation",dash:"setLineDash",dashOffset:"lineDashOffset",direction:"direction",fill:"fillStyle",filter:"filter",font:"font",lineCap:"lineCap",lineJoin:"lineJoin",miterLimit:"miterLimit",shadowBlur:"shadowBlur",shadowColor:"shadowColor",shadowX:"shadowOffsetX",shadowY:"shadowOffsetY",smooth:"imageSmoothingEnabled",stroke:"strokeStyle",weight:"lineWidth"},u2=(t,e=!1)=>({attribs:Object.assign({},t.attribs),grads:Object.assign({},t.grads),edits:[],restore:e}),f2=(t,e,n)=>{let s;if(!n)return;az(t,n)&&(s=u2(e,!0));for(let r in n){const o=l2[r];if(o){const i=n[r];i!=null&&e.attribs[r]!==i&&(!s&&(s=u2(e)),s.attribs[r]=i,s.edits.push(r),d2(t,e,r,o,i))}}return s},p2=(t,e,n)=>{if(n.restore){t.restore();return}const s=n.edits,r=e.attribs;for(let o=s.length;--o>=0;){const i=s[o],a=r[i];d2(t,e,i,l2[i],a??cz[i])}},Ql=(t,e,n)=>{!t.grads&&(t.grads={}),t.grads[e]=n},d2=(t,e,n,s,r)=>{switch(n){case"fill":case"stroke":case"shadowColor":t[s]=W1(e,r);break;case"dash":t[s].call(t,r);break;case"clip":break;default:t[s]=r}},az=(t,e)=>{let n;return(n=e.transform)||e.setTransform||e.translate||e.scale||e.rotate?(t.save(),n?t.transform(n[0],n[1],n[2],n[3],n[4],n[5]):(n=e.setTransform)?t.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]):((n=e.translate)&&t.translate(n[0],n[1]),(n=e.rotate)&&t.rotate(n),(n=e.scale)&&(Oo.isArrayLike(n)?t.scale(n[0],n[1]):t.scale(n,n))),!0):!1},m2=(t,e,n,s,r)=>{let o;(o=e.fill)&&o!=="none"&&t.fillText(s.toString(),n[0],n[1],r),(o=e.stroke)&&o!=="none"&&t.strokeText(s.toString(),n[0],n[1],r)},lc=(t,e,n={attribs:{},edits:[]})=>{if(!e)return;if(Oo.implementsFunction(e,"toHiccup")){lc(t,e.toHiccup(),n);return}if(Oo.isArray(e[0])){for(let o of e)lc(t,o,n);return}const s=f2(t,n,e[1]),r=s?s.attribs:n.attribs;if(r.__skip)return;switch(e[0]){case"g":case"defs":lz(t,s,n,e);break;case"linearGradient":Ql(n,e[1].id,K1(t,e[1],e[2]));break;case"radialGradient":Ql(n,e[1].id,J1(t,e[1],e[2]));break;case"points":o2(t,r,e[1],e[2]);break;case"packedPoints":s2(t,r,e[1],e[2]);break;case"line":ac(t,r,e[2],e[3]);break;case"lines":e2(t,r,e[2]);break;case"hline":ac(t,r,[-1e6,e[2]],[1e6,e[2]]);break;case"vline":ac(t,r,[e[2],-1e6],[e[2],1e6]);break;case"polyline":c2(t,r,e[2]);break;case"polygon":i2(t,r,e[2]);break;case"path":xl(t,r,e[2]);break;case"rect":a2(t,r,e[2],e[3],e[4],e[5]);break;case"circle":Hl(t,r,e[2],e[3]);break;case"ellipse":Q1(t,r,e[2],e[3],e[4],e[5],e[6]);break;case"arc":Hl(t,r,e[2],e[3],e[4],e[5]);break;case"text":m2(t,r,e[2],e[3],e[4]);break;case"img":t2(t,r,e[1],e[2],e[3],e[4],e[5])}s&&p2(t,n,s)},lz=(t,e,n,s)=>{const r=s.length,o=s[0]==="g"&&e||n;for(let i=2;i<r;i++)lc(t,s[i],o)};dt.__drawPoly=Zl;dt.circularArc=Hl;dt.defLinearGradient=K1;dt.defRadialGradient=J1;dt.draw=lc;dt.ellipticArc=Q1;dt.endShape=Mo;dt.image=t2;dt.line=ac;dt.lines=e2;dt.mergeState=f2;dt.packedPoints=s2;dt.path=xl;dt.points=o2;dt.polygon=i2;dt.polyline=c2;dt.rect=a2;dt.registerGradient=Ql;dt.resolveColor=Xl;dt.resolveGradientOrColor=W1;dt.restoreState=p2;dt.text=m2});var y2=D(lr=>{const uc=x1(),uz=h2();lr.mkRect=t=>({x:e,y:n})=>s=>r=>uc.rect([e,n],[s,r],t);lr.mkCircle=t=>({x:e,y:n})=>s=>uc.circle([e,n],s,t);lr.mkPolygon=t=>e=>uc.polygon(e.map(({x:n,y:s})=>[n,s]),t);lr.mkGroup=t=>e=>uc.group(t,e);lr.renderGeometry=t=>e=>()=>uz.draw(e,t)});var S2=D(g2=>{"use strict";g2.arrayMap=function(t){return function(e){for(var n=e.length,s=new Array(n),r=0;r<n;r++)s[r]=t(e[r]);return s}}});var A2=D((Sj,b2)=>{"use strict";var dz=S2(),N2=function(t){this.map=t},fz=function(t){return t.map},pz=new N2(dz.arrayMap);b2.exports={Functor:N2,map:fz,functorArray:pz}});var I2=D((bj,T2)=>{"use strict";var mz=function(t){return function(e){return function(n){return t(n)(e)}}},hz=function(t){return function(e){return t(e)}};T2.exports={flip:mz,apply:hz}});var C2=D(w2=>{"use strict";w2.unsafeUnionFn=function(t,e){var n={};for(var s in e)({}).hasOwnProperty.call(e,s)&&(n[s]=e[s]);for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}});var P2=D((Aj,E2)=>{"use strict";var yz=C2();E2.exports={unsafeUnionFn:yz.unsafeUnionFn}});var M2=D((Tj,O2)=>{"use strict";var gz=P2(),Sz=function(t){return function(e){return function(n){return function(s){return gz.unsafeUnionFn(n,s)}}}};O2.exports={merge:Sz}});var Wl=D((Ij,L2)=>{"use strict";var bz=I2(),Nz=M2(),R2=function(t){this.withDefaults=t},Az=function(t){return t.withDefaults},Tz=function(t){return function(e){return function(n){return new R2(bz.flip(Nz.merge()()))}}};L2.exports={PartialRow:R2,withDefaults:Az,partialRowUnion:Tz}});var Kl=D((wj,v2)=>{"use strict";var dc=Wl(),Iz=function(t){return t},U2=function(){function t(e,n,s,r){this.value0=e,this.value1=n,this.value2=s,this.value3=r}return t.create=function(e){return function(n){return function(s){return function(r){return new t(e,n,s,r)}}}},t}(),_2=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}(),q2=function(){function t(e,n,s){this.value0=e,this.value1=n,this.value2=s}return t.create=function(e){return function(n){return function(s){return new t(e,n,s)}}},t}(),k2=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Lo={fill:"blue",stroke:"black"},wz=function(t){return function(e){return k2.create(dc.withDefaults(t)(Lo)(e))}},Cz=function(t){return function(e){return _2.create(dc.withDefaults(t)(Lo)(e))}},Ez=function(t){return function(e){return U2.create(dc.withDefaults(t)(Lo)(e))}},Pz=function(t){return function(e){return q2.create(dc.withDefaults(t)(Lo)(e))}};v2.exports={PolygonAttribs:Iz,Rect:U2,Polygon:_2,Circle:q2,Group:k2,rect:Ez,polygon:Cz,circle:Pz,group:wz,defaultAttribs:Lo}});var Y2=D((Cj,B2)=>{"use strict";var Ro=y2(),D2=A2(),fc=Kl(),G2=function(t){if(t instanceof fc.Rect)return Ro.mkRect(t.value0)(t.value1)(t.value2)(t.value3);if(t instanceof fc.Circle)return Ro.mkCircle(t.value0)(t.value1)(t.value2);if(t instanceof fc.Polygon)return Ro.mkPolygon(t.value0)(t.value1);if(t instanceof fc.Group)return Ro.mkGroup(t.value0)(D2.map(D2.functorArray)(G2)(t.value1));throw new Error("Failed pattern match at Lunarflow.Geometry.Foreign (line 17, column 13 - line 21, column 65): "+[t.constructor.name])};B2.exports={fromShape:G2,renderGeometry:Ro.renderGeometry}});var H2=D((Ej,z2)=>{"use strict";var j2=hc(),Oz=su(),$2=au(),V2=Y2(),pc=Kl(),mc=Wl(),F2=V2.fromShape(pc.group(mc.partialRowUnion()()())({stroke:"red"})([pc.polygon(mc.partialRowUnion()()())({fill:"brown"})([{x:100,y:110},{x:140,y:70},{x:200,y:190},{x:350,y:170},{x:190,y:400},{x:100,y:370}]),pc.rect(mc.partialRowUnion()()())({fill:"yellow"})({x:200,y:40})(70)(160),pc.circle(mc.partialRowUnion()()())({fill:"green",stroke:"transparent"})({x:300,y:300})(70)])),Mz=function(){var e=$2.getCanvasElementById("canvas")();if(e instanceof j2.Nothing)return Oz.log("No canvas found")();if(e instanceof j2.Just){var n=$2.getContext2D(e.value0)();return V2.renderGeometry(F2)(n)()}throw new Error("Failed pattern match at Main (line 31, column 3 - line 35, column 34): "+[e.constructor.name])};z2.exports={geometry:F2,main:Mz}});H2().main();})();
